<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>bower_components\c3\extensions\exporter\phantom-exporter.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/fabric.BaseBrush.html">fabric.BaseBrush</a></li>
                                <li><a href="../classes/fabric.Canvas.html">fabric.Canvas</a></li>
                                <li><a href="../classes/fabric.Circle.html">fabric.Circle</a></li>
                                <li><a href="../classes/fabric.CircleBrush.html">fabric.CircleBrush</a></li>
                                <li><a href="../classes/fabric.Color.html">fabric.Color</a></li>
                                <li><a href="../classes/fabric.Element.html">fabric.Element</a></li>
                                <li><a href="../classes/fabric.Ellipse.html">fabric.Ellipse</a></li>
                                <li><a href="../classes/fabric.Gradient.html">fabric.Gradient</a></li>
                                <li><a href="../classes/fabric.Group.html">fabric.Group</a></li>
                                <li><a href="../classes/fabric.Image.filters.BaseFilter.html">fabric.Image.filters.BaseFilter</a></li>
                                <li><a href="../classes/fabric.Image.filters.Brightness.html">fabric.Image.filters.Brightness</a></li>
                                <li><a href="../classes/fabric.Image.filters.Convolute.html">fabric.Image.filters.Convolute</a></li>
                                <li><a href="../classes/fabric.Image.filters.Creates an instance of a PdfPrinter which turns document definition into a pdf.html">fabric.Image.filters.Creates an instance of a PdfPrinter which turns document definition into a pdf</a></li>
                                <li><a href="../classes/fabric.Image.filters.fabric.Image.html">fabric.Image.filters.fabric.Image</a></li>
                                <li><a href="../classes/fabric.Image.filters.fabric.Image.filter.Blend.html">fabric.Image.filters.fabric.Image.filter.Blend</a></li>
                                <li><a href="../classes/fabric.Image.filters.fabric.IText.html">fabric.Image.filters.fabric.IText</a></li>
                                <li><a href="../classes/fabric.Image.filters.fabric.Text.html">fabric.Image.filters.fabric.Text</a></li>
                                <li><a href="../classes/fabric.Image.filters.GradientTransparency.html">fabric.Image.filters.GradientTransparency</a></li>
                                <li><a href="../classes/fabric.Image.filters.Grayscale.html">fabric.Image.filters.Grayscale</a></li>
                                <li><a href="../classes/fabric.Image.filters.Invert.html">fabric.Image.filters.Invert</a></li>
                                <li><a href="../classes/fabric.Image.filters.Mask.html">fabric.Image.filters.Mask</a></li>
                                <li><a href="../classes/fabric.Image.filters.Multiply.html">fabric.Image.filters.Multiply</a></li>
                                <li><a href="../classes/fabric.Image.filters.Noise.html">fabric.Image.filters.Noise</a></li>
                                <li><a href="../classes/fabric.Image.filters.Pixelate.html">fabric.Image.filters.Pixelate</a></li>
                                <li><a href="../classes/fabric.Image.filters.RemoveWhite.html">fabric.Image.filters.RemoveWhite</a></li>
                                <li><a href="../classes/fabric.Image.filters.Resize.html">fabric.Image.filters.Resize</a></li>
                                <li><a href="../classes/fabric.Image.filters.Sepia.html">fabric.Image.filters.Sepia</a></li>
                                <li><a href="../classes/fabric.Image.filters.Sepia2.html">fabric.Image.filters.Sepia2</a></li>
                                <li><a href="../classes/fabric.Image.filters.Tint.html">fabric.Image.filters.Tint</a></li>
                                <li><a href="../classes/fabric.Intersection.html">fabric.Intersection</a></li>
                                <li><a href="../classes/fabric.Line.html">fabric.Line</a></li>
                                <li><a href="../classes/fabric.Object.html">fabric.Object</a></li>
                                <li><a href="../classes/fabric.Path.html">fabric.Path</a></li>
                                <li><a href="../classes/fabric.PathGroup.html">fabric.PathGroup</a></li>
                                <li><a href="../classes/fabric.Pattern.html">fabric.Pattern</a></li>
                                <li><a href="../classes/fabric.PatternBrush.html">fabric.PatternBrush</a></li>
                                <li><a href="../classes/fabric.PencilBrush.html">fabric.PencilBrush</a></li>
                                <li><a href="../classes/fabric.Point.html">fabric.Point</a></li>
                                <li><a href="../classes/fabric.Polygon.html">fabric.Polygon</a></li>
                                <li><a href="../classes/fabric.Polyline.html">fabric.Polyline</a></li>
                                <li><a href="../classes/fabric.Rect.html">fabric.Rect</a></li>
                                <li><a href="../classes/fabric.Shadow.html">fabric.Shadow</a></li>
                                <li><a href="../classes/fabric.SprayBrush.html">fabric.SprayBrush</a></li>
                                <li><a href="../classes/fabric.StaticCanvas.html">fabric.StaticCanvas</a></li>
                                <li><a href="../classes/fabric.Triangle.html">fabric.Triangle</a></li>
                                <li><a href="../classes/google/Area.html">google/Area</a></li>
                                <li><a href="../classes/google/Bar.html">google/Bar</a></li>
                                <li><a href="../classes/google/Common.html">google/Common</a></li>
                                <li><a href="../classes/google/CommonND.html">google/CommonND</a></li>
                                <li><a href="../classes/jsPDF.html">jsPDF</a></li>
                            </ul>
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/google_Area.html">google/Area</a></li>
                                <li><a href="../modules/google_Bar.html">google/Bar</a></li>
                                <li><a href="../modules/google_Common.html">google/Common</a></li>
                                <li><a href="../modules/google_CommonND.html">google/CommonND</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: bower_components\c3\extensions\exporter\phantom-exporter.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
*  PNG\JPEG exporter for C3.js, version 0.2
*  (c) 2014 Yuval Bar-On
*
* usage: path/to/phantomjs output options [WxH]
*
*/

// useful python-styled string formatting, &quot;hello {0}! Javascript is {1}&quot;.format(&quot;world&quot;, &quot;awesome&quot;);
if (!String.prototype.format) {
  String.prototype.format = function() {
    var args = arguments;
    return this.replace(/{(\d+)}/g, function(match, number) { 
      return typeof args[number] != &#x27;undefined&#x27;
        ? args[number]
        : match
      ;
    });
  };
}

// defaults
var page   = require(&#x27;webpage&#x27;).create(),
	fs 	   = require(&#x27;fs&#x27;),
	system = require(&#x27;system&#x27;),
	config = JSON.parse( fs.read(&#x27;config.json&#x27;) ),
	output,	size;

if (system.args.length &lt; 3 ) {
    console.log(&#x27;Usage: phantasm.js filename html [WxH]&#x27;);
    phantom.exit(1);
} else {
	out  = system.args[1];
	opts = JSON.parse( system.args[2] );

	if (system.args[3]) {
		var dimensions = system.args[3].split(&#x27;x&#x27;),
			width 	   = dimensions[0],
			height 	   = dimensions[1];

		function checkNum(check) {
			check = parseInt(check);
			if (!isNaN(check))
				return check;
			return false;
		}

		width  = checkNum(width);
		height = checkNum(height);

		if (width &amp;&amp; height) {
			page.viewportSize = {
				height: height,
				width: width
			}
		}

		// fit chart size to img size, if undefined
		if (!opts.size) {
			opts.size = {
				&quot;height&quot;: height,
				&quot;width&quot;: width
			};
		}
	} else {
		// check if size is defined in chart, 
		// else apply defaults
		page.viewportSize = {
			height: (opts.size &amp;&amp; opts.size.height) ? opts.size.height : 320,
			width:  (opts.size &amp;&amp; opts.size.width ) ? opts.size.width  : 710,
		}
	}
}

page.onResourceRequested = function(requestData, request) {
  console.log(&#x27;::loading resource &#x27;, requestData[&#x27;url&#x27;]);
};	

// helpful debug functions
page.onConsoleMessage = function(msg){
    console.log(msg);
};

page.onError = function(msg, trace) {
  var msgStack = [&#x27;ERROR: &#x27; + msg];

  if (trace &amp;&amp; trace.length) {
    msgStack.push(&#x27;TRACE:&#x27;);
    trace.forEach(function(t) {
      msgStack.push(&#x27; -&gt; &#x27; + t.file + &#x27;: &#x27; + t.line + (t.function ? &#x27; (in function &quot;&#x27; + t.function +&#x27;&quot;)&#x27; : &#x27;&#x27;));
    });
  }

  console.error(msgStack.join(&#x27;\n&#x27;));
};

// render page
function injectVerify(script) {
	var req = page.injectJs(script);
	if (!req) { 
		console.log( &#x27;\nError!\n&#x27; + script + &#x27; not found!\n&#x27; );
		phantom.exit(1); 
	}
}

page.onLoadFinished = function() {
	console.log(&#x27;::rendering&#x27;);

	for (var j in config.js) {
		injectVerify(config.js[j]);
	}

	page.evaluate(function(chartoptions) {
		// phantomjs doesn&#x27;t know how to handle .bind, so we override
		Function.prototype.bind = Function.prototype.bind || function (thisp) {
		  var fn = this;
		  return function () {
		    return fn.apply(thisp, arguments);
		  };
		};

		// generate chart
		c3.generate(chartoptions);

	}, opts);

// setting transition to 0 has proven not to work thus far, but 300ms isn&#x27;t much
// so this is acceptable for now
	setTimeout(function() {
		page.render(out);
		phantom.exit();
	}, 300);
}

//  apply css inline because that usually renders better
var css = &#x27;&#x27;;
for (var i in config.css) {
	css += fs.read(config.css[i]);
}
page.content = config.template.format(css);
    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
