(function(){var e;window.AmCharts?e=window.AmCharts:(e={},window.AmCharts=e,e.themes={},e.maps={},e.inheriting={},e.charts=[],e.onReadyArray=[],e.useUTC=!1,e.updateRate=30,e.uid=0,e.lang={},e.translations={},e.mapTranslations={},e.windows={},e.initHandlers=[]),e.Class=function(t){var n=function(){arguments[0]!==e.inheriting&&(this.events={},this.construct.apply(this,arguments))};t.inherits?(n.prototype=new t.inherits(e.inheriting),n.base=t.inherits.prototype,delete t.inherits):(n.prototype.createEvents=function(){for(var e=0,t=arguments.length;e<t;e++)this.events[arguments[e]]=[]},n.prototype.listenTo=function(e,t,n){this.removeListener(e,t,n),e.events[t].push({handler:n,scope:this})},n.prototype.addListener=function(e,t,n){this.removeListener(this,e,t),this.events[e].push({handler:t,scope:n})},n.prototype.removeListener=function(e,t,n){if(e&&e.events)for(e=e.events[t],t=e.length-1;0<=t;t--)e[t].handler===n&&e.splice(t,1)},n.prototype.fire=function(e,t){for(var n=this.events[e],r=0,i=n.length;r<i;r++){var s=n[r];s.handler.call(s.scope,t)}});for(var r in t)n.prototype[r]=t[r];return n},e.addChart=function(t){e.updateInt||(e.updateInt=setInterval(function(){e.update()},Math.round(1e3/e.updateRate))),e.charts.push(t)},e.removeChart=function(t){for(var n=e.charts,r=n.length-1;0<=r;r--)n[r]==t&&n.splice(r,1);0===n.length&&e.updateInt&&(clearInterval(e.updateInt),e.updateInt=NaN)},e.isModern=!0,e.getIEVersion=function(){var e=0,t,n;return"Microsoft Internet Explorer"==navigator.appName&&(t=navigator.userAgent,n=/MSIE ([0-9]{1,}[.0-9]{0,})/,null!==n.exec(t)&&(e=parseFloat(RegExp.$1))),e},e.applyLang=function(t,n){var r=e.translations;n.dayNames=e.extend({},e.dayNames),n.shortDayNames=e.extend({},e.shortDayNames),n.monthNames=e.extend({},e.monthNames),n.shortMonthNames=e.extend({},e.shortMonthNames),r&&(r=r[t])&&(e.lang=r,r.monthNames&&(n.dayNames=e.extend({},r.dayNames),n.shortDayNames=e.extend({},r.shortDayNames),n.monthNames=e.extend({},r.monthNames),n.shortMonthNames=e.extend({},r.shortMonthNames)))},e.IEversion=e.getIEVersion(),9>e.IEversion&&0<e.IEversion&&(e.isModern=!1,e.isIE=!0),e.dx=0,e.dy=0;if(document.addEventListener||window.opera)e.isNN=!0,e.isIE=!1,e.dx=.5,e.dy=.5;document.attachEvent&&(e.isNN=!1,e.isIE=!0,e.isModern||(e.dx=0,e.dy=0)),window.chrome&&(e.chrome=!0),e.handleMouseUp=function(t){for(var n=e.charts,r=0;r<n.length;r++){var i=n[r];i&&i.handleReleaseOutside&&i.handleReleaseOutside(t)}},e.handleMouseMove=function(t){for(var n=e.charts,r=0;r<n.length;r++){var i=n[r];i&&i.handleMouseMove&&i.handleMouseMove(t)}},e.handleWheel=function(t){for(var n=e.charts,r=0;r<n.length;r++){var i=n[r];if(i&&i.mouseIsOver){i.mouseWheelScrollEnabled||i.mouseWheelZoomEnabled?i.handleWheel&&i.handleWheel(t):t.stopPropagation&&t.stopPropagation();break}}},e.resetMouseOver=function(){for(var t=e.charts,n=0;n<t.length;n++){var r=t[n];r&&(r.mouseIsOver=!1)}},e.ready=function(t){e.onReadyArray.push(t)},e.handleLoad=function(){e.isReady=!0;for(var t=e.onReadyArray,n=0;n<t.length;n++){var r=t[n];isNaN(e.processDelay)?r():setTimeout(r,e.processDelay*n)}},e.addInitHandler=function(t,n){e.initHandlers.push({method:t,types:n})},e.callInitHandler=function(t){var n=e.initHandlers;if(e.initHandlers)for(var r=0;r<n.length;r++){var i=n[r];i.types?e.isInArray(i.types,t.type)&&i.method(t):i.method(t)}},e.getUniqueId=function(){return e.uid++,"AmChartsEl-"+e.uid},e.isNN&&(document.addEventListener("mousemove",e.handleMouseMove,!0),document.addEventListener("mouseup",e.handleMouseUp,!0),window.addEventListener("load",e.handleLoad,!0),window.addEventListener("DOMMouseScroll",e.handleWheel,!0),document.addEventListener("mousewheel",e.handleWheel,!0)),e.isIE&&(document.attachEvent("onmousemove",e.handleMouseMove),document.attachEvent("onmouseup",e.handleMouseUp),window.attachEvent("onload",e.handleLoad)),e.clear=function(){var t=e.charts;if(t)for(var n=t.length-1;0<=n;n--)t[n].clear();e.updateInt&&clearInterval(e.updateInt),e.charts=[],e.isNN&&(document.removeEventListener("mousemove",e.handleMouseMove,!0),document.removeEventListener("mouseup",e.handleMouseUp,!0),window.removeEventListener("load",e.handleLoad,!0),window.removeEventListener("DOMMouseScroll",e.handleWheel,!0),document.removeEventListener("mousewheel",e.handleWheel,!0)),e.isIE&&(document.detachEvent("onmousemove",e.handleMouseMove),document.detachEvent("onmouseup",e.handleMouseUp),window.detachEvent("onload",e.handleLoad))},e.makeChart=function(t,n,r){var i=n.type,s=n.theme;e.isString(s)&&(s=e.themes[s],n.theme=s);var o;switch(i){case"serial":o=new e.AmSerialChart(s);break;case"xy":o=new e.AmXYChart(s);break;case"pie":o=new e.AmPieChart(s);break;case"radar":o=new e.AmRadarChart(s);break;case"gauge":o=new e.AmAngularGauge(s);break;case"funnel":o=new e.AmFunnelChart(s);break;case"map":o=new e.AmMap(s);break;case"stock":o=new e.AmStockChart(s);break;case"gantt":o=new e.AmGanttChart(s)}e.extend(o,n);if(n.listeners)for(var u in n.listeners)i=n.listeners[u],o.addListener(i.event,i.method);return e.isReady?isNaN(r)?o.write(t):setTimeout(function(){e.realWrite(o,t)},r):e.ready(function(){isNaN(r)?o.write(t):setTimeout(function(){e.realWrite(o,t)},r)}),o},e.realWrite=function(e,t){e.write(t)},e.updateCount=0,e.validateAt=Math.round(e.updateRate/5),e.update=function(){var t=e.charts;e.updateCount++;var n=!1;e.updateCount==e.validateAt&&(n=!0,e.updateCount=0);if(t)for(var r=0;r<t.length;r++)t[r].update&&t[r].update(),n&&t[r].autoResize&&t[r].validateSize&&t[r].validateSize()},e.bezierX=3,e.bezierY=6})(),function(){var e=window.AmCharts;e.toBoolean=function(e,t){if(void 0===e)return t;switch(String(e).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}},e.removeFromArray=function(e,t){var n;if(void 0!==t&&void 0!==e)for(n=e.length-1;0<=n;n--)e[n]==t&&e.splice(n,1)},e.getPath=function(){var e=document.getElementsByTagName("script");if(e)for(var t=0;t<e.length;t++){var n=e[t].src;if(-1!==n.search(/\/(amcharts|ammap)\.js/))return n.replace(/\/(amcharts|ammap)\.js.*/,"/")}},e.normalizeUrl=function(e){return""!==e&&-1===e.search(/\/$/)?e+"/":e},e.isAbsolute=function(e){return 0===e.search(/^http[s]?:|^\//)},e.isInArray=function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return!0;return!1},e.getDecimals=function(e){var t=0;return isNaN(e)||(e=String(e),-1!=e.indexOf("e-")?t=Number(e.split("-")[1]):-1!=e.indexOf(".")&&(t=e.split(".")[1].length)),t},e.wordwrap=function(t,n,r,i){var s,o,u,a;t+="";if(1>n)return t;s=-1;for(t=(a=t.split(/\r\n|\n|\r/)).length;++s<t;a[s]+=u){u=a[s];for(a[s]="";u.length>n;a[s]+=e.trim(u.slice(0,o))+((u=u.slice(o)).length?r:""))o=2==i||(o=u.slice(0,n+1).match(/\S*(\s)?$/))[1]?n:o.input.length-o[0].length||1==i&&n||o.input.length+(o=u.slice(n).match(/^\S*/))[0].length;u=e.trim(u)}return a.join(i)},e.trim=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.wrappedText=function(t,n,r,i,s,o,u,a){var f=e.text(t,n,r,i,s,o,u);if(f){var l=f.getBBox();if(l.width>a){var c="\n";e.isModern||(c="<br>"),a=Math.floor(a/(l.width/n.length)),2<a&&(a-=2),n=e.wordwrap(n,a,c,!0),f.remove(),f=e.text(t,n,r,i,s,o,u)}}return f},e.getStyle=function(e,t){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t]),n},e.removePx=function(e){if(void 0!==e)return Number(e.substring(0,e.length-2))},e.getURL=function(t,n){if(t)if("_self"!=n&&n)if("_top"==n&&window.top)window.top.location.href=t;else if("_parent"==n&&window.parent)window.parent.location.href=t;else if("_blank"==n)window.open(t);else{var r=document.getElementsByName(n)[0];r?r.src=t:(r=e.windows[n])?r.opener&&!r.opener.closed?r.location.href=t:e.windows[n]=window.open(t):e.windows[n]=window.open(t)}else window.location.href=t},e.ifArray=function(e){return e&&"object"==typeof e&&0<e.length?!0:!1},e.callMethod=function(e,t){var n;for(n=0;n<t.length;n++){var r=t[n];if(r){r[e]&&r[e]();var i=r.length;if(0<i){var s;for(s=0;s<i;s++){var o=r[s];o&&o[e]&&o[e]()}}}}},e.toNumber=function(e){return"number"==typeof e?e:Number(String(e).replace(/[^0-9\-.]+/g,""))},e.toColor=function(e){if(""!==e&&void 0!==e)if(-1!=e.indexOf(",")){e=e.split(",");var t;for(t=0;t<e.length;t++){var n=e[t].substring(e[t].length-6,e[t].length);e[t]="#"+n}}else e=e.substring(e.length-6,e.length),e="#"+e;return e},e.toCoordinate=function(e,t,n){var r;return void 0!==e&&(e=String(e),n&&n<t&&(t=n),r=Number(e),-1!=e.indexOf("!")&&(r=t-Number(e.substr(1))),-1!=e.indexOf("%")&&(r=t*Number(e.substr(0,e.length-1))/100)),r},e.fitToBounds=function(e,t,n){return e<t&&(e=t),e>n&&(e=n),e},e.isDefined=function(e){return void 0===e?!1:!0},e.stripNumbers=function(e){return e.replace(/[0-9]+/g,"")},e.roundTo=function(e,t){if(0>t)return e;var n=Math.pow(10,t);return Math.round(e*n)/n},e.toFixed=function(e,t){var n=String(Math.round(e*Math.pow(10,t)));if(0<t){var r=n.length;if(r<t){var i;for(i=0;i<t-r;i++)n="0"+n}return r=n.substring(0,n.length-t),""===r&&(r=0),r+"."+n.substring(n.length-t,n.length)}return String(n)},e.formatDuration=function(t,n,r,i,s,o){var u=e.intervals,a=o.decimalSeparator;if(t>=u[n].contains){var f=t-Math.floor(t/u[n].contains)*u[n].contains;return"ss"==n?(f=e.formatNumber(f,o),1==f.split(a)[0].length&&(f="0"+f)):f=e.roundTo(f,o.precision),("mm"==n||"hh"==n)&&10>f&&(f="0"+f),r=f+""+i[n]+""+r,t=Math.floor(t/u[n].contains),n=u[n].nextInterval,e.formatDuration(t,n,r,i,s,o)}"ss"==n&&(t=e.formatNumber(t,o),1==t.split(a)[0].length&&(t="0"+t)),("mm"==n||"hh"==n)&&10>t&&(t="0"+t),r=t+""+i[n]+""+r;if(u[s].count>u[n].count)for(t=u[n].count;t<u[s].count;t++)n=u[n].nextInterval,"ss"==n||"mm"==n||"hh"==n?r="00"+i[n]+""+r:"DD"==n&&(r="0"+i[n]+""+r);return":"==r.charAt(r.length-1)&&(r=r.substring(0,r.length-1)),r},e.formatNumber=function(t,n,r,i,s){t=e.roundTo(t,n.precision),isNaN(r)&&(r=n.precision);var o=n.decimalSeparator;n=n.thousandsSeparator;var u;u=0>t?"-":"",t=Math.abs(t);var a=String(t),f=!1;-1!=a.indexOf("e")&&(f=!0),0<=r&&!f&&(a=e.toFixed(t,r));var l="";if(f)l=a;else{var a=a.split("."),f=String(a[0]),c;for(c=f.length;0<=c;c-=3)l=c!=f.length?0!==c?f.substring(c-3,c)+n+l:f.substring(c-3,c)+l:f.substring(c-3,c);void 0!==a[1]&&(l=l+o+a[1]),void 0!==r&&0<r&&"0"!=l&&(l=e.addZeroes(l,o,r))}return l=u+l,""===u&&!0===i&&0!==t&&(l="+"+l),!0===s&&(l+="%"),l},e.addZeroes=function(t,n,r){return t=t.split(n),void 0===t[1]&&0<r&&(t[1]="0"),t[1].length<r?(t[1]+="0",e.addZeroes(t[0]+n+t[1],n,r)):void 0!==t[1]?t[0]+n+t[1]:t[0]},e.scientificToNormal=function(e){var t;e=String(e).split("e");var n;if("-"==e[1].substr(0,1)){t="0.";for(n=0;n<Math.abs(Number(e[1]))-1;n++)t+="0";t+=e[0].split(".").join("")}else{var r=0;t=e[0].split("."),t[1]&&(r=t[1].length),t=e[0].split(".").join("");for(n=0;n<Math.abs(Number(e[1]))-r;n++)t+="0"}return t},e.toScientific=function(e,t){if(0===e)return"0";var n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r=String(r).split(".").join(t);return String(r)+"e"+n},e.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},e.hitTest=function(t,n,r){var i=!1,s=t.x,o=t.x+t.width,u=t.y,a=t.y+t.height,f=e.isInRectangle;return i||(i=f(s,u,n)),i||(i=f(s,a,n)),i||(i=f(o,u,n)),i||(i=f(o,a,n)),i||!0===r||(i=e.hitTest(n,t,!0)),i},e.isInRectangle=function(e,t,n){return e>=n.x-5&&e<=n.x+n.width+5&&t>=n.y-5&&t<=n.y+n.height+5?!0:!1},e.isPercents=function(e){if(-1!=String(e).indexOf("%"))return!0},e.findPosX=function(e){var t=e,n=e.offsetLeft;if(e.offsetParent){for(;e=e.offsetParent;)n+=e.offsetLeft;for(;(t=t.parentNode)&&t!=document.body;)n-=t.scrollLeft||0}return n},e.findPosY=function(e){var t=e,n=e.offsetTop;if(e.offsetParent){for(;e=e.offsetParent;)n+=e.offsetTop;for(;(t=t.parentNode)&&t!=document.body;)n-=t.scrollTop||0}return n},e.findIfFixed=function(t){if(t.offsetParent)for(;t=t.offsetParent;)if("fixed"==e.getStyle(t,"position"))return!0;return!1},e.findIfAuto=function(t){return t.style&&"auto"==e.getStyle(t,"overflow")?!0:t.parentNode?e.findIfAuto(t.parentNode):!1},e.findScrollLeft=function(t,n){return t.scrollLeft&&(n+=t.scrollLeft),t.parentNode?e.findScrollLeft(t.parentNode,n):n},e.findScrollTop=function(t,n){return t.scrollTop&&(n+=t.scrollTop),t.parentNode?e.findScrollTop(t.parentNode,n):n},e.formatValue=function(t,n,r,i,s,o,u,a){if(n){void 0===s&&(s="");var f;for(f=0;f<r.length;f++){var l=r[f],c=n[l];void 0!==c&&(c=o?e.addPrefix(c,a,u,i):e.formatNumber(c,i),t=t.replace(new RegExp("\\[\\["+s+""+l+"\\]\\]","g"),c))}}return t},e.formatDataContextValue=function(e,t){if(e){var n=e.match(/\[\[.*?\]\]/g),r;for(r=0;r<n.length;r++){var i=n[r],i=i.substr(2,i.length-4);void 0!==t[i]&&(e=e.replace(new RegExp("\\[\\["+i+"\\]\\]","g"),t[i]))}}return e},e.massReplace=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];void 0===r&&(r=""),e=e.replace(n,r)}return e},e.cleanFromEmpty=function(e){return e.replace(/\[\[[^\]]*\]\]/g,"")},e.addPrefix=function(t,n,r,i,s){var o=e.formatNumber(t,i),u="",a,f,l;if(0===t)return"0";0>t&&(u="-"),t=Math.abs(t);if(1<t){for(a=n.length-1;-1<a;a--)if(t>=n[a].number&&(f=t/n[a].number,l=Number(i.precision),1>l&&(l=1),r=e.roundTo(f,l),l=e.formatNumber(r,{precision:-1,decimalSeparator:i.decimalSeparator,thousandsSeparator:i.thousandsSeparator}),!s||f==r)){o=u+""+l+""+n[a].prefix;break}}else for(a=0;a<r.length;a++)if(t<=r[a].number){f=t/r[a].number,l=Math.abs(Math.round(Math.log(f)*Math.LOG10E)),f=e.roundTo(f,l),o=u+""+f+""+r[a].prefix;break}return o},e.remove=function(e){e&&e.remove()},e.getEffect=function(e){return">"==e&&(e="easeOutSine"),"<"==e&&(e="easeInSine"),"elastic"==e&&(e="easeOutElastic"),e},e.getObjById=function(e,t){var n,r;for(r=0;r<e.length;r++){var i=e[r];i.id==t&&(n=i)}return n},e.applyTheme=function(t,n,r){n||(n=e.theme),n&&n[r]&&e.extend(t,n[r])},e.isString=function(e){return"string"==typeof e?!0:!1},e.extend=function(e,t,n){var r;e||(e={});for(r in t)n?e.hasOwnProperty(r)||(e[r]=t[r]):e[r]=t[r];return e},e.copyProperties=function(e,t){for(var n in e)e.hasOwnProperty(n)&&"events"!=n&&void 0!==e[n]&&"function"!=typeof e[n]&&"cname"!=n&&(t[n]=e[n])},e.processObject=function(t,n,r,i){if(0==t instanceof n&&(t=i?e.extend(new n(r),t):e.extend(t,new n(r),!0),t.listeners))for(var s in t.listeners)n=t.listeners[s],t.addListener(n.event,n.method);return t},e.fixNewLines=function(e){var t=RegExp("\\n","g");return e&&(e=e.replace(t,"<br />")),e},e.fixBrakes=function(t){if(e.isModern){var n=RegExp("<br>","g");t&&(t=t.replace(n,"\n"))}else t=e.fixNewLines(t);return t},e.deleteObject=function(t,n){if(t){if(void 0===n||null===n)n=20;if(0!==n)if("[object Array]"===Object.prototype.toString.call(t))for(var r=0;r<t.length;r++)e.deleteObject(t[r],n-1),t[r]=null;else if(t&&!t.tagName)try{for(r in t)t[r]&&("object"==typeof t[r]&&e.deleteObject(t[r],n-1),"function"!=typeof t[r]&&(t[r]=null))}catch(i){}}},e.bounce=function(e,t,n,r,i){return(t/=i)<1/2.75?7.5625*r*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},e.easeInSine=function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},e.easeOutSine=function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},e.easeOutElastic=function(e,t,n,r,i){e=1.70158;var s=0,o=r;return 0===t?n:1==(t/=i)?n+r:(s||(s=.3*i),o<Math.abs(r)?(o=r,e=s/4):e=s/(2*Math.PI)*Math.asin(r/o),o*Math.pow(2,-10*t)*Math.sin(2*(t*i-e)*Math.PI/s)+r+n)},e.fixStepE=function(t){t=t.toExponential(0).split("e");var n=Number(t[1]);return 9==Number(t[0])&&n++,e.generateNumber(1,n)},e.generateNumber=function(e,t){var n="",r;r=0>t?Math.abs(t)-1:Math.abs(t);var i;for(i=0;i<r;i++)n+="0";return 0>t?Number("0."+n+String(e)):Number(String(e)+n)},e.setCN=function(e,t,n,r){if(e.addClassNames&&t&&(t=t.node)&&n){var i=t.getAttribute("class");e=e.classNamePrefix+"-",r&&(e=""),i?t.setAttribute("class",i+" "+e+n):t.setAttribute("class",e+n)}},e.parseDefs=function(t,n){for(var r in t){var i=typeof t[r];if(0<t[r].length&&"object"==i)for(var s=0;s<t[r].length;s++)i=document.createElementNS(e.SVG_NS,r),n.appendChild(i),e.parseDefs(t[r][s],i);else"object"==i?(i=document.createElementNS(e.SVG_NS,r),n.appendChild(i),e.parseDefs(t[r],i)):n.setAttribute(r,t[r])}}}(),function(){var e=window.AmCharts;e.AxisBase=e.Class({construct:function(t){this.createEvents("clickItem","rollOverItem","rollOutItem"),this.viY=this.viX=this.titleDY=this.y=this.x=this.dy=this.dx=0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridCount=this.tickLength=5,this.gridAlpha=.15,this.gridThickness=1,this.gridColor="#000000",this.dashLength=0,this.labelFrequency=1,this.showLastLabel=this.showFirstLabel=!0,this.fillColor="#FFFFFF",this.fillAlpha=0,this.labelsEnabled=!0,this.labelRotation=0,this.autoGridCount=!0,this.offset=0,this.guides=[],this.visible=!0,this.counter=0,this.guides=[],this.ignoreAxisWidth=this.inside=!1,this.minHorizontalGap=75,this.minVerticalGap=35,this.titleBold=!0,this.minorGridEnabled=!1,this.minorGridAlpha=.07,this.autoWrap=!1,this.titleAlign="middle",this.labelOffset=0,this.bcn="axis-",this.centerLabels=!1,this.periods=[{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}],this.dateFormats=[{period:"fff",format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}],this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"},e.applyTheme(this,t,"AxisBase")},zoom:function(e,t){this.start=e,this.end=t,this.dataChanged=!0,this.draw()},fixAxisPosition:function(){var e=this.position;"H"==this.orientation?("left"==e&&(e="bottom"),"right"==e&&(e="top")):("bottom"==e&&(e="left"),"top"==e&&(e="right")),this.position=e},draw:function(){var e=this.chart;this.allLabels=[],this.counter=0,this.destroy(),this.fixAxisPosition(),this.labels=[];var t=e.container,n=t.set();e.gridSet.push(n),this.set=n,t=t.set(),e.axesLabelsSet.push(t),this.labelsSet=t,this.axisLine=new this.axisRenderer(this),this.autoGridCount?("V"==this.orientation?(e=this.height/this.minVerticalGap,3>e&&(e=3)):e=this.width/this.minHorizontalGap,this.gridCountR=Math.max(e,1)):this.gridCountR=this.gridCount,this.axisWidth=this.axisLine.axisWidth,this.addTitle()},setOrientation:function(e){this.orientation=e?"H":"V"},addTitle:function(){var t=this.title;this.titleLabel=null;if(t){var n=this.chart,r=this.titleColor;void 0===r&&(r=n.color);var i=this.titleFontSize;isNaN(i)&&(i=n.fontSize+1),t=e.text(n.container,t,r,n.fontFamily,i,this.titleAlign,this.titleBold),e.setCN(n,t,this.bcn+"title"),this.titleLabel=t}},positionTitle:function(){var t=this.titleLabel;if(t){var n,r,i=this.labelsSet,s={};0<i.length()?s=i.getBBox():(s.x=0,s.y=0,s.width=this.viW,s.height=this.viH,e.VML&&(s.y+=this.y,s.x+=this.x)),i.push(t);var i=s.x,o=s.y;e.VML&&(this.rotate?i-=this.x:o-=this.y);var u=s.width,s=s.height,a=this.viW,f=this.viH,l=0,c=t.getBBox().height/2,h=this.inside,p=this.titleAlign;switch(this.position){case"top":n="left"==p?-1:"right"==p?a:a/2,r=o-10-c;break;case"bottom":n="left"==p?-1:"right"==p?a:a/2,r=o+s+10+c;break;case"left":n=i-10-c,h&&(n-=5),l=-90,r=("left"==p?f+1:"right"==p?-1:f/2)+this.titleDY;break;case"right":n=i+u+10+c,h&&(n+=7),r=("left"==p?f+2:"right"==p?-2:f/2)+this.titleDY,l=-90}this.marginsChanged?(t.translate(n,r),this.tx=n,this.ty=r):t.translate(this.tx,this.ty),this.marginsChanged=!1,isNaN(this.titleRotation)||(l=this.titleRotation),0!==l&&t.rotate(l)}},pushAxisItem:function(e,t){var n=this,r=e.graphics();0<r.length()&&(t?n.labelsSet.push(r):n.set.push(r));if(r=e.getLabel())this.labelsSet.push(r),r.click(function(t){n.handleMouse(t,e,"clickItem")}).mouseover(function(t){n.handleMouse(t,e,"rollOverItem")}).mouseout(function(t){n.handleMouse(t,e,"rollOutItem")})},handleMouse:function(e,t,n){this.fire(n,{type:n,value:t.value,serialDataItem:t.serialDataItem,axis:this,target:t.label,chart:this.chart,event:e})},addGuide:function(t){for(var n=this.guides,r=!1,i=n.length,s=0;s<n.length;s++)n[s]==t&&(r=!0,i=s);t=e.processObject(t,e.Guide,this.theme),t.id||(t.id="guideAuto"+i+"_"+(new Date).getTime()),r||n.push(t)},removeGuide:function(e){var t=this.guides,n;for(n=0;n<t.length;n++)t[n]==e&&t.splice(n,1)},handleGuideOver:function(e){clearTimeout(this.chart.hoverInt);var t=e.graphics.getBBox(),n=t.x+t.width/2,t=t.y+t.height/2,r=e.fillColor;void 0===r&&(r=e.lineColor),this.chart.showBalloon(e.balloonText,r,!0,n,t)},handleGuideOut:function(){this.chart.hideBalloon()},addEventListeners:function(e,t){var n=this;e.mouseover(function(){n.handleGuideOver(t)}),e.touchstart(function(){n.handleGuideOver(t)}),e.mouseout(function(){n.handleGuideOut(t)})},getBBox:function(){var t=this.labelsSet.getBBox();return e.VML||(t={x:t.x+this.x,y:t.y+this.y,width:t.width,height:t.height}),t},destroy:function(){e.remove(this.set),e.remove(this.labelsSet);var t=this.axisLine;t&&e.remove(t.set),e.remove(this.grid0)},chooseMinorFrequency:function(e){for(var t=10;0<t;t--)if(e/t==Math.round(e/t))return e/t},parseDatesDraw:function(){var t,n=this.chart,r=this.showFirstLabel,i=this.showLastLabel,s,o="",u=e.extractPeriod(this.minPeriod),a=e.getPeriodDuration(u.period,u.count),f,l,c,h,p,v=this.firstDayOfWeek,m=this.boldPeriodBeginning;t=this.minorGridEnabled;var g,y=this.gridAlpha,b,w=this.choosePeriod(0),E=w.period,w=w.count,S=e.getPeriodDuration(E,w);S<a&&(E=u.period,w=u.count,S=a),u=E,"WW"==u&&(u="DD"),this.stepWidth=this.getStepWidth(this.timeDifference);var x=Math.ceil(this.timeDifference/S)+5,T=f=e.resetDateToMin(new Date(this.startTime-S),E,w,v).getTime();if(u==E&&1==w&&this.centerLabelOnFullPeriod||this.autoWrap||this.centerLabels)c=S*this.stepWidth,this.autoWrap&&!this.centerLabels&&(c=-c);this.cellWidth=a*this.stepWidth,h=Math.round(f/S),a=-1,h/2==Math.round(h/2)&&(a=-2,f-=S),h=this.firstTime;var N=0;t&&1<w&&(g=this.chooseMinorFrequency(w),b=e.getPeriodDuration(E,g));if(0<this.gridCountR)for(x-5-a>this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),t=a;t<=x;t++){p=h+S*(t+Math.floor((T-h)/S))-N,"DD"==E&&(p+=36e5),p=e.resetDateToMin(new Date(p),E,w,v).getTime(),"MM"==E&&(s=(p-f)/S,1.5<=(p-f)/S&&(p=p-(s-1)*S+e.getPeriodDuration("DD",3),p=e.resetDateToMin(new Date(p),E,1).getTime(),N+=S)),s=(p-this.startTime)*this.stepWidth;if("radar"==n.type){if(0>s||s>this.axisWidth)continue;s=this.y+(this.axisWidth-s)}else s=this.rotate?s+(this.x-this.viX):"date"==this.type?this.axisWidth-s+(this.y-this.viY):s+(this.y-this.viY);o=!1,this.nextPeriod[u]&&(o=this.checkPeriodChange(this.nextPeriod[u],1,p,f,u)),f=!1,o&&this.markPeriodChange?(o=this.dateFormatsObject[this.nextPeriod[u]],this.twoLineMode&&(o=this.dateFormatsObject[u]+"\n"+o,o=e.fixBrakes(o)),f=!0):o=this.dateFormatsObject[u],m||(f=!1),this.currentDateFormat=o,o=e.formatDate(new Date(p),o,n);if(t==a&&!r||t==x&&!i)o=" ";this.labelFunction&&(o=this.labelFunction(o,new Date(p),this,E,w,l).toString()),this.boldLabels&&(f=!0),l=new this.axisItemRenderer(this,s,o,!1,c,0,!1,f),this.pushAxisItem(l),l=f=p;if(!isNaN(g))for(s=1;s<w;s+=g)this.gridAlpha=this.minorGridAlpha,o=p+b*s,o=e.resetDateToMin(new Date(o),E,g,v).getTime(),o=new this.axisItemRenderer(this,(o-this.startTime)*this.stepWidth,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0),this.pushAxisItem(o);this.gridAlpha=y}},choosePeriod:function(t){var n=e.getPeriodDuration(this.periods[t].period,this.periods[t].count),r=Math.ceil(this.timeDifference/n),i=this.periods;return this.timeDifference<n&&0<t?i[t-1]:r<=this.gridCountR?i[t]:t+1<i.length?this.choosePeriod(t+1):i[t]},getStepWidth:function(e){var t;return this.startOnAxis?(t=this.axisWidth/(e-1),1==e&&(t=this.axisWidth)):t=this.axisWidth/e,t},timeZoom:function(e,t){this.startTime=e,this.endTime=t},minDuration:function(){var t=e.extractPeriod(this.minPeriod);return e.getPeriodDuration(t.period,t.count)},checkPeriodChange:function(t,n,r,i,s){r=new Date(r);var o=new Date(i),u=this.firstDayOfWeek;return i=n,"DD"==t&&(n=1),r=e.resetDateToMin(r,t,n,u).getTime(),n=e.resetDateToMin(o,t,n,u).getTime(),"DD"==t&&"hh"!=s&&r-n<e.getPeriodDuration(t,i)?!1:r!=n?!0:!1},generateDFObject:function(){this.dateFormatsObject={};var e;for(e=0;e<this.dateFormats.length;e++){var t=this.dateFormats[e];this.dateFormatsObject[t.period]=t.format}}})}(),function(){var e=window.AmCharts;e.ValueAxis=e.Class({inherits:e.AxisBase,construct:function(t){this.cname="ValueAxis",this.createEvents("axisChanged","logarithmicAxisFailed","axisSelfZoomed","axisZoomed"),e.ValueAxis.base.construct.call(this,t),this.dataChanged=!0,this.stackType="none",this.position="left",this.unitPosition="right",this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1,this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""},this.scrollbar=!1,this.baseValue=0,this.radarCategoriesEnabled=!0,this.gridType="polygons",this.useScientificNotation=!1,this.axisTitleOffset=10,this.pointPosition="axis",this.minMaxMultiplier=1,this.logGridLimit=2,this.totalTextOffset=this.treatZeroAs=0,this.minPeriod="ss",e.applyTheme(this,t,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1),this.totals=[],this.data=this.chart.chartData;var t=this.chart;"xy"!=t.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step")),this.recalculateToPercents&&this.recalculate(),this.synchronizationMultiplier&&this.synchronizeWith?(e.isString(this.synchronizeWith)&&(this.synchronizeWith=t.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax())},draw:function(){e.ValueAxis.base.draw.call(this);var t=this.chart,n=this.set;this.labelRotationR=this.labelRotation,e.setCN(t,this.set,"value-axis value-axis-"+this.id),e.setCN(t,this.labelsSet,"value-axis value-axis-"+this.id),e.setCN(t,this.axisLine.axisSet,"value-axis value-axis-"+this.id);var r=this.type;"duration"==r&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),"date"==r&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.minimumDate&&(this.minimumDate=e.getDate(this.minimumDate,t.dataDateFormat,"fff"),this.min=this.minimumDate.getTime()),this.maximumDate&&(this.maximumDate=e.getDate(this.maximumDate,t.dataDateFormat,"fff"),this.max=this.maximumDate.getTime()));if(this.logarithmic){var i=this.treatZeroAs,s=this.getMin(0,this.data.length-1);this.minReal<s&&(this.minReal=s),isNaN(this.minReal)&&(this.minReal=s),0<i&&0===s&&(this.minReal=s=i);if(0>=s||0>=this.minimum){this.fire("logarithmicAxisFailed",{type:"logarithmicAxisFailed",chart:t});return}}this.grid0=null;var o,u,a=t.dx,f=t.dy,i=!1,s=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||Infinity==this.min||-Infinity==this.max)i=!0;else{var l=this.labelFrequency,c=this.showFirstLabel,h=this.showLastLabel,p=1;o=0,this.minCalc=this.min,this.maxCalc=this.max,this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum)),isNaN(this.minZoom)||(this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom);var v=Math.round((this.maxCalc-this.minCalc)/this.step)+1,m;!0===s?(m=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/m,m>this.logGridLimit&&(v=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,o=Math.round(Math.log(this.minReal)*Math.LOG10E),v>this.gridCountR&&(p=Math.ceil(v/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);var g=0;1>this.step&&-1<this.step&&(g=e.getDecimals(this.step)),this.integersOnly&&(g=0),g>this.maxDecCount&&(g=this.maxDecCount);var y=this.precision;isNaN(y)||(g=y),this.max=e.roundTo(this.max,this.maxDecCount),this.min=e.roundTo(this.min,this.maxDecCount),u={},u.precision=g,u.decimalSeparator=t.nf.decimalSeparator,u.thousandsSeparator=t.nf.thousandsSeparator,this.numberFormatter=u;var b,w=this.guides,E=w.length;if(0<E){var S=this.fillAlpha;for(u=this.fillAlpha=0;u<E;u++){var x=w[u],T=NaN,N=x.above;isNaN(x.toValue)||(T=this.getCoordinate(x.toValue),b=new this.axisItemRenderer(this,T,"",!0,NaN,NaN,x),this.pushAxisItem(b,N));var C=NaN;isNaN(x.value)||(C=this.getCoordinate(x.value),b=new this.axisItemRenderer(this,C,x.label,!0,NaN,(T-C)/2,x),this.pushAxisItem(b,N)),isNaN(T-C)||(b=new this.guideFillRenderer(this,C,T,x),this.pushAxisItem(b,N),b=b.graphics(),x.graphics=b,x.balloonText&&this.addEventListeners(b,x))}this.fillAlpha=S}this.exponential=!1;for(u=o;u<v;u+=p)w=e.roundTo(this.step*u+this.min,g),-1!=String(w).indexOf("e")&&(this.exponential=!0);this.duration&&(this.maxInterval=e.getMaxInterval(this.max,this.duration));var g=this.step,k,w=this.minorGridAlpha;this.minorGridEnabled&&(k=this.getMinorGridStep(g,this.stepWidth*g));if("date"==r)this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw();else for(v>=this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),u=o;u<v;u+=p)if(r=g*u+this.minCalc,s&&this.max-this.min>10*this.min&&(r-=this.min),r=e.roundTo(r,this.maxDecCount+1),!this.integersOnly||Math.round(r)==r)if(isNaN(y)||Number(e.toFixed(r,y))==r){!0===s&&(0===r&&(r=this.minReal),m>this.logGridLimit&&(r=Math.pow(10,u))),b=this.formatValue(r,!1,u),Math.round(u/l)!=u/l&&(b=void 0);if(0===u&&!c||u==v-1&&!h)b=" ";o=this.getCoordinate(r);var L;this.rotate&&this.autoWrap&&(L=this.stepWidth*g-10),b=new this.axisItemRenderer(this,o,b,void 0,L,void 0,void 0,this.boldLabels),this.pushAxisItem(b);if(r==this.baseValue&&"radar"!=t.type){var A,O,S=this.viW,x=this.viH;b=this.viX,E=this.viY,"H"==this.orientation?0<=o&&o<=S+1&&(A=[o,o,o+a],O=[x,0,f]):0<=o&&o<=x+1&&(A=[0,S,S+a],O=[o,o,o+f]),A&&(o=e.fitToBounds(2*this.gridAlpha,0,1),o=e.line(t.container,A,O,this.gridColor,o,1,this.dashLength),o.translate(b,E),this.grid0=o,t.axesSet.push(o),o.toBack(),e.setCN(t,o,this.bcn+"zero-grid-"+this.id),e.setCN(t,o,this.bcn+"zero-grid"))}if(!isNaN(k)&&0<w&&u<v-1){o=this.gridAlpha,this.gridAlpha=this.minorGridAlpha;for(b=1;b<g/k;b++)E=this.getCoordinate(r+k*b),E=new this.axisItemRenderer(this,E,"",!1,0,0,!1,!1,0,!0),this.pushAxisItem(E);this.gridAlpha=o}}m=this.baseValue,this.min>this.baseValue&&this.max>this.baseValue&&(m=this.min),this.min<this.baseValue&&this.max<this.baseValue&&(m=this.max),s&&m<this.minReal&&(m=this.minReal),this.baseCoord=this.getCoordinate(m),m={type:"axisChanged",target:this,chart:t},m.min=s?this.minReal:this.min,m.max=this.max,this.fire("axisChanged",m),this.axisCreated=!0}s=this.axisLine.set,m=this.labelsSet,this.positionTitle(),"radar"!=t.type?(t=this.viX,k=this.viY,n.translate(t,k),m.translate(t,k)):s.toFront(),!this.visible||i?(n.hide(),s.hide(),m.hide()):(n.show(),s.show(),m.show()),this.axisY=this.y-this.viY,this.axisX=this.x-this.viX},formatValue:function(t,n,r){var i=this.exponential,s=this.logarithmic,o=this.numberFormatter,u=this.chart;return!0===this.logarithmic&&(i=-1!=String(t).indexOf("e")?!0:!1),this.useScientificNotation&&(i=!0),this.usePrefixes&&(i=!1),i?(r=-1==String(t).indexOf("e")?t.toExponential(15):String(t),i=r.split("e"),r=Number(i[0]),i=Number(i[1]),r=e.roundTo(r,14),10==r&&(r=1,i+=1),r=r+"e"+i,0===t&&(r="0"),1==t&&(r="1")):(s&&(i=String(t).split("."),i[1]?(o.precision=i[1].length,0>r&&(o.precision=Math.abs(r)),n&&1<t&&(o.precision=0)):o.precision=-1),r=this.usePrefixes?e.addPrefix(t,u.prefixesOfBigNumbers,u.prefixesOfSmallNumbers,o,!n):e.formatNumber(t,o,o.precision)),this.duration&&(n&&(o.precision=0),r=e.formatDuration(t,this.duration,"",this.durationUnits,this.maxInterval,o)),"date"==this.type&&(r=e.formatDate(new Date(t),this.currentDateFormat,u)),this.recalculateToPercents?r+="%":(n=this.unit)&&(r="left"==this.unitPosition?n+r:r+n),this.labelFunction&&(r=this.labelFunction(t,r,this).toString()),r},getMinorGridStep:function(e,t){var n=[5,4,2];60>t&&n.shift();for(var r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),i=0;i<n.length;i++){var s=e/n[i],o=Math.floor(Math.log(Math.abs(s))*Math.LOG10E);if(!(1<Math.abs(r-o)))if(1>e){if(o=Math.pow(10,-o)*s,o==Math.round(o))return s}else if(s==Math.round(s))return s}},stackGraphs:function(t){var n=this.stackType;"stacked"==n&&(n="regular"),"line"==n&&(n="none"),"100% stacked"==n&&(n="100%"),this.stackType=n;var r=[],i=[],s=[],o=[],u,a=this.chart.graphs,f,l,c,h,p=this.baseValue,v=!1;if("line"==t||"step"==t||"smoothedLine"==t)v=!0;if(v&&("regular"==n||"100%"==n))for(h=0;h<a.length;h++)c=a[h],c.hidden||(l=c.type,c.chart==this.chart&&c.valueAxis==this&&t==l&&c.stackable&&(f&&(c.stackGraph=f),f=c));for(f=this.start;f<=this.end;f++){var m=0;for(h=0;h<a.length;h++)if(c=a[h],c.hidden)c.newStack&&(s[f]=NaN,i[f]=NaN);else if(l=c.type,c.chart==this.chart&&c.valueAxis==this&&t==l&&c.stackable)if(l=this.data[f].axes[this.id].graphs[c.id],u=l.values.value,isNaN(u))c.newStack&&(s[f]=NaN,i[f]=NaN);else{var g=e.getDecimals(u);m<g&&(m=g),isNaN(o[f])?o[f]=Math.abs(u):o[f]+=Math.abs(u),o[f]=e.roundTo(o[f],m),g=c.fillToGraph,v&&g&&(g=this.data[f].axes[this.id].graphs[g.id])&&(l.values.open=g.values.value),"regular"==n&&(v&&(isNaN(r[f])?(r[f]=u,l.values.close=u,l.values.open=this.baseValue):(isNaN(u)?l.values.close=r[f]:l.values.close=u+r[f],l.values.open=r[f],r[f]=l.values.close)),"column"==t&&(c.newStack&&(s[f]=NaN,i[f]=NaN),l.values.close=u,0>u?(l.values.close=u,isNaN(i[f])?l.values.open=p:(l.values.close+=i[f],l.values.open=i[f]),i[f]=l.values.close):(l.values.close=u,isNaN(s[f])?l.values.open=p:(l.values.close+=s[f],l.values.open=s[f]),s[f]=l.values.close)))}}for(f=this.start;f<=this.end;f++)for(h=0;h<a.length;h++)(c=a[h],c.hidden)?c.newStack&&(s[f]=NaN,i[f]=NaN):(l=c.type,c.chart==this.chart&&c.valueAxis==this&&t==l&&c.stackable&&(l=this.data[f].axes[this.id].graphs[c.id],u=l.values.value,isNaN(u)||(r=u/o[f]*100,l.values.percents=r,l.values.total=o[f],c.newStack&&(s[f]=NaN,i[f]=NaN),"100%"==n&&(isNaN(i[f])&&(i[f]=0),isNaN(s[f])&&(s[f]=0),0>r?(l.values.close=e.fitToBounds(r+i[f],-100,100),l.values.open=i[f],i[f]=l.values.close):(l.values.close=e.fitToBounds(r+s[f],-100,100),l.values.open=s[f],s[f]=l.values.close)))))},recalculate:function(){var t=this.chart,n=t.graphs,r;for(r=0;r<n.length;r++){var i=n[r];if(i.valueAxis==this){var s="value";if("candlestick"==i.type||"ohlc"==i.type)s="open";var o,u,a=this.end+2,a=e.fitToBounds(this.end+1,0,this.data.length-1),f=this.start;0<f&&f--;var l;u=this.start,i.compareFromStart&&(u=0);if(!isNaN(t.startTime)&&(l=t.categoryAxis)){var c=l.minDuration(),c=new Date(t.startTime+c/2),h=e.resetDateToMin(new Date(t.startTime),l.minPeriod).getTime();e.resetDateToMin(new Date(c),l.minPeriod).getTime()>h&&u++}if(l=t.recalculateFromDate)l=e.getDate(l,t.dataDateFormat,"fff"),u=t.getClosestIndex(t.chartData,"time",l.getTime(),!0,0,t.chartData.length),a=t.chartData.length-1;for(l=u;l<=a&&(u=this.data[l].axes[this.id].graphs[i.id],o=u.values[s],isNaN(o));l++);this.recBaseValue=o;for(s=f;s<=a;s++){u=this.data[s].axes[this.id].graphs[i.id],u.percents={};var f=u.values,p;for(p in f)u.percents[p]="percents"!=p?f[p]/o*100-100:f[p]}}}},getMinMax:function(){var t=!1,n=this.chart,r=n.graphs,i;for(i=0;i<r.length;i++){var s=r[i].type;("line"==s||"step"==s||"smoothedLine"==s)&&this.expandMinMax&&(t=!0)}t&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==n.type&&(!0!==n.categoryAxis.parseDates||t||this.end<this.data.length-1&&this.end++),t=this.minMaxMultiplier,this.min=this.getMin(this.start,this.end),this.max=this.getMax(),this.minRR=this.min,this.maxRR=this.max,t=(this.max-this.min)*(t-1),this.min-=t,this.max+=t,t=this.guides.length;if(this.includeGuidesInMinMax&&0<t)for(r=0;r<t;r++)i=this.guides[r],i.toValue<this.min&&(this.min=i.toValue),i.value<this.min&&(this.min=i.value),i.toValue>this.max&&(this.max=i.toValue),i.value>this.max&&(this.max=i.value);isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),this.minimumDate&&(this.minimumDate=e.getDate(this.minimumDate,n.dataDateFormat,"fff"),this.min=this.minimumDate.getTime()),this.maximumDate&&(this.maximumDate=e.getDate(this.maximumDate,n.dataDateFormat,"fff"),this.max=this.maximumDate.getTime()),this.min>this.max&&(n=this.max,this.max=this.min,this.min=n),isNaN(this.minTemp)||(this.min=this.minTemp),isNaN(this.maxTemp)||(this.max=this.maxTemp),this.minReal=this.min,this.maxReal=this.max,0===this.min&&0===this.max&&(this.max=9),this.min>this.max&&(this.min=this.max-1),n=this.min,t=this.max,r=this.max-this.min,i=0===r?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E))/10,isNaN(this.maximum)&&isNaN(this.maxTemp)&&(this.max=Math.ceil(this.max/i)*i+i),isNaN(this.minimum)&&isNaN(this.minTemp)&&(this.min=Math.floor(this.min/i)*i-i),0>this.min&&0<=n&&(this.min=0),0<this.max&&0>=t&&(this.max=0),"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100),r=this.max-this.min,i=Math.pow(10,Math.floor(Math.log(Math.abs(r))*Math.LOG10E))/10,this.step=Math.ceil(r/this.gridCountR/i)*i,r=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),r=e.fixStepE(r),i=Math.ceil(this.step/r),5<i&&(i=10),5>=i&&2<i&&(i=5),this.step=Math.ceil(this.step/(r*i))*r*i,1>r?(this.maxDecCount=Math.abs(Math.log(Math.abs(r))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=e.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0,this.min=this.step*Math.floor(this.min/this.step),this.max=this.step*Math.ceil(this.max/this.step),0>this.min&&0<=n&&(this.min=0),0<this.max&&0>=t&&(this.max=0),1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal)),r=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E)),0===this.min&&(this.minReal=r),0===this.min&&1<this.minReal&&(this.minReal=1),0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min),this.logarithmic&&(2<Math.log(t)*Math.LOG10E-Math.log(n)*Math.LOG10E?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E)),this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(t))*Math.LOG10E))):(t=Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10,n=Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10,t<n&&(this.minReal=this.min=10*n)))},getMin:function(e,t){var n,r;for(r=e;r<=t;r++){var i=this.data[r].axes[this.id].graphs,s;for(s in i)if(i.hasOwnProperty(s)){var o=this.chart.getGraphById(s);if(o.includeInMinMax&&(!o.hidden||this.includeHidden)){isNaN(n)&&(n=Infinity),this.foundGraphs=!0,o=i[s].values,this.recalculateToPercents&&(o=i[s].percents);var u;if(this.minMaxField)u=o[this.minMaxField],u<n&&(n=u);else for(var a in o)o.hasOwnProperty(a)&&"percents"!=a&&"total"!=a&&(u=o[a],u<n&&(n=u))}}}return n},getMax:function(){var e,t;for(t=this.start;t<=this.end;t++){var n=this.data[t].axes[this.id].graphs,r;for(r in n)if(n.hasOwnProperty(r)){var i=this.chart.getGraphById(r);if(i.includeInMinMax&&(!i.hidden||this.includeHidden)){isNaN(e)&&(e=-Infinity),this.foundGraphs=!0,i=n[r].values,this.recalculateToPercents&&(i=n[r].percents);var s;if(this.minMaxField)s=i[this.minMaxField],s>e&&(e=s);else for(var o in i)i.hasOwnProperty(o)&&"percents"!=o&&"total"!=o&&(s=i[o],s>e&&(e=s))}}}return e},dispatchZoomEvent:function(e,t){var n={type:"axisZoomed",startValue:e,endValue:t,target:this,chart:this.chart};this.fire(n.type,n)},zoomOut:function(){var e=this.chart;"xy"!=e.type&&(this.maxZoom=this.minZoom=void 0,e.updateAfterValueZoom())},zoomToValues:function(e,t){var n=this.chart;"xy"==n.type?(t<e&&(n=t,t=e,e=n),e<this.min&&(e=this.min),t>this.max&&(t=this.max),n={type:"axisSelfZoomed"},n.chart=this.chart,n.valueAxis=this,n.multiplier=this.axisWidth/Math.abs(this.getCoordinate(t)-this.getCoordinate(e)),n.startValue=e,n.endValue=t,n.position="V"==this.orientation?this.reversed?this.getCoordinate(e):this.getCoordinate(t):this.reversed?this.getCoordinate(t):this.getCoordinate(e),this.fire(n.type,n)):(this.minZoom=e,this.maxZoom=t,n.updateAfterValueZoom())},coordinateToValue:function(e){if(isNaN(e))return NaN;var t=this.axisWidth,n=this.stepWidth,r=this.reversed,i=this.rotate,s=this.min,o=this.minReal;return!0===this.logarithmic?Math.pow(10,(i?!0===r?(t-e)/n:e/n:!0===r?e/n:(t-e)/n)+Math.log(o)*Math.LOG10E):!0===r?i?s-(e-t)/n:e/n+s:i?e/n+s:s-(e-t)/n},getCoordinate:function(e){if(isNaN(e))return NaN;var t=this.rotate,n=this.reversed,r=this.axisWidth,i=this.stepWidth,s=this.min,o=this.minReal;return!0===this.logarithmic?(0===e&&(e=this.treatZeroAs),e=Math.log(e)*Math.LOG10E-Math.log(o)*Math.LOG10E,t=t?!0===n?r-i*e:i*e:!0===n?i*e:r-i*e):t=!0===n?t?r-i*(e-s):i*(e-s):t?i*(e-s):r-i*(e-s),t=this.rotate?t+(this.x-this.viX):t+(this.y-this.viY),1e7<Math.abs(t)&&(t=1e7*(t/Math.abs(t))),Math.round(t)},synchronizeWithAxis:function(e){this.synchronizeWith=e,this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){if(this.synchronizeWith){e.isString(this.synchronizeWith)&&(this.synchronizeWith=this.chart.getValueAxisById(this.synchronizeWith));var t=this.synchronizeWith,n=t.min,r=t.max,t=t.step,i=this.synchronizationMultiplier;i&&(this.min=n*i,this.max=r*i,this.step=t*i,n=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),n=Math.abs(Math.log(Math.abs(n))*Math.LOG10E),this.maxDecCount=n=Math.round(n),this.draw())}}})}(),function(){var e=window.AmCharts;e.RecAxis=e.Class({construct:function(t){var n=t.chart,r=t.axisThickness,i=t.axisColor,s=t.axisAlpha,o=t.offset,u=t.dx,a=t.dy,f=t.viX,l=t.viY,c=t.viH,h=t.viW,p=n.container;"H"==t.orientation?(i=e.line(p,[0,h],[0,0],i,s,r),this.axisWidth=t.width,"bottom"==t.position?(a=r/2+o+c+l-1,r=f):(a=-r/2-o+l+a,r=u+f)):(this.axisWidth=t.height,"right"==t.position?(i=e.line(p,[0,0,-u],[0,c,c-a],i,s,r),a=l+a,r=r/2+o+u+h+f-1):(i=e.line(p,[0,0],[0,c],i,s,r),a=l,r=-r/2-o+f)),i.translate(r,a),r=n.container.set(),r.push(i),n.axesSet.push(r),e.setCN(n,i,t.bcn+"line"),this.axisSet=r,this.set=i}})}(),function(){var e=window.AmCharts;e.RecItem=e.Class({construct:function(t,n,r,i,s,o,u,a,f,l,c,h){n=Math.round(n);var p=t.chart;this.value=r,void 0==r&&(r=""),f||(f=0),void 0==i&&(i=!0);var v=p.fontFamily,m=t.fontSize;void 0==m&&(m=p.fontSize);var g=t.color;void 0==g&&(g=p.color),void 0!==c&&(g=c);var y=t.chart.container,b=y.set();this.set=b;var w=t.axisThickness,E=t.axisColor,S=t.axisAlpha,x=t.tickLength,T=t.gridAlpha,N=t.gridThickness,C=t.gridColor,k=t.dashLength,L=t.fillColor,A=t.fillAlpha,O=t.labelsEnabled;c=t.labelRotationR;var M=t.counter,_=t.inside,D=t.labelOffset,P=t.dx,H=t.dy,B=t.orientation,j=t.position,F=t.previousCoord,I=t.viH,q=t.viW,R=t.offset,U,z;u?(void 0!==u.id&&(h=p.classNamePrefix+"-guide-"+u.id),O=!0,isNaN(u.tickLength)||(x=u.tickLength),void 0!=u.lineColor&&(C=u.lineColor),void 0!=u.color&&(g=u.color),isNaN(u.lineAlpha)||(T=u.lineAlpha),isNaN(u.dashLength)||(k=u.dashLength),isNaN(u.lineThickness)||(N=u.lineThickness),!0===u.inside&&(_=!0,0<R&&(R=0)),isNaN(u.labelRotation)||(c=u.labelRotation),isNaN(u.fontSize)||(m=u.fontSize),u.position&&(j=u.position),void 0!==u.boldLabel&&(a=u.boldLabel),isNaN(u.labelOffset)||(D=u.labelOffset)):""===r&&(x=0),l&&!isNaN(t.minorTickLength)&&(x=t.minorTickLength);var W="start";0<s&&(W="middle"),t.centerLabels&&(W="middle");var X=c*Math.PI/180,V,$,J=0,K=0,Q=0,G=V=0,Y=0;"V"==B&&(c=0);var Z;O&&""!==r&&(Z=t.autoWrap&&0===c?e.wrappedText(y,r,g,v,m,W,a,Math.abs(s),0):e.text(y,r,g,v,m,W,a),W=Z.getBBox(),G=W.width,Y=W.height);if("H"==B){if(0<=n&&n<=q+1&&(0<x&&0<S&&n+f<=q+1&&(U=e.line(y,[n+f,n+f],[0,x],E,S,N),b.push(U)),0<T&&(z=e.line(y,[n,n+P,n+P],[I,I+H,H],C,T,N,k),b.push(z))),K=0,J=n,u&&90==c&&_&&(J-=m),!1===i?(W="start",K="bottom"==j?_?K+x:K-x:_?K-x:K+x,J+=3,0<s&&(J+=s/2-3,W="middle"),0<c&&(W="middle")):W="middle",1==M&&0<A&&!u&&!l&&F<q&&(i=e.fitToBounds(n,0,q),F=e.fitToBounds(F,0,q),V=i-F,0<V&&($=e.rect(y,V,t.height,L,A),$.translate(i-V+P,H),b.push($))),"bottom"==j?(K+=I+m/2+R,_?(0<c?(K=I-G/2*Math.sin(X)-x-3,J+=G/2*Math.cos(X)-4+2):0>c?(K=I+G*Math.sin(X)-x-3+2,J+=-G*Math.cos(X)-Y*Math.sin(X)-4):K-=x+m+3+3,K-=D):(0<c?(K=I+G/2*Math.sin(X)+x+3,J-=G/2*Math.cos(X)):0>c?(K=I+x+3-G/2*Math.sin(X)+2,J+=G/2*Math.cos(X)):K+=x+w+3+3,K+=D)):(K+=H+m/2-R,J+=P,_?(0<c?(K=G/2*Math.sin(X)+x+3,J-=G/2*Math.cos(X)):K+=x+3,K+=D):(0<c?(K=-(G/2)*Math.sin(X)-x-6,J+=G/2*Math.cos(X)):K-=x+m+3+w+3,K-=D)),"bottom"==j?V=(_?I-x-1:I+w-1)+R:(Q=P,V=(_?H:H-x-w+1)-R),o&&(J+=o),o=J,0<c&&(o+=G/2*Math.cos(X)),Z&&(m=0,_&&(m=G/2*Math.cos(X)),o+m>q+2||0>o))Z.remove(),Z=null}else{0<=n&&n<=I+1&&(0<x&&0<S&&n+f<=I+1&&(U=e.line(y,[0,x],[n+f,n+f],E,S,N),b.push(U)),0<T&&(z=e.line(y,[0,P,q+P],[n,n+H,n+H],C,T,N,k),b.push(z))),W="end";if(!0===_&&"left"==j||!1===_&&"right"==j)W="start";K=n-Y/2+2,1==M&&0<A&&!u&&!l&&(i=e.fitToBounds(n,0,I),F=e.fitToBounds(F,0,I),X=i-F,$=e.polygon(y,[0,t.width,t.width,0],[0,0,X,X],L,A),$.translate(P,i-X+H),b.push($)),K+=m/2,"right"==j?(J+=P+q+R,K+=H,_?(o||(K-=m/2+3),J=J-(x+4)-D):(J+=x+4+w,K-=2,J+=D)):_?(J+=x+4-R,o||(K-=m/2+3),u&&(J+=P,K+=H),J+=D):(J+=-x-w-4-2-R,K-=2,J-=D),U&&("right"==j?(Q+=P+R+q,V+=H,Q=_?Q-w:Q+w):(Q-=R,_||(Q-=x+w))),o&&(K+=o),_=-3,"right"==j&&(_+=H),Z&&(K>I+1||K<_)&&(Z.remove(),Z=null)}U&&(U.translate(Q,V),e.setCN(p,U,t.bcn+"tick"),e.setCN(p,U,h,!0),u&&e.setCN(p,U,"guide")),!1===t.visible&&(U&&U.remove(),Z&&(Z.remove(),Z=null)),Z&&(Z.attr({"text-anchor":W}),Z.translate(J,K),0!==c&&Z.rotate(-c,t.chart.backgroundColor),t.allLabels.push(Z),this.label=Z,e.setCN(p,Z,t.bcn+"label"),e.setCN(p,Z,h,!0),u&&e.setCN(p,Z,"guide")),z&&(e.setCN(p,z,t.bcn+"grid"),e.setCN(p,z,h,!0),u&&e.setCN(p,z,"guide")),$&&(e.setCN(p,$,t.bcn+"fill"),e.setCN(p,$,h,!0)),l?z&&e.setCN(p,z,t.bcn+"grid-minor"):(t.counter=0===M?1:0,t.previousCoord=n),0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}})}(),function(){var e=window.AmCharts;e.RecFill=e.Class({construct:function(t,n,r,i){var s=t.dx,o=t.dy,u=t.orientation,a=0;if(r<n){var f=n;n=r,r=f}var l=i.fillAlpha;isNaN(l)&&(l=0);var f=t.chart.container,c=i.fillColor;"V"==u?(n=e.fitToBounds(n,0,t.viH),r=e.fitToBounds(r,0,t.viH)):(n=e.fitToBounds(n,0,t.viW),r=e.fitToBounds(r,0,t.viW)),r-=n,isNaN(r)&&(r=4,a=2,l=0),0>r&&"object"==typeof c&&(c=c.join(",").split(",").reverse()),"V"==u?(u=e.rect(f,t.viW,r,c,l),u.translate(s,n-a+o)):(u=e.rect(f,r,t.viH,c,l),u.translate(n-a+s,o)),e.setCN(t.chart,u,"guide-fill"),i.id&&e.setCN(t.chart,u,"guide-fill-"+i.id),this.set=f.set([u])},graphics:function(){return this.set},getLabel:function(){}})}(),function(){var e=window.AmCharts;e.AmChart=e.Class({construct:function(t){this.theme=t,this.classNamePrefix="amcharts",this.addClassNames=!1,this.version="3.15.1",e.addChart(this),this.createEvents("dataUpdated","init","rendered","drawn","failed","resized"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.usePrefixes=!1,this.addCodeCredits=this.autoResize=!0,this.precision=-1,this.percentPrecision=2,this.decimalSeparator=".",this.thousandsSeparator=",",this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[],this.creditsPosition="top-left";var n=document.createElement("div"),r=n.style;r.overflow="hidden",r.position="relative",r.textAlign="left",this.chartDiv=n,n=document.createElement("div"),r=n.style,r.overflow="hidden",r.position="relative",r.textAlign="left",this.legendDiv=n,this.titleHeight=0,this.hideBalloonTime=150,this.handDrawScatter=2,this.handDrawThickness=1,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"μ"},{number:.001,prefix:"m"}],this.panEventsEnabled=!0,this.product="amcharts",this.animations=[],this.balloon=new e.AmBalloon(this.theme),this.balloon.chart=this,e.applyTheme(this,t,"AmChart")},drawChart:function(){0<this.realWidth&&0<this.realHeight&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr(),this.renderFix())},drawBackground:function(){e.remove(this.background);var t=this.container,n=this.backgroundColor,r=this.backgroundAlpha,i=this.set;e.isModern||0!==r||(r=.001);var s=this.updateWidth();this.realWidth=s;var o=this.updateHeight();this.realHeight=o,n=e.polygon(t,[0,s-1,s-1,0],[0,0,o-1,o-1],n,r,1,this.borderColor,this.borderAlpha),e.setCN(this,n,"bg"),this.background=n,i.push(n);if(n=this.backgroundImage)t=t.image(n,0,0,s,o),e.setCN(this,n,"bg-image"),this.bgImg=t,i.push(t)},drawTitles:function(t){var n=this.titles;this.titleHeight=0;if(e.ifArray(n)){var r=20,i;for(i=0;i<n.length;i++){var s=n[i],s=e.processObject(s,e.Title,this.theme);if(!1!==s.enabled){var o=s.color;void 0===o&&(o=this.color);var u=s.size;isNaN(u)&&(u=this.fontSize+2),isNaN(s.alpha);var a=this.marginLeft,o=e.wrappedText(this.container,s.text,o,this.fontFamily,u,"middle",!0,this.divRealWidth-20);o.translate(a+(this.realWidth-this.marginRight-a)/2,r),o.node.style.pointerEvents="none",s.sprite=o,e.setCN(this,o,"title"),s.id&&e.setCN(this,o,"title-"+s.id),a=!0,void 0!==s.bold&&(a=s.bold),a&&o.attr({"font-weight":"bold"}),o.attr({opacity:s.alpha}),r+=o.getBBox().height+5,t?o.remove():this.freeLabelsSet.push(o)}}this.titleHeight=r-10}},write:function(t){if(t="object"!=typeof t?document.getElementById(t):t){for(;t.firstChild;)t.removeChild(t.firstChild);this.div=t,t.style.overflow="hidden",t.style.textAlign="left";var n=this.chartDiv,r=this.legendDiv,i=this.legend,s=r.style,o=n.style;this.measure(),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth;var u,a=document.createElement("div");u=a.style,u.position="relative",this.containerDiv=a,a.className=this.classNamePrefix+"-main-div",n.className=this.classNamePrefix+"-chart-div",t.appendChild(a);var f=this.exportConfig;f&&e.AmExport&&!this.AmExport&&(this.AmExport=new e.AmExport(this,f)),this.amExport&&e.AmExport&&(this.AmExport=e.extend(this.amExport,new e.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init();if(i)if(i=this.addLegend(i,i.divId),i.enabled)switch(i.position){case"bottom":a.appendChild(n),a.appendChild(r);break;case"top":a.appendChild(r),a.appendChild(n);break;case"absolute":u.width=t.style.width,u.height=t.style.height,s.position="absolute",o.position="absolute",void 0!==i.left&&(s.left=i.left+"px"),void 0!==i.right&&(s.right=i.right+"px"),void 0!==i.top&&(s.top=i.top+"px"),void 0!==i.bottom&&(s.bottom=i.bottom+"px"),i.marginLeft=0,i.marginRight=0,a.appendChild(n),a.appendChild(r);break;case"right":u.width=t.style.width,u.height=t.style.height,s.position="relative",o.position="absolute",a.appendChild(n),a.appendChild(r);break;case"left":u.width=t.style.width,u.height=t.style.height,s.position="absolute",o.position="relative",a.appendChild(n),a.appendChild(r);break;case"outside":a.appendChild(n)}else a.appendChild(n);else a.appendChild(n);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),this.initChart()}},createLabelsSet:function(){e.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){window.AmCharts_path&&(this.path=window.AmCharts_path),void 0===this.path&&(this.path=e.getPath()),void 0===this.path&&(this.path="amcharts/"),this.path=e.normalizeUrl(this.path),void 0===this.pathToImages&&(this.pathToImages=this.path+"images/"),this.initHC||(e.callInitHandler(this),this.initHC=!0),e.applyLang(this.language,this);var t=this.numberFormatter;t&&(isNaN(t.precision)||(this.precision=t.precision),void 0!==t.thousandsSeparator&&(this.thousandsSeparator=t.thousandsSeparator),void 0!==t.decimalSeparator&&(this.decimalSeparator=t.decimalSeparator)),(t=this.percentFormatter)&&!isNaN(t.precision)&&(this.percentPrecision=t.precision),this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.destroy(),(t=this.container)?(t.container.innerHTML="",t.width=this.realWidth,t.height=this.realHeight,t.addDefs(this),this.chartDiv.appendChild(t.container)):t=new e.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this),this.container=t,this.checkDisplay(),t.chart=this,e.VML||e.SVG?(t.handDrawn=this.handDrawn,t.handDrawScatter=this.handDrawScatter,t.handDrawThickness=this.handDrawThickness,this.set&&this.set.remove(),this.set=t.set(),this.gridSet&&this.gridSet.remove(),this.gridSet=t.set(),this.cursorLineSet&&this.cursorLineSet.remove(),this.cursorLineSet=t.set(),this.graphsBehindSet&&this.graphsBehindSet.remove(),this.graphsBehindSet=t.set(),this.bulletBehindSet&&this.bulletBehindSet.remove(),this.bulletBehindSet=t.set(),this.columnSet&&this.columnSet.remove(),this.columnSet=t.set(),this.graphsSet&&this.graphsSet.remove(),this.graphsSet=t.set(),this.trendLinesSet&&this.trendLinesSet.remove(),this.trendLinesSet=t.set(),this.axesSet&&this.axesSet.remove(),this.axesSet=t.set(),this.cursorSet&&this.cursorSet.remove(),this.cursorSet=t.set(),this.scrollbarsSet&&this.scrollbarsSet.remove(),this.scrollbarsSet=t.set(),this.bulletSet&&this.bulletSet.remove(),this.bulletSet=t.set(),this.freeLabelsSet&&this.freeLabelsSet.remove(),this.axesLabelsSet&&this.axesLabelsSet.remove(),this.axesLabelsSet=t.set(),this.freeLabelsSet=t.set(),this.balloonsSet&&this.balloonsSet.remove(),this.balloonsSet=t.set(),this.zoomButtonSet&&this.zoomButtonSet.remove(),this.zbSet&&(this.zbSet.remove(),this.zbSet=null),this.zoomButtonSet=t.set(),this.linkSet&&this.linkSet.remove(),this.linkSet=t.set()):this.fire("failed",{type:"failed",chart:this})},premeasure:function(){var e=this.div;if(e){this.boundingRect=this.chartDiv.getBoundingClientRect();var t=e.offsetWidth,n=e.offsetHeight;e.clientHeight&&(t=e.clientWidth,n=e.clientHeight);if(t!=this.mw||n!=this.mh)this.mw=t,this.mh=n,this.measure()}},measure:function(){var t=this.div;if(t){var n=this.chartDiv,r=t.offsetWidth,i=t.offsetHeight,s=this.container;t.clientHeight&&(r=t.clientWidth,i=t.clientHeight);var o=e.removePx(e.getStyle(t,"padding-left")),u=e.removePx(e.getStyle(t,"padding-right")),a=e.removePx(e.getStyle(t,"padding-top")),f=e.removePx(e.getStyle(t,"padding-bottom"));isNaN(o)||(r-=o),isNaN(u)||(r-=u),isNaN(a)||(i-=a),isNaN(f)||(i-=f),o=t.style,t=o.width,o=o.height,-1!=t.indexOf("px")&&(r=e.removePx(t)),-1!=o.indexOf("px")&&(i=e.removePx(o)),i=Math.round(i),r=Math.round(r),t=Math.round(e.toCoordinate(this.width,r)),o=Math.round(e.toCoordinate(this.height,i)),(r!=this.previousWidth||i!=this.previousHeight)&&0<t&&0<o&&(n.style.width=t+"px",n.style.height=o+"px",n.style.padding=0,s&&s.setSize(t,o),this.balloon=e.processObject(this.balloon,e.AmBalloon,this.theme),this.balloon.setBounds(2,2,t-2,o)),this.balloon.chart=this,this.realWidth=t,this.realHeight=o,this.divRealWidth=r,this.divRealHeight=i}},checkDisplay:function(){if(this.container){var t=e.rect(this.container,10,10),n=t.getBBox();0===n.width&&0===n.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=NaN),t.remove()}},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts(),this.legend&&this.legend.destroy()},clearTimeOuts:function(){var e=this.timeOuts;if(e){var t;for(t=0;t<e.length;t++)clearTimeout(e[t])}this.timeOuts=[]},clear:function(t){e.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),t||e.removeChart(this);if(t=this.div)for(;t.firstChild;)t.removeChild(t.firstChild);this.legend&&this.legend.destroy()},setMouseCursor:function(t){"auto"==t&&e.isNN&&(t="default"),this.chartDiv.style.cursor=t,this.legendDiv.style.cursor=t},redrawLabels:function(){this.labels=[];var e=this.allLabels;this.createLabelsSet();var t;for(t=0;t<e.length;t++)this.drawLabel(e[t])},drawLabel:function(t){if(this.container&&!1!==t.enabled){t=e.processObject(t,e.Label,this.theme);var n=t.y,r=t.text,i=t.align,s=t.size,o=t.color,u=t.rotation,a=t.alpha,f=t.bold,l=e.toCoordinate(t.x,this.realWidth),n=e.toCoordinate(n,this.realHeight);l||(l=0),n||(n=0),void 0===o&&(o=this.color),isNaN(s)&&(s=this.fontSize),i||(i="start"),"left"==i&&(i="start"),"right"==i&&(i="end"),"center"==i&&(i="middle",u?n=this.realHeight-n+n/2:l=this.realWidth/2-l),void 0===a&&(a=1),void 0===u&&(u=0),n+=s/2,r=e.text(this.container,r,o,this.fontFamily,s,i,f,a),r.translate(l,n),e.setCN(this,r,"label"),t.id&&e.setCN(this,r,"label-"+t.id),0!==u&&r.rotate(u),t.url?(r.setAttr("cursor","pointer"),r.click(function(){e.getURL(t.url)})):r.node.style.pointerEvents="none",this.labelsSet.push(r),this.labels.push(r)}},addLabel:function(e,t,n,r,i,s,o,u,a,f){e={x:e,y:t,text:n,align:r,size:i,color:s,alpha:u,rotation:o,bold:a,url:f,enabled:!0},this.container&&this.drawLabel(e),this.allLabels.push(e)},clearLabels:function(){var e=this.labels,t;for(t=e.length-1;0<=t;t--)e[t].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var e=this.divRealHeight,t=this.legend;if(t){var n=this.legendDiv.offsetHeight,t=t.position;if("top"==t||"bottom"==t){e-=n;if(0>e||isNaN(e))e=0;this.chartDiv.style.height=e+"px"}}return e},updateWidth:function(){var e=this.divRealWidth,t=this.divRealHeight,n=this.legend;if(n){var r=this.legendDiv,i=r.offsetWidth;isNaN(n.width)||(i=n.width),n.ieW&&(i=n.ieW);var s=r.offsetHeight,r=r.style,o=this.chartDiv.style,n=n.position;if("right"==n||"left"==n){e-=i;if(0>e||isNaN(e))e=0;o.width=e+"px","left"==n?(o.left=i+"px",r.left="0px"):(o.left="0px",r.left=e+"px"),t>s&&(r.top=(t-s)/2+"px")}}return e},getTitleHeight:function(){return this.drawTitles(!0),this.titleHeight},addTitle:function(e,t,n,r,i){return isNaN(t)&&(t=this.fontSize+2),e={text:e,size:t,color:n,alpha:r,bold:i,enabled:!0},this.titles.push(e),e},handleWheel:function(e){var t=0;e||(e=window.event),e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t&&this.handleWheelReal(t,e.shiftKey),e.preventDefault&&e.preventDefault()},handleWheelReal:function(){},addListeners:function(){var e=this,t=e.chartDiv;document.addEventListener?(e.panEventsEnabled&&(t.style.msTouchAction="none"),"ontouchstart"in document.documentElement&&(t.addEventListener("touchstart",function(t){e.handleTouchStart.call(e,t)},!0),t.addEventListener("touchmove",function(t){e.handleMouseMove.call(e,t)},!0),t.addEventListener("touchend",function(t){e.handleTouchEnd.call(e,t)},!0)),t.addEventListener("mousedown",function(t){e.mouseIsOver=!0,e.handleMouseMove.call(e,t),e.handleMouseDown.call(e,t)},!0),t.addEventListener("mouseover",function(t){e.handleMouseOver.call(e,t)},!0),t.addEventListener("mouseout",function(t){e.handleMouseOut.call(e,t)},!0)):(t.attachEvent("onmousedown",function(t){e.handleMouseDown.call(e,t)}),t.attachEvent("onmouseover",function(t){e.handleMouseOver.call(e,t)}),t.attachEvent("onmouseout",function(t){e.handleMouseOut.call(e,t)}))},dispDUpd:function(){if(!this.skipEvents){var e;this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,e="dataUpdated",this.fire(e,{type:e,chart:this})),this.chartCreated||(this.chartCreated=!0,e="init",this.fire(e,{type:e,chart:this})),this.chartRendered||(e="rendered",this.fire(e,{type:e,chart:this}),this.chartRendered=!0),e="drawn",this.fire(e,{type:e,chart:this})}this.skipEvents=!1},validateSize:function(){var e=this;e.premeasure(),e.checkDisplay();if(e.divRealWidth!=e.previousWidth||e.divRealHeight!=e.previousHeight){var t=e.legend;if(0<e.realWidth&&0<e.realHeight){e.sizeChanged=!0;if(t){e.legendInitTO&&clearTimeout(e.legendInitTO);var n=setTimeout(function(){t.invalidateSize()},10);e.timeOuts.push(n),e.legendInitTO=n}"xy"!=e.type?e.marginsUpdated=!1:(e.marginsUpdated=!0,e.selfZoom=!0),clearTimeout(e.initTO),n=setTimeout(function(){e.initChart()},10),e.timeOuts.push(n),e.initTO=n}e.fire("resized",{type:"resized",chart:e}),e.renderFix(),t&&t.renderFix&&t.renderFix(),e.previousHeight=e.divRealHeight,e.previousWidth=e.divRealWidth}},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN,this.invalidateSizeReal()},invalidateSizeReal:function(){var e=this;e.marginsUpdated=!1,clearTimeout(e.validateTO);var t=setTimeout(function(){e.validateSize()},5);e.timeOuts.push(t),e.validateTO=t},validateData:function(e){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(e))},validateNow:function(e,t){this.initTO&&clearTimeout(this.initTO),e&&(this.dataChanged=!0),this.skipEvents=t,this.chartRendered=!1,this.write(this.div)},showItem:function(e){e.hidden=!1,this.initChart()},hideItem:function(e){e.hidden=!0,this.initChart()},hideBalloon:function(){var e=this;clearTimeout(e.hoverInt),clearTimeout(e.balloonTO),e.hoverInt=setTimeout(function(){e.hideBalloonReal.call(e)},e.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var e=this.balloon;e&&e.hide()},showBalloon:function(e,t,n,r,i){var s=this;clearTimeout(s.balloonTO),clearTimeout(s.hoverInt),s.balloonTO=setTimeout(function(){s.showBalloonReal.call(s,e,t,n,r,i)},1)},showBalloonReal:function(e,t,n,r,i){this.handleMouseMove();var s=this.balloon;s.enabled&&(s.followCursor(!1),s.changeColor(t),!n||s.fixedPosition?(s.setPosition(r,i),s.followCursor(!1)):s.followCursor(!0),e&&s.showBalloon(e))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO),e.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){var e=this;e.outTO&&clearTimeout(e.outTO),e.outTO=setTimeout(function(){e.handleMouseOutReal()},10)},handleMouseOutReal:function(){e.resetMouseOver(),this.mouseIsOver=!1},handleMouseMove:function(e){e||(e=window.event);if(e){if(e.touches&&(e=e.touches.item(0),!e))return;this.boundingRect&&e.clientX&&(this.mouseX=e.clientX-this.boundingRect.left,this.mouseY=e.clientY-this.boundingRect.top)}},handleTouchStart:function(e){this.handleMouseMove(e),this.handleMouseDown(e)},handleTouchEnd:function(t){this.handleMouseMove(t),e.resetMouseOver(),this.handleReleaseOutside(t)},handleReleaseOutside:function(){},handleMouseDown:function(t){e.resetMouseOver(),this.mouseIsOver=!0,t&&t.preventDefault&&(this.panEventsEnabled?t.preventDefault():t.touches||t.preventDefault())},addLegend:function(t,n){t=e.processObject(t,e.AmLegend,this.theme),t.divId=n,t.ieW=0;var r;return r="object"!=typeof n&&n?document.getElementById(n):n,this.legend=t,t.chart=this,r?(t.div=r,t.position="outside",t.autoMargins=!1):t.div=this.legendDiv,t},removeLegend:function(){this.legend=void 0,this.legendDiv.innerHTML=""},handleResize:function(){(e.isPercents(this.width)||e.isPercents(this.height))&&this.invalidateSizeReal(),this.renderFix()},renderFix:function(){if(!e.VML){var t=this.container;t&&t.renderFix()}},getSVG:function(){if(e.hasSVG)return this.container},animate:function(t,n,r,i,s,o,u){return t["an_"+n]&&e.removeFromArray(this.animations,t["an_"+n]),r={obj:t,frame:0,attribute:n,from:r,to:i,time:s,effect:o,suffix:u},t["an_"+n]=r,this.animations.push(r),r},setLegendData:function(e){var t=this.legend;t&&t.setData(e)},stopAnim:function(t){e.removeFromArray(this.animations,t)},updateAnimations:function(){var t;this.container&&this.container.update();if(this.animations)for(t=this.animations.length-1;0<=t;t--){var n=this.animations[t],r=1e3*n.time/e.updateRate,i=n.frame+1,s=n.obj,o=n.attribute;if(i<=r){n.frame++;var u=Number(n.from),a=Number(n.to)-u,r=e[n.effect](0,i,u,a,r);0===a?(this.animations.splice(t,1),s.node.style[o]=Number(n.to)+n.suffix):s.node.style[o]=r+n.suffix}else s.node.style[o]=Number(n.to)+n.suffix,this.animations.splice(t,1)}},update:function(){this.updateAnimations()},inIframe:function(){try{return window.self!==window.top}catch(e){return!0}},brr:function(){var e="amcharts.com",t=window.location.hostname.split("."),n;2<=t.length&&(n=t[t.length-2]+"."+t[t.length-1]),this.amLink&&(t=this.amLink.parentNode)&&t.removeChild(this.amLink),t=this.creditsPosition;if(n!=e||!0===this.inIframe()){var e="http://www."+e,r=n=0,i=this.realWidth,s=this.realHeight,o=this.type;if("serial"==o||"xy"==o||"gantt"==o)n=this.marginLeftReal,r=this.marginTopReal,i=n+this.plotAreaWidth,s=r+this.plotAreaHeight;var o=e+"/javascript-charts/",u="JavaScript charts",a="JS chart by amCharts";"ammap"==this.product&&(o=e+"/javascript-maps/",u="Interactive JavaScript maps",a="JS map by amCharts"),e=document.createElement("a"),a=document.createTextNode(a),e.setAttribute("href",o),e.setAttribute("title",u),e.appendChild(a),this.chartDiv.appendChild(e),this.amLink=e,o=e.style,o.position="absolute",o.textDecoration="none",o.color=this.color,o.fontFamily=this.fontFamily,o.fontSize=this.fontSize+"px",o.opacity=.7,o.display="block";var u=e.offsetWidth,e=e.offsetHeight,a=5+n,f=r+5;"bottom-left"==t&&(a=5+n,f=s-e-3),"bottom-right"==t&&(a=i-u-5,f=s-e-3),"top-right"==t&&(a=i-u-5,f=r+5),o.left=a+"px",o.top=f+"px"}}}),e.Slice=e.Class({construct:function(){}}),e.SerialDataItem=e.Class({construct:function(){}}),e.GraphDataItem=e.Class({construct:function(){}}),e.Guide=e.Class({construct:function(t){this.cname="Guide",e.applyTheme(this,t,this.cname)}}),e.Title=e.Class({construct:function(t){this.cname="Title",e.applyTheme(this,t,this.cname)}}),e.Label=e.Class({construct:function(t){this.cname="Label",e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.AmGraph=e.Class({construct:function(t){this.cname="AmGraph",this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.type="line",this.stackable=!0,this.columnCount=1,this.columnIndex=0,this.centerCustomBullets=this.showBalloon=!0,this.maxBulletSize=50,this.minBulletSize=4,this.balloonText="[[value]]",this.hidden=this.scrollbar=this.animationPlayed=!1,this.pointPosition="middle",this.depthCount=1,this.includeInMinMax=!0,this.negativeBase=0,this.visibleInLegend=!0,this.showAllValueLabels=!1,this.showBulletsAt=this.showBalloonAt="close",this.lineThickness=1,this.dashLength=0,this.connect=!0,this.lineAlpha=1,this.bullet="none",this.bulletBorderThickness=2,this.bulletBorderAlpha=0,this.bulletAlpha=1,this.bulletSize=8,this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0,this.cursorBulletAlpha=1,this.gradientOrientation="vertical",this.dy=this.dx=0,this.periodValue="",this.clustered=!0,this.periodSpan=1,this.y=this.x=0,this.switchable=!0,this.tcc=this.minDistance=1,this.labelRotation=0,this.labelAnchor="auto",this.labelOffset=3,this.bcn="graph-",this.dateFormat="MMM DD, YYYY",e.applyTheme(this,t,this.cname)},draw:function(){var t=this.chart,n=t.type;isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:t.decimalSeparator,thousandsSeparator:t.thousandsSeparator});var r=t.container;this.container=r,this.destroy();var i=r.set(),s=r.set();this.behindColumns?(t.graphsBehindSet.push(i),t.bulletBehindSet.push(s)):(t.graphsSet.push(i),t.bulletSet.push(s));var o=this.bulletAxis;e.isString(o)&&(this.bulletAxis=t.getValueAxisById(o)),this.bulletSet=s;if(!this.scrollbar){var o=t.marginLeftReal,u=t.marginTopReal;i.translate(o,u),s.translate(o,u)}r=r.set(),e.remove(this.columnsSet),i.push(r),this.set=i,e.setCN(t,i,"graph-"+this.type),e.setCN(t,i,"graph-"+this.id),e.setCN(t,s,"graph-"+this.type),e.setCN(t,s,"graph-"+this.id),this.columnsSet=r,this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],i=this.labelPosition,i||(s=this.valueAxis.stackType,i="top","column"==this.type&&(t.rotate&&(i="right"),"100%"==s||"regular"==s)&&(i="middle"),this.labelPosition=i),e.ifArray(this.data)&&(t=!1,"xy"==n?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(t=!0):this.valueAxis.axisCreated&&(t=!0),!this.hidden&&t&&this.createGraph())},createGraph:function(){var e=this,t=e.chart;e.startAlpha=t.startAlpha,e.seqAn=t.sequencedAnimation,e.baseCoord=e.valueAxis.baseCoord,void 0===e.fillAlphas&&(e.fillAlphas=0),e.bulletColorR=e.bulletColor,void 0===e.bulletColorR&&(e.bulletColorR=e.lineColorR,e.bulletColorNegative=e.negativeLineColor),void 0===e.bulletAlpha&&(e.bulletAlpha=e.lineAlpha),t=t.type,"gantt"==t&&(t="serial"),clearTimeout(e.playedTO);if(!isNaN(e.valueAxis.min)&&!isNaN(e.valueAxis.max)){switch(t){case"serial":e.categoryAxis&&(e.createSerialGraph(),"candlestick"==e.type&&1>e.valueAxis.minMaxMultiplier&&e.positiveClip(e.set));break;case"radar":e.createRadarGraph();break;case"xy":e.createXYGraph(),e.positiveClip(e.set)}e.playedTO=setTimeout(function(){e.setAnimationPlayed.call(e)},500*e.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var e=[],t=[],n=this.xAxis,r=this.yAxis;this.pmh=r.viH+1,this.pmw=n.viW+1,this.pmy=this.pmx=0;var i;for(i=this.start;i<=this.end;i++){var s=this.data[i].axes[n.id].graphs[this.id],o=s.values,u=o.x,a=o.y,o=n.getCoordinate(u),f=r.getCoordinate(a);!isNaN(u)&&!isNaN(a)&&(e.push(o),t.push(f),s.x=o,s.y=f,u=this.createBullet(s,o,f,i),a=this.labelText)&&(s=this.createLabel(s,o,f,a),this.positionLabel(o,f,s,u),this.allBullets.push(s))}this.drawLineGraph(e,t),this.launchAnimation()},createRadarGraph:function(){var e=this.valueAxis.stackType,t=[],n=[],r=[],i=[],s,o,u,a,f;for(f=this.start;f<=this.end;f++){var l=this.data[f].axes[this.valueAxis.id].graphs[this.id],c,h;"none"==e||"3d"==e?c=l.values.value:(c=l.values.close,h=l.values.open);if(isNaN(c))this.connect||(this.drawLineGraph(t,n,r,i),t=[],n=[],r=[],i=[]);else{var p=this.y-(this.valueAxis.getCoordinate(c)-this.height),p=p*this.valueAxis.rMultiplier,d=180-360/(this.end-this.start+1)*f;"middle"==this.valueAxis.pointPosition&&(d-=180/(this.end-this.start+1)),c=p*Math.sin(d/180*Math.PI),p*=Math.cos(d/180*Math.PI),t.push(c),n.push(p);if(!isNaN(h)){var v=this.y-(this.valueAxis.getCoordinate(h)-this.height),v=v*this.valueAxis.rMultiplier,m=v*Math.sin(d/180*Math.PI),d=v*Math.cos(d/180*Math.PI);r.push(m),i.push(d),isNaN(u)&&(u=m),isNaN(a)&&(a=d)}d=this.createBullet(l,c,p,f);if(m=this.labelText)l=this.createLabel(l,c,p,m),this.positionLabel(c,p,l,d),this.allBullets.push(l);isNaN(s)&&(s=c),isNaN(o)&&(o=p)}}t.push(s),n.push(o),isNaN(u)||(r.push(u),i.push(a)),this.drawLineGraph(t,n,r,i),this.launchAnimation()},positionLabel:function(e,t,n,r){var i="middle",s=!1,o=this.labelPosition,u=n.getBBox();if(r){var a=r.graphDataItem,f=this.chart.rotate,l=a.isNegative,c=this.chart;t-=u.height/4/2;switch(o){case"top":o=f?"top":l?"bottom":"top";break;case"right":o=f?l?"left":"right":"right";break;case"bottom":o=f?"bottom":l?"top":"bottom";break;case"left":o=f?l?"right":"left":"left"}var h=a.columnGraphics,p=0,d=0;h&&(p=h.x,d=h.y);var v=this.labelOffset;switch(o){case"top":t-=r.size/2+u.height/2+v;break;case"right":i="start",e+=r.size/2+v;break;case"bottom":t+=r.size/2+u.height/2+v;break;case"left":i="end",e-=r.size/2+v;break;case"inside":"column"==this.type&&(s=!0,f?l?(i="end",e=p-3-v):(i="start",e=p+3+v):t=l?d+7+v:d-10-v);break;case"middle":"column"==this.type&&(s=!0,f?e-=(e-p)/2+v-3:t-=(t-d)/2+v-3)}"auto"!=this.labelAnchor&&(i=this.labelAnchor),n.attr({"text-anchor":i}),this.labelRotation&&n.rotate(this.labelRotation),n.translate(e,t),u=n.getBBox(),!this.showAllValueLabels&&h&&s&&(u.height>a.columnHeight||u.width>a.columnWidth)&&(n.remove(),n=!1);if(n&&("serial"==c.type||"gantt"==c.type))if(f){if(0>t||t>this.height)n.remove(),n=!1}else if(0>e||e>this.width)n.remove(),n=!1;return n}},getGradRotation:function(){var e=270;return"horizontal"==this.gradientOrientation&&(e=0),this.gradientRotation=e},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var t=this.chart,n=this.id,r=this.index,i=this.data,s=this.chart.container,o=this.valueAxis,u=this.type,a=this.columnWidthReal,f=this.showBulletsAt;isNaN(this.columnWidth)||(a=this.columnWidth),isNaN(a)&&(a=.8);var l=this.useNegativeColorIfDown,c=this.width,h=this.height,p=this.y,v=this.rotate,m=this.columnCount,g=e.toCoordinate(this.cornerRadiusTop,a/2),y=this.connect,b=[],w=[],E,S,x,T,N=this.chart.graphs.length,C,k=this.dx/this.tcc,L=this.dy/this.tcc,A=o.stackType,O=this.start,M=this.end,_=this.scrollbar,D="graph-column-";_&&(D="scrollbar-graph-column-");var P=this.categoryAxis,H=this.baseCoord,B=this.negativeBase,j=this.columnIndex,F=this.lineThickness,I=this.lineAlpha,q=this.lineColorR,R=this.dashLength,U=this.set,z,W=this.getGradRotation(),X=this.chart.columnSpacing,V=P.cellWidth,$=(V*a-m)/m;X>$&&(X=$);var J,K,Q,G=h+1,Y=c+1,Z=0,et=0,tt,nt,rt,it,st=this.fillColorsR,ot=this.negativeFillColors,ut=this.negativeLineColor,at=this.fillAlphas,ft=this.negativeFillAlphas;"object"==typeof at&&(at=at[0]),"object"==typeof ft&&(ft=ft[0]);var lt=o.getCoordinate(o.min);o.logarithmic&&(lt=o.getCoordinate(o.minReal)),this.minCoord=lt,this.resetBullet&&(this.bullet="none");if(!(_||"line"!=u&&"smoothedLine"!=u&&"step"!=u||(1==i.length&&"step"!=u&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!ot&&void 0==ut||l))){var ct=B;ct>o.max&&(ct=o.max),ct<o.min&&(ct=o.min),o.logarithmic&&(ct=o.minReal);var ht=o.getCoordinate(ct),pt=o.getCoordinate(o.max);v?(G=h,Y=Math.abs(pt-ht)+1,tt=h,nt=Math.abs(lt-ht)+1,it=et=0,o.reversed?(Z=0,rt=ht):(Z=ht,rt=0)):(Y=c,G=Math.abs(pt-ht)+1,nt=c,tt=Math.abs(lt-ht)+1,rt=Z=0,o.reversed?(it=p,et=ht):it=ht+1)}var dt=Math.round;this.pmx=dt(Z),this.pmy=dt(et),this.pmh=dt(G),this.pmw=dt(Y),this.nmx=dt(rt),this.nmy=dt(it),this.nmh=dt(tt),this.nmw=dt(nt),e.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),this.clustered||(m=1),a="column"==u?(V*a-X*(m-1))/m:V*a,1>a&&(a=1);var vt=this.fixedColumnWidth;isNaN(vt)||(a=vt);var mt;if("line"==u||"step"==u||"smoothedLine"==u){if(0<O){for(mt=O-1;-1<mt;mt--)if(J=i[mt],K=J.axes[o.id].graphs[n],Q=K.values.value,!isNaN(Q)){O=mt;break}if(this.lineColorField)for(mt=O;-1<mt;mt--)if(J=i[mt],K=J.axes[o.id].graphs[n],K.lineColor){this.bulletColorSwitched=this.lineColorSwitched=K.lineColor;break}if(this.fillColorsField)for(mt=O;-1<mt;mt--)if(J=i[mt],K=J.axes[o.id].graphs[n],K.fillColors){this.fillColorsSwitched=K.fillColors;break}if(this.dashLengthField)for(mt=O;-1<mt;mt--)if(J=i[mt],K=J.axes[o.id].graphs[n],!isNaN(K.dashLength)){this.dashLengthSwitched=K.dashLength;break}}if(M<i.length-1)for(mt=M+1;mt<i.length;mt++)if(J=i[mt],K=J.axes[o.id].graphs[n],Q=K.values.value,!isNaN(Q)){M=mt;break}}M<i.length-1&&M++;var gt=[],yt=[],bt=!1;if("line"==u||"step"==u||"smoothedLine"==u)if(this.stackable&&"regular"==A||"100%"==A||this.fillToGraph)bt=!0;var wt=this.noStepRisers,Et=-1e3,St=-1e3,xt=this.minDistance,Tt=!0,Nt=!1;for(mt=O;mt<=M;mt++){J=i[mt],K=J.axes[o.id].graphs[n],K.index=mt;var Ct,kt=NaN;if(l&&void 0==this.openField)for(var Lt=mt+1;Lt<i.length&&(!i[Lt]||!(Ct=i[mt+1].axes[o.id].graphs[n])||!Ct.values||(kt=Ct.values.value,isNaN(kt)));Lt++);var At,Ot,Mt,_t,Dt=NaN,Pt=NaN,Ht=NaN,Bt=NaN,jt=NaN,Ft=NaN,It=NaN,qt=NaN,Rt=NaN,Ut=NaN,zt=NaN,Wt=NaN,Xt=NaN,Vt=NaN,$t=NaN,Jt=NaN,Kt=NaN,Qt=void 0,Gt=st,Yt=at,Zt=q,en,tn,nn=this.proCandlesticks,rn=this.topRadius,sn=this.pattern;void 0!=K.pattern&&(sn=K.pattern),isNaN(K.alpha)||(Yt=K.alpha),isNaN(K.dashLength)||(R=K.dashLength);var on=K.values;o.recalculateToPercents&&(on=K.percents);if(on){Vt=this.stackable&&"none"!=A&&"3d"!=A?on.close:on.value;if("candlestick"==u||"ohlc"==u)Vt=on.close,Jt=on.low,It=o.getCoordinate(Jt),$t=on.high,Rt=o.getCoordinate($t);Kt=on.open,Ht=o.getCoordinate(Vt),isNaN(Kt)||(jt=o.getCoordinate(Kt),l&&(kt=Kt,Kt=jt=NaN)),l&&(void 0==this.openField?Ct&&(Ct.isNegative=kt<Vt?!0:!1,isNaN(kt)&&(K.isNegative=!Tt)):K.isNegative=kt>Vt?!0:!1);if(!_)switch(this.showBalloonAt){case"close":K.y=Ht;break;case"open":K.y=jt;break;case"high":K.y=Rt;break;case"low":K.y=It}var Dt=J.x[P.id],un=this.periodSpan-1,an=Math.floor(V/2)+Math.floor(un*V/2),fn=an,ln=0;"left"==this.stepDirection&&(ln=(2*V+un*V)/2,Dt-=ln),"center"==this.stepDirection&&(ln=V/2,Dt-=ln),"start"==this.pointPosition&&(Dt-=V/2+Math.floor(un*V/2),an=0,fn=Math.floor(V)+Math.floor(un*V)),"end"==this.pointPosition&&(Dt+=V/2+Math.floor(un*V/2),an=Math.floor(V)+Math.floor(un*V),fn=0);if(wt){var cn=this.columnWidth;isNaN(cn)||(an*=cn,fn*=cn)}_||(K.x=Dt),-1e5>Dt&&(Dt=-1e5),Dt>c+1e5&&(Dt=c+1e5),v?(Pt=Ht,Bt=jt,jt=Ht=Dt,isNaN(Kt)&&!this.fillToGraph&&(Bt=H),Ft=It,qt=Rt):(Bt=Pt=Dt,isNaN(Kt)&&!this.fillToGraph&&(jt=H));if(!nn&&Vt<Kt||nn&&Vt<z)K.isNegative=!0,ot&&(Gt=ot),ft&&(Yt=ft),void 0!=ut&&(Zt=ut);Nt=!1,isNaN(Vt)||(l?Vt>kt?(Tt&&(Nt=!0),Tt=!1):(Tt||(Nt=!0),Tt=!0):K.isNegative=Vt<B?!0:!1,z=Vt);var hn=!1;_&&t.chartScrollbar.ignoreCustomColors&&(hn=!0),hn||(void 0!=K.color&&(Gt=K.color),K.fillColors&&(Gt=K.fillColors));switch(u){case"line":if(isNaN(Vt))y||(this.drawLineGraph(b,w,gt,yt),b=[],w=[],gt=[],yt=[]);else{if(Math.abs(Pt-Et)>=xt||Math.abs(Ht-St)>=xt)b.push(Pt),w.push(Ht),Et=Pt,St=Ht;Ut=Pt,zt=Ht,Wt=Pt,Xt=Ht,!bt||isNaN(jt)||isNaN(Bt)||(gt.push(Bt),yt.push(jt));if(Nt||void 0!=K.lineColor||void 0!=K.fillColors||!isNaN(K.dashLength))this.drawLineGraph(b,w,gt,yt),b=[Pt],w=[Ht],gt=[],yt=[],!bt||isNaN(jt)||isNaN(Bt)||(gt.push(Bt),yt.push(jt)),l?Tt?(this.lineColorSwitched=q,this.fillColorsSwitched=st):(this.lineColorSwitched=ut,this.fillColorsSwitched=ot):(this.lineColorSwitched=K.lineColor,this.fillColorsSwitched=K.fillColors),this.dashLengthSwitched=K.dashLength;K.gap&&(this.drawLineGraph(b,w,gt,yt),b=[],w=[],gt=[],yt=[])}break;case"smoothedLine":if(isNaN(Vt))y||(this.drawSmoothedGraph(b,w,gt,yt),b=[],w=[],gt=[],yt=[]);else{if(Math.abs(Pt-Et)>=xt||Math.abs(Ht-St)>=xt)b.push(Pt),w.push(Ht),Et=Pt,St=Ht;Ut=Pt,zt=Ht,Wt=Pt,Xt=Ht,!bt||isNaN(jt)||isNaN(Bt)||(gt.push(Bt),yt.push(jt)),void 0==K.lineColor&&void 0==K.fillColors&&isNaN(K.dashLength)||(this.drawSmoothedGraph(b,w,gt,yt),b=[Pt],w=[Ht],gt=[],yt=[],!bt||isNaN(jt)||isNaN(Bt)||(gt.push(Bt),yt.push(jt)),this.lineColorSwitched=K.lineColor,this.fillColorsSwitched=K.fillColors,this.dashLengthSwitched=K.dashLength),K.gap&&(this.drawSmoothedGraph(b,w,gt,yt),b=[],w=[],gt=[],yt=[])}break;case"step":if(!isNaN(Vt)){v?(isNaN(E)||(b.push(E),w.push(Ht-an)),w.push(Ht-an),b.push(Pt),w.push(Ht+fn),b.push(Pt),!bt||isNaN(jt)||isNaN(Bt)||(isNaN(x)||(gt.push(x),yt.push(jt-an)),gt.push(Bt),yt.push(jt-an),gt.push(Bt),yt.push(jt+fn))):(isNaN(S)||(w.push(S),b.push(Pt-an)),b.push(Pt-an),w.push(Ht),b.push(Pt+fn),w.push(Ht),!bt||isNaN(jt)||isNaN(Bt)||(isNaN(T)||(gt.push(Bt-an),yt.push(T)),gt.push(Bt-an),yt.push(jt),gt.push(Bt+fn),yt.push(jt))),E=Pt,S=Ht,x=Bt,T=jt,Ut=Pt,zt=Ht,Wt=Pt,Xt=Ht;if(Nt||void 0!=K.lineColor||void 0!=K.fillColors||!isNaN(K.dashLength)){var pn=b[b.length-2],dn=w[w.length-2];b.pop(),w.pop(),this.drawLineGraph(b,w,gt,yt),b=[pn],w=[dn],v?(w.push(Ht+fn),b.push(Pt)):(b.push(Pt+fn),w.push(Ht)),gt=[],yt=[],this.lineColorSwitched=K.lineColor,this.fillColorsSwitched=K.fillColors,this.dashLengthSwitched=K.dashLength,l&&(Tt?(this.lineColorSwitched=q,this.fillColorsSwitched=st):(this.lineColorSwitched=ut,this.fillColorsSwitched=ot))}if(wt||K.gap)E=S=NaN,this.drawLineGraph(b,w,gt,yt),b=[],w=[],gt=[],yt=[]}else if(!y){if(1>=this.periodSpan||1<this.periodSpan&&Pt-E>an+fn)E=S=NaN;this.drawLineGraph(b,w,gt,yt),b=[],w=[],gt=[],yt=[]}break;case"column":en=Zt,void 0!=K.lineColor&&(en=K.lineColor);if(!isNaN(Vt)){l||(K.isNegative=Vt<B?!0:!1),K.isNegative&&(ot&&(Gt=ot),void 0!=ut&&(en=ut));var vn=o.min,mn=o.max;if(!(Vt<vn&&Kt<vn||Vt>mn&&Kt>mn)){var gn;if(v){"3d"==A?(Ot=Ht-(m/2-this.depthCount+1)*(a+X)+X/2+L*j,At=Bt+k*j,gn=j):(Ot=Math.floor(Ht-(m/2-j)*(a+X)+X/2),At=Bt,gn=0),Mt=a,Ut=Pt,zt=Ot+a/2,isNaN(Bt)||Bt>Pt&&!K.isNegative&&(Ut=Bt),Wt=Pt,Xt=Ot+a/2,Ot+Mt>h+gn*L&&(Mt=h-Ot+gn*L),Ot<gn*L&&(Mt+=Ot,Ot=gn*L),_t=Pt-Bt;var yn=At;At=e.fitToBounds(At,0,c),_t+=yn-At,_t=e.fitToBounds(_t,-At,c-At+k*j),Ot<h&&0<Mt&&(Qt=new e.Cuboid(s,_t,Mt,k-t.d3x,L-t.d3y,Gt,Yt,F,en,I,W,g,v,R,sn,rn,D),K.columnWidth=Math.abs(_t),K.columnHeight=Math.abs(Mt))}else{"3d"==A?(At=Pt-(m/2-this.depthCount+1)*(a+X)+X/2+k*j,Ot=jt+L*j,gn=j):(At=Pt-(m/2-j)*(a+X)+X/2,Ot=jt,gn=0),Mt=a,Ut=At+a/2,zt=Ht,isNaN(jt)||jt<Ht&&!K.isNegative&&(zt=jt),Wt=At+a/2,Xt=Ht,At+Mt>c+gn*k&&(Mt=c-At+gn*k),At<gn*k&&(Mt+=At-gn*k,At=gn*k),_t=Ht-jt;var bn=Ot;Ot=e.fitToBounds(Ot,this.dy,h),_t+=bn-Ot,_t=e.fitToBounds(_t,-Ot+L*j,h-Ot),At<c+j*k&&0<Mt&&(this.showOnAxis&&(Ot-=L/2),Qt=new e.Cuboid(s,Mt,_t,k-t.d3x,L-t.d3y,Gt,Yt,F,en,this.lineAlpha,W,g,v,R,sn,rn,D),K.columnHeight=Math.abs(_t),K.columnWidth=Math.abs(Mt))}}if(Qt&&(tn=Qt.set,e.setCN(t,Qt.set,"graph-"+this.type),e.setCN(t,Qt.set,"graph-"+this.id),K.className&&e.setCN(t,Qt.set,K.className,!0),K.columnGraphics=tn,tn.translate(At,Ot),this.columnsSet.push(tn),(K.url||this.showHandOnHover)&&tn.setAttr("cursor","pointer"),!_)){"none"==A&&(C=v?(this.end+1-mt)*N-r:N*mt+r),"3d"==A&&(v?(C=(this.end+1-mt)*N-r-1e3*this.depthCount,Ut+=k*this.columnIndex,Wt+=k*this.columnIndex,K.y+=k*this.columnIndex):(C=(N-r)*(mt+1)+1e3*this.depthCount,zt+=L*this.columnIndex,Xt+=L*this.columnIndex,K.y+=L*this.columnIndex));if("regular"==A||"100%"==A)C=v?0<on.value?(this.end+1-mt)*N+r:(this.end+1-mt)*N-r:0<on.value?N*mt+r:N*mt-r;this.columnsArray.push({column:Qt,depth:C}),K.x=v?Ot+Mt/2:At+Mt/2,this.ownColumns.push(Qt),this.animateColumns(Qt,mt,Pt,Bt,Ht,jt),this.addListeners(tn,K)}}break;case"candlestick":if(!isNaN(Kt)&&!isNaN(Vt)){var wn,En;en=Zt,void 0!=K.lineColor&&(en=K.lineColor);if(v){if(Ot=Ht-a/2,At=Bt,Mt=a,Ot+Mt>h&&(Mt=h-Ot),0>Ot&&(Mt+=Ot,Ot=0),Ot<h&&0<Mt){var Sn,xn;Vt>Kt?(Sn=[Pt,qt],xn=[Bt,Ft]):(Sn=[Bt,qt],xn=[Pt,Ft]),!isNaN(qt)&&!isNaN(Ft)&&Ht<h&&0<Ht&&(wn=e.line(s,Sn,[Ht,Ht],en,I,F),En=e.line(s,xn,[Ht,Ht],en,I,F)),_t=Pt-Bt,Qt=new e.Cuboid(s,_t,Mt,k,L,Gt,at,F,en,I,W,g,v,R,sn,rn,D)}}else if(At=Pt-a/2,Ot=jt+F/2,Mt=a,At+Mt>c&&(Mt=c-At),0>At&&(Mt+=At,At=0),_t=Ht-jt,At<c&&0<Mt){nn&&Vt>=Kt&&(Yt=0);var Qt=new e.Cuboid(s,Mt,_t,k,L,Gt,Yt,F,en,I,W,g,v,R,sn,rn,D),Tn,Nn;Vt>Kt?(Tn=[Ht,Rt],Nn=[jt,It]):(Tn=[jt,Rt],Nn=[Ht,It]),!isNaN(Rt)&&!isNaN(It)&&Pt<c&&0<Pt&&(wn=e.line(s,[Pt,Pt],Tn,en,I,F),En=e.line(s,[Pt,Pt],Nn,en,I,F),e.setCN(t,wn,this.bcn+"line-high"),K.className&&e.setCN(t,wn,K.className,!0),e.setCN(t,En,this.bcn+"line-low"),K.className&&e.setCN(t,En,K.className,!0))}Qt&&(tn=Qt.set,K.columnGraphics=tn,U.push(tn),tn.translate(At,Ot-F/2),(K.url||this.showHandOnHover)&&tn.setAttr("cursor","pointer"),wn&&(U.push(wn),U.push(En)),Ut=Pt,zt=Ht,v?(Xt=Ht,Wt=Pt,"open"==f&&(Wt=Bt),"high"==f&&(Wt=qt),"low"==f&&(Wt=Ft)):(Xt=Ht,"open"==f&&(Xt=jt),"high"==f&&(Xt=Rt),"low"==f&&(Xt=It),Wt=Pt),_||(K.x=v?Ot+Mt/2:At+Mt/2,this.animateColumns(Qt,mt,Pt,Bt,Ht,jt),this.addListeners(tn,K)))}break;case"ohlc":if(!(isNaN(Kt)||isNaN($t)||isNaN(Jt)||isNaN(Vt))){var Cn=s.set();U.push(Cn),Vt<Kt&&(K.isNegative=!0,void 0!=ut&&(Zt=ut));var kn,Ln,An;if(v){var On=Ht-a/2,On=e.fitToBounds(On,0,h),Mn=e.fitToBounds(Ht,0,h),_n=Ht+a/2,_n=e.fitToBounds(_n,0,h);Ln=e.line(s,[Bt,Bt],[On,Mn],Zt,I,F,R),0<Ht&&Ht<h&&(kn=e.line(s,[Ft,qt],[Ht,Ht],Zt,I,F,R)),An=e.line(s,[Pt,Pt],[Mn,_n],Zt,I,F,R),Xt=Ht,Wt=Pt,"open"==f&&(Wt=Bt),"high"==f&&(Wt=qt),"low"==f&&(Wt=Ft)}else{var Dn=Pt-a/2,Dn=e.fitToBounds(Dn,0,c),Pn=e.fitToBounds(Pt,0,c),Hn=Pt+a/2,Hn=e.fitToBounds(Hn,0,c);Ln=e.line(s,[Dn,Pn],[jt,jt],Zt,I,F,R),0<Pt&&Pt<c&&(kn=e.line(s,[Pt,Pt],[It,Rt],Zt,I,F,R)),An=e.line(s,[Pn,Hn],[Ht,Ht],Zt,I,F,R),Xt=Ht,"open"==f&&(Xt=jt),"high"==f&&(Xt=Rt),"low"==f&&(Xt=It),Wt=Pt}U.push(Ln),U.push(kn),U.push(An),e.setCN(t,Ln,this.bcn+"stroke-open"),e.setCN(t,An,this.bcn+"stroke-close"),e.setCN(t,kn,this.bcn+"stroke"),K.className&&e.setCN(t,Cn,K.className,!0),Ut=Pt,zt=Ht}}if(!_&&!isNaN(Vt)){var Bn=this.hideBulletsCount;if(this.end-this.start<=Bn||0===Bn){var jn=this.createBullet(K,Wt,Xt,mt),Fn=this.labelText;if(Fn&&jn){var In=this.createLabel(K,Wt,Xt,Fn);(In=this.positionLabel(Ut,zt,In,jn,Mt,_t))&&this.allBullets.push(In)}if("regular"==A||"100%"==A){var qn=o.totalText;if(qn){var Rn=this.createLabel(K,0,0,qn,o.totalTextColor);this.allBullets.push(Rn);var Un=Rn.getBBox(),zn=Un.width,Wn=Un.height,Xn,Vn,$n=o.totalTextOffset,Jn=o.totals[mt];Jn&&Jn.remove();var Kn=0;"column"!=u&&(Kn=this.bulletSize),v?(Vn=Ht,Xn=0>Vt?Pt-zn/2-2-Kn-$n:Pt+zn/2+3+Kn+$n):(Xn=Pt,Vn=0>Vt?Ht+Wn/2+Kn+$n:Ht-Wn/2-3-Kn-$n),Rn.translate(Xn,Vn),o.totals[mt]=Rn,v?(0>Vn||Vn>h)&&Rn.remove():(0>Xn||Xn>c)&&Rn.remove()}}}}}}if("line"==u||"step"==u||"smoothedLine"==u)"smoothedLine"==u?this.drawSmoothedGraph(b,w,gt,yt):this.drawLineGraph(b,w,gt,yt),_||this.launchAnimation();this.bulletsHidden&&this.hideBullets(),this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(e,t){var n=this,r=n.chart.startDuration;0<r&&!n.animationPlayed&&(n.seqAn?(e.set.hide(),n.animationArray.push(e),r=setTimeout(function(){n.animate.call(n)},r/(n.end-n.start+1)*(t-n.start)*1e3),n.timeOuts.push(r)):n.animate(e))},createLabel:function(t,n,r,i,s){var o=this.chart,u=t.labelColor;u||(u=this.color),u||(u=o.color),s&&(u=s),s=this.fontSize,void 0===s&&(this.fontSize=s=o.fontSize);var a=this.labelFunction;return i=o.formatString(i,t),i=e.cleanFromEmpty(i),a&&(i=a(t,i)),t=e.text(this.container,i,u,o.fontFamily,s),t.node.style.pointerEvents="none",t.translate(n,r),this.bulletSet.push(t),t},positiveClip:function(e){e.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(e){e.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(t,n,r,i){var s=this;if(1<t.length){var o=s.set,u=s.chart,a=s.container,f=a.set(),l=a.set();o.push(l),o.push(f);var c=s.lineAlpha,h=s.lineThickness,o=s.fillAlphas,p=s.lineColorR,v=s.negativeLineAlpha;isNaN(v)&&(v=c);var m=s.lineColorSwitched;m&&(p=m);var m=s.fillColorsR,g=s.fillColorsSwitched;g&&(m=g);var y=s.dashLength;(g=s.dashLengthSwitched)&&(y=g);var g=s.negativeLineColor,b=s.negativeFillColors,w=s.negativeFillAlphas,E=s.baseCoord;0!==s.negativeBase&&(E=s.valueAxis.getCoordinate(s.negativeBase),E>s.height&&(E=s.height),0>E&&(E=0)),c=e.line(a,t,n,p,c,h,y,!1,!0),e.setCN(u,c,s.bcn+"stroke"),f.push(c),f.click(function(e){s.handleGraphEvent(e,"clickGraph")}).mouseover(function(e){s.handleGraphEvent(e,"rollOverGraph")}).mouseout(function(e){s.handleGraphEvent(e,"rollOutGraph")}),void 0===g||s.useNegativeColorIfDown||(h=e.line(a,t,n,g,v,h,y,!1,!0),e.setCN(u,h,s.bcn+"stroke"),e.setCN(u,h,s.bcn+"stroke-negative"),l.push(h));if(0<o||0<w)if(h=t.join(";").split(";"),v=n.join(";").split(";"),c=u.type,"serial"==c||"radar"==c?0<r.length?(r.reverse(),i.reverse(),h=t.concat(r),v=n.concat(i)):"radar"==c?(v.push(0),h.push(0)):s.rotate?(v.push(v[v.length-1]),h.push(E),v.push(v[0]),h.push(E),v.push(v[0]),h.push(h[0])):(h.push(h[h.length-1]),v.push(E),h.push(h[0]),v.push(E),h.push(t[0]),v.push(v[0])):"xy"==c&&(n=s.fillToAxis)&&(e.isString(n)&&(n=u.getValueAxisById(n)),"H"==n.orientation?(E="top"==n.position?0:n.viH,h.push(h[h.length-1]),v.push(E),h.push(h[0]),v.push(E),h.push(t[0]),v.push(v[0])):(E="left"==n.position?0:n.viW,v.push(v[v.length-1]),h.push(E),v.push(v[0]),h.push(E),v.push(v[0]),h.push(h[0]))),t=s.gradientRotation,0<o&&(n=e.polygon(a,h,v,m,o,1,"#000",0,t),n.pattern(s.pattern,NaN,u.path),e.setCN(u,n,s.bcn+"fill"),f.push(n)),b||void 0!==g)isNaN(w)&&(w=o),b||(b=g),a=e.polygon(a,h,v,b,w,1,"#000",0,t),e.setCN(u,a,s.bcn+"fill"),e.setCN(u,a,s.bcn+"fill-negative"),a.pattern(s.pattern,NaN,u.path),l.push(a),l.click(function(e){s.handleGraphEvent(e,"clickGraph")}).mouseover(function(e){s.handleGraphEvent(e,"rollOverGraph")}).mouseout(function(e){s.handleGraphEvent(e,"rollOutGraph")});s.applyMask(l,f)}},applyMask:function(e,t){var n=e.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(t),0<n&&this.negativeClip(e))},drawSmoothedGraph:function(t,n,r,i){if(1<t.length){var s=this.set,o=this.chart,u=this.container,a=u.set(),f=u.set();s.push(f),s.push(a);var l=this.lineAlpha,c=this.lineThickness,s=this.dashLength,h=this.fillAlphas,p=this.lineColorR,v=this.fillColorsR,m=this.negativeLineColor,g=this.negativeFillColors,y=this.negativeFillAlphas,b=this.baseCoord,w=this.lineColorSwitched;w&&(p=w),(w=this.fillColorsSwitched)&&(v=w),w=this.negativeLineAlpha,isNaN(w)&&(w=l),l=new e.Bezier(u,t,n,p,l,c,v,0,s),e.setCN(o,l,this.bcn+"stroke"),a.push(l.path),void 0!==m&&(c=new e.Bezier(u,t,n,m,w,c,v,0,s),e.setCN(o,c,this.bcn+"stroke"),e.setCN(o,c,this.bcn+"stroke-negative"),f.push(c.path)),0<h&&(l=t.join(";").split(";"),p=n.join(";").split(";"),c="",0<r.length?(r.push("M"),i.push("M"),r.reverse(),i.reverse(),l=t.concat(r),p=n.concat(i)):(this.rotate?(c+=" L"+b+","+n[n.length-1],c+=" L"+b+","+n[0]):(c+=" L"+t[t.length-1]+","+b,c+=" L"+t[0]+","+b),c+=" L"+t[0]+","+n[0]),r=new e.Bezier(u,l,p,NaN,0,0,v,h,s,c),e.setCN(o,r,this.bcn+"fill"),r.path.pattern(this.pattern,NaN,o.path),a.push(r.path),g||void 0!==m)&&(y||(y=h),g||(g=m),t=new e.Bezier(u,t,n,NaN,0,0,g,y,s,c),t.path.pattern(this.pattern,NaN,o.path),e.setCN(o,t,this.bcn+"fill"),e.setCN(o,t,this.bcn+"fill-negative"),f.push(t.path)),this.applyMask(f,a)}},launchAnimation:function(){var t=this,n=t.chart.startDuration;if(0<n&&!t.animationPlayed){var r=t.set,i=t.bulletSet;e.VML||(r.attr({opacity:t.startAlpha}),i.attr({opacity:t.startAlpha})),r.hide(),i.hide(),t.seqAn?(n=setTimeout(function(){t.animateGraphs.call(t)},t.index*n*1e3),t.timeOuts.push(n)):t.animateGraphs()}},animateGraphs:function(){var e=this.chart,t=this.set,n=this.bulletSet,r=this.x,i=this.y;t.show(),n.show();var s=e.startDuration,e=e.startEffect;t&&(this.rotate?(t.translate(-1e3,i),n.translate(-1e3,i)):(t.translate(r,-1e3),n.translate(r,-1e3)),t.animate({opacity:1,translate:r+","+i},s,e),n.animate({opacity:1,translate:r+","+i},s,e))},animate:function(t){var n=this.chart,r=this.animationArray;!t&&0<r.length&&(t=r[0],r.shift()),r=e[e.getEffect(n.startEffect)],n=n.startDuration,t&&(this.rotate?t.animateWidth(n,r):t.animateHeight(n,r),t.set.show())},legendKeyColor:function(){var e=this.legendColor,t=this.lineAlpha;return void 0===e&&(e=this.lineColorR,0===t&&(t=this.fillColorsR)&&(e="object"==typeof t?t[0]:t)),e},legendKeyAlpha:function(){var e=this.legendAlpha;return void 0===e&&(e=this.lineAlpha,this.fillAlphas>e&&(e=this.fillAlphas),0===e&&(e=this.bulletAlpha),0===e&&(e=1)),e},createBullet:function(t,n,r){if(!isNaN(n)&&!isNaN(r)){var i=this.chart,s=this.container,o=this.bulletOffset,u=this.bulletSize;isNaN(t.bulletSize)||(u=t.bulletSize);var a=t.values.value,f=this.maxValue,l=this.minValue,c=this.maxBulletSize,h=this.minBulletSize;isNaN(f)||(isNaN(a)||(u=(a-l)/(f-l)*(c-h)+h),l==f&&(u=c)),f=u,this.bulletAxis&&(u=t.values.error,isNaN(u)||(a=u),u=this.bulletAxis.stepWidth*a),u<this.minBulletSize&&(u=this.minBulletSize),this.rotate?n=t.isNegative?n-o:n+o:r=t.isNegative?r+o:r-o;var p,h=this.bulletColorR;t.lineColor&&(this.bulletColorSwitched=t.lineColor),this.bulletColorSwitched&&(h=this.bulletColorSwitched),t.isNegative&&void 0!==this.bulletColorNegative&&(h=this.bulletColorNegative),void 0!==t.color&&(h=t.color);var v;"xy"==i.type&&this.valueField&&(v=this.pattern,t.pattern&&(v=t.pattern)),o=this.bullet,t.bullet&&(o=t.bullet);var a=this.bulletBorderThickness,l=this.bulletBorderColorR,c=this.bulletBorderAlpha,m=this.bulletAlpha;l||(l=h),this.useLineColorForBulletBorder&&(l=this.lineColorR,this.lineColorSwitched&&(l=this.lineColorSwitched));var g=t.alpha;isNaN(g)||(m=g);if("none"!=this.bullet||t.bullet)p=e.bullet(s,o,u,h,m,a,l,c,f,0,v,i.path);if(this.customBullet||t.customBullet)v=this.customBullet,t.customBullet&&(v=t.customBullet),v&&(p&&p.remove(),"function"==typeof v?(p=new v,p.chart=i,t.bulletConfig&&(p.availableSpace=r,p.graph=this,p.graphDataItem=t,p.bulletY=r,t.bulletConfig.minCoord=this.minCoord-r,p.bulletConfig=t.bulletConfig),p.write(s),p=p.set):(p=s.set(),s=s.image(v,0,0,u,u),p.push(s),this.centerCustomBullets&&s.translate(-u/2,-u/2)));if(p){(t.url||this.showHandOnHover)&&p.setAttr("cursor","pointer");if("serial"==i.type||"gantt"==i.type)if(-0.5>n-0||n-0>this.width||r<-u/2||r-0>this.height)p.remove(),p=null;p&&(this.bulletSet.push(p),p.translate(n,r),this.addListeners(p,t),this.allBullets.push(p)),t.bx=n,t.by=r,e.setCN(i,p,this.bcn+"bullet"),t.className&&e.setCN(i,p,t.className,!0)}return p?(p.size=u||0,t.bulletGraphics=p):p={size:0},p.graphDataItem=t,p}},showBullets:function(){var e=this.allBullets,t;this.bulletsHidden=!1;for(t=0;t<e.length;t++)e[t].show()},hideBullets:function(){var e=this.allBullets,t;this.bulletsHidden=!0;for(t=0;t<e.length;t++)e[t].hide()},showCustomBullets:function(){var e=this.allBullets,t;this.customBulletsHidden=!1;for(t=0;t<e.length;t++)e[t].graphDataItem.customBullet&&e[t].show()},hideCustomBullets:function(){var e=this.allBullets,t;this.customBulletsHidden=!0;for(t=0;t<e.length;t++)e[t].graphDataItem.customBullet&&e[t].hide()},addListeners:function(e,t){var n=this;e.mouseover(function(e){n.handleRollOver(t,e)}).mouseout(function(e){n.handleRollOut(t,e)}).touchend(function(e){n.handleRollOver(t,e),n.chart.panEventsEnabled&&n.handleClick(t,e)}).touchstart(function(e){n.handleRollOver(t,e)}).click(function(e){n.handleClick(t,e)}).dblclick(function(e){n.handleDoubleClick(t,e)}).contextmenu(function(e){n.handleRightClick(t,e)})},handleRollOver:function(t,n){if(t){var r=this.chart,i={type:"rollOverGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:n};this.fire("rollOverGraphItem",i),r.fire("rollOverGraphItem",i),clearTimeout(r.hoverInt),i=this.showBalloon,!r.chartCursor||"serial"!=r.type&&"gantt"!=r.type||(i=!1,!r.chartCursor.valueBalloonsEnabled&&this.showBalloon&&(i=!0));if(i){var i=r.formatString(this.balloonText,t,!0),s=this.balloonFunction;s&&(i=s(t,t.graph)),i=e.cleanFromEmpty(i),s=r.getBalloonColor(this,t),r.balloon.showBullet=!1,r.balloon.pointerOrientation="V";var o=t.x,u=t.y;r.rotate&&(o=t.y,u=t.x),""!==i?r.showBalloon(i,s,!0,o+r.marginLeftReal,u+r.marginTopReal):this.chart.hideBalloonReal()}else this.chart.hideBalloonReal()}this.handleGraphEvent(n,"rollOverGraph")},handleRollOut:function(e,t){this.chart.hideBalloon();if(e){var n={type:"rollOutGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire("rollOutGraphItem",n),this.chart.fire("rollOutGraphItem",n)}this.handleGraphEvent(t,"rollOutGraph")},handleClick:function(t,n){if(t){var r={type:"clickGraphItem",item:t,index:t.index,graph:this,target:this,chart:this.chart,event:n};this.fire("clickGraphItem",r),this.chart.fire("clickGraphItem",r),e.getURL(t.url,this.urlTarget)}this.handleGraphEvent(n,"clickGraph")},handleGraphEvent:function(e,t){var n={type:t,graph:this,target:this,chart:this.chart,event:e};this.fire(t,n),this.chart.fire(t,n)},handleRightClick:function(e,t){if(e){var n={type:"rightClickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire("rightClickGraphItem",n),this.chart.fire("rightClickGraphItem",n)}},handleDoubleClick:function(e,t){if(e){var n={type:"doubleClickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire("doubleClickGraphItem",n),this.chart.fire("doubleClickGraphItem",n)}},zoom:function(e,t){this.start=e,this.end=t,this.draw()},changeOpacity:function(e){var t=this.set;t&&t.setAttr("opacity",e);if(t=this.ownColumns){var n;for(n=0;n<t.length;n++){var r=t[n].set;r&&r.setAttr("opacity",e)}}(t=this.bulletSet)&&t.setAttr("opacity",e)},destroy:function(){e.remove(this.set),e.remove(this.bulletSet);var t=this.timeOuts;if(t){var n;for(n=0;n<t.length;n++)clearTimeout(t[n])}this.timeOuts=[]}})}(),function(){var e=window.AmCharts;e.ChartCursor=e.Class({construct:function(t){this.cname="ChartCursor",this.createEvents("changed","zoomed","onHideCursor","draw","selected","moved"),this.enabled=!0,this.cursorAlpha=1,this.selectionAlpha=.2,this.cursorColor="#CC0000",this.categoryBalloonAlpha=1,this.color="#FFFFFF",this.type="cursor",this.zoomed=!1,this.zoomable=!0,this.pan=!1,this.categoryBalloonDateFormat="MMM DD, YYYY",this.categoryBalloonText="[[category]]",this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0,this.rolledOver=!1,this.cursorPosition="middle",this.bulletsEnabled=this.skipZoomDispatch=!1,this.bulletSize=8,this.selectWithoutZooming=this.oneBalloonOnly=!1,this.graphBulletSize=1.7,this.animationDuration=.3,this.zooming=!1,this.adjustment=0,this.avoidBalloonOverlapping=!0,this.leaveCursor=!1,e.applyTheme(this,t,this.cname)},draw:function(){this.destroy();var t=this.chart,n=t.container;this.rotate=t.rotate,this.container=n,n=n.set(),n.translate(this.x,this.y),this.set=n,t.cursorSet.push(n),n=new e.AmBalloon,n.className="category",n.chart=t,this.categoryBalloon=n,e.copyProperties(t.balloon,n),n.cornerRadius=0,n.shadowAlpha=0,n.borderThickness=1,n.borderAlpha=1,n.showBullet=!1;var r=this.categoryBalloonColor;void 0===r&&(r=this.cursorColor),n.fillColor=r,n.balloonColor=r,n.fillAlpha=this.categoryBalloonAlpha,n.borderColor=r,n.color=this.color,r=this.valueLineAxis,e.isString(r)&&(r=t.getValueAxisById(r)),r||(r=t.valueAxes[0]),this.valueLineAxis=r,this.valueLineBalloonEnabled&&(this.vaBalloon=r=new e.AmBalloon,e.copyProperties(n,r),r.animationDuration=0,this.rotate||(r.pointerOrientation="H")),this.rotate&&(n.pointerOrientation="H"),this.extraWidth=0,this.prevX=[],this.prevY=[],this.prevTX=[],this.prevTY=[];if(this.valueBalloonsEnabled)for(n=0;n<t.graphs.length;n++)r=new e.AmBalloon,r.className=t.graphs[n].id,r.chart=t,e.copyProperties(t.balloon,r),t.graphs[n].valueBalloon=r;"cursor"==this.type?this.createCursor():this.createCrosshair()},updateData:function(){var e=this.chart;this.data=e.chartData,this.firstTime=e.firstTime,this.lastTime=e.lastTime},createCursor:function(){var t=this.chart,n=this.cursorAlpha,r=t.categoryAxis,i=this.categoryBalloon,s,o,u,a;u=t.dx,a=t.dy;var f=this.width,l=this.height,c=t.rotate;i.pointerWidth=r.tickLength,c?(s=[0,f,f+u],o=[0,0,a],u=[u,0,0],a=[a,0,l]):(s=[u,0,0],o=[a,0,l],u=[0,f,f+u],a=[0,0,a]),s=e.line(this.container,s,o,this.cursorColor,n,1),e.setCN(t,s,"cursor-line"),this.line=s,s.node.style.pointerEvents="none",(o=this.fullRectSet)?(o.push(s),o.translate(this.x,this.y)):this.set.push(s),this.valueLineEnabled&&(s=this.valueLineAlpha,isNaN(s)||(n=s),n=e.line(this.container,u,a,this.cursorColor,n,1),n.node.style.pointerEvents="none",e.setCN(t,n,"cursor-value-line"),this.vLine=n,this.set.push(n)),this.setBalloonBounds(i,r,c),(t=this.vaBalloon)&&this.setBalloonBounds(t,this.valueLineAxis,!c),this.hideCursor()},createCrosshair:function(){var t=this.cursorAlpha,n=this.container,r=e.line(n,[0,0],[0,this.height],this.cursorColor,t,1),t=e.line(n,[0,this.width],[0,0],this.cursorColor,t,1);e.setCN(this.chart,r,"cursor-line"),e.setCN(this.chart,t,"cursor-line"),this.set.push(r),this.set.push(t),this.vLine=r,this.hLine=t,this.hideCursor()},update:function(){var e=this.chart;if(e)if(e.mouseIsOver){var t=e.mouseX-this.x,n=e.mouseY-this.y;-0.5<t&&t<this.width+1&&0<n&&n<this.height?(this.drawing?this.rolledOver||e.setMouseCursor("crosshair"):this.pan&&(this.rolledOver||e.setMouseCursor("move")),this.rolledOver=!0,(this.valueLineEnabled||this.valueLineBalloonEnabled)&&this.updateVLine(t,n),this.setPosition()):this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)}else this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)},updateVLine:function(e,t){var n=this.vLine,r=this.vaBalloon;if((n||r)&&!this.panning&&!this.drawing){n&&n.show();var i=this.valueLineAxis,s,o=this.rotate;o?(n&&n.translate(e,0),i&&(s=i.coordinateToValue(e)),n=e):(n&&n.translate(0,t),i&&(s=i.coordinateToValue(t)),n=t-1);if(r&&!isNaN(s)&&this.prevLineValue!=s){var u=i.formatValue(s,!0);this.setBalloonPosition(r,i,n,!o),r.showBalloon(u)}this.prevLineValue=s}},getMousePosition:function(){var e,t=this.width,n=this.height;return e=this.chart,this.rotate?(e=e.mouseY-this.y,0>e&&(e=0),e>n&&(e=n)):(e=e.mouseX-this.x-1,0>e&&(e=0),e>t&&(e=t)),e},updateCrosshair:function(){var t=this.chart,n=t.mouseX-this.x,r=t.mouseY-this.y,i=this.vLine,s=this.hLine,n=e.fitToBounds(n,0,this.width),r=e.fitToBounds(r,0,this.height);i&&0<this.cursorAlpha&&(i.show(),s.show(),i.translate(n,0),s.translate(0,r)),this.zooming&&(t.hideXScrollbar&&(n=NaN),t.hideYScrollbar&&(r=NaN),this.updateSelectionSize(n,r)),this.fireMoved(),t.mouseIsOver||this.zooming||this.hideCursor()},fireMoved:function(){var e=this.chart,t={type:"moved",target:this};t.chart=e,t.zooming=this.zooming,t.x=e.mouseX-this.x,t.y=e.mouseY-this.y,this.fire("moved",t)},updateSelectionSize:function(t,n){e.remove(this.selection);var r=this.selectionPosX,i=this.selectionPosY,s=0,o=0,u=this.width,a=this.height;isNaN(t)||(r>t&&(s=t,u=r-t),r<t&&(s=r,u=t-r),r==t&&(s=t,u=0),u+=this.extraWidth,s-=this.extraWidth/2),isNaN(n)||(i>n&&(o=n,a=i-n),i<n&&(o=i,a=n-i),i==n&&(o=n,a=0),a+=this.extraWidth,o-=this.extraWidth/2),0<u&&0<a&&(r=e.rect(this.container,u,a,this.cursorColor,this.selectionAlpha),e.setCN(this.chart,r,"cursor-selection"),r.translate(s+this.x,o+this.y),this.selection=r)},arrangeBalloons:function(){var e=this.valueBalloons,t=this.x,n=this.y,r=this.height+n;e.sort(this.compareY);var i;for(i=0;i<e.length;i++){var s=e[i].balloon;s.setBounds(t,n,t+this.width,r),s.prevX=this.prevX[i],s.prevY=this.prevY[i],s.prevTX=this.prevTX[i],s.prevTY=this.prevTY[i],s.draw(),r=s.yPos-3}this.arrangeBalloons2()},compareY:function(e,t){return e.yy<t.yy?1:-1},arrangeBalloons2:function(){var e=this.valueBalloons;e.reverse();var t,n=this.x,r,i,s=e.length;for(i=0;i<s;i++){var o=e[i].balloon;t=o.bottom;var u=o.bottom-o.yPos,a=s-i-1;0<i&&t-u<r+3&&(o.setBounds(n,r+3,n+this.width,r+u+3),o.prevX=this.prevX[a],o.prevY=this.prevY[a],o.prevTX=this.prevTX[a],o.prevTY=this.prevTY[a],o.draw()),o.set&&o.set.show(),this.prevX[a]=o.prevX,this.prevY[a]=o.prevY,this.prevTX[a]=o.prevTX,this.prevTY[a]=o.prevTY,r=o.bottom}},showBullets:function(){e.remove(this.allBullets);var t=this.container,n=t.set();this.set.push(n),this.set.show(),this.allBullets=n;var n=this.chart.graphs,r;for(r=0;r<n.length;r++){var i=n[r];if(!i.hidden&&i.balloonText){var s=this.data[this.index].axes[i.valueAxis.id].graphs[i.id],o=s.y;if(!isNaN(o)){var u,a;u=s.x,this.rotate?(a=o,o=u):a=u,i=e.circle(t,this.bulletSize/2,this.chart.getBalloonColor(i,s,!0),i.cursorBulletAlpha),i.translate(a,o),this.allBullets.push(i)}}}},destroy:function(){this.clear(),e.remove(this.selection),this.selection=null;var t=this.categoryBalloon;t&&t.destroy(),(t=this.vaBalloon)&&t.destroy(),this.destroyValueBalloons(),e.remove(this.set)},clear:function(){},destroyValueBalloons:function(){var e=this.valueBalloons;if(e){var t;for(t=0;t<e.length;t++)e[t].balloon.hide()}},zoom:function(t,n,r,i){var s=this.chart;this.destroyValueBalloons(),this.zooming=!1;var o;this.rotate?this.selectionPosY=o=s.mouseY:this.selectionPosX=o=s.mouseX,this.start=t,this.end=n,this.startTime=r,this.endTime=i,this.zoomed=!0,i=s.categoryAxis,o=this.rotate,n=this.width,r=this.height,t=i.stepWidth;if(this.fullWidth){var u=1;i.parseDates&&!i.equalSpacing&&(u=i.minDuration()),o?this.extraWidth=r=t*u:(this.extraWidth=n=t*u,this.categoryBalloon.minWidth=n),this.line&&this.line.remove(),this.line=e.rect(this.container,n,r,this.cursorColor,this.cursorAlpha,0),this.line.node.style.pointerEvents="none",e.setCN(s,this.line,"cursor-fill"),this.fullRectSet&&this.fullRectSet.push(this.line)}this.stepWidth=t,this.tempVal=this.valueBalloonsEnabled,this.valueBalloonsEnabled=!1,this.setPosition(),this.valueBalloonsEnabled=this.tempVal,this.hideCursor()},hideObj:function(e){e&&e.hide()},hideCursor:function(t){void 0===t&&(t=!0),this.leaveCursor||(this.hideObj(this.set),this.hideObj(this.categoryBalloon),this.hideObj(this.line),this.hideObj(this.vLine),this.hideObj(this.hLine),this.hideObj(this.vaBalloon),this.hideObj(this.allBullets),this.destroyValueBalloons(),this.selectWithoutZooming||e.remove(this.selection),this.previousIndex=NaN,t&&this.fire("onHideCursor",{type:"onHideCursor",chart:this.chart,target:this}),this.drawing||this.chart.setMouseCursor("auto"),this.normalizeBulletSize())},setPosition:function(t,n,r){void 0===n&&(n=!0);if("cursor"==this.type){if(this.tempPosition=NaN,e.ifArray(this.data))isNaN(t)&&(t=this.getMousePosition()),(t!=this.previousMousePosition||!0===this.zoomed||this.oneBalloonOnly)&&!isNaN(t)&&("mouse"==this.cursorPosition&&(this.tempPosition=t),isNaN(r)&&(r=this.chart.categoryAxis.xToIndex(t)),r!=this.previousIndex||this.zoomed||"mouse"==this.cursorPosition||this.oneBalloonOnly)&&(this.updateCursor(r,n),this.zoomed=!1),this.previousMousePosition=t}else this.updateCrosshair()},normalizeBulletSize:function(){var e=this.resizedBullets;if(e)for(var t=0;t<e.length;t++){var n=e[t],r=n.bulletGraphics;r&&(r.translate(n.bx,n.by,1),n=n.graph,isNaN(this.graphBulletAlpha)||(r.setAttr("fill-opacity",n.bulletAlpha),r.setAttr("stroke-opacity",n.bulletBorderAlpha)))}},updateCursor:function(t,n){var r=this.chart,i=this.fullWidth,s=r.mouseX-this.x,o=r.mouseY-this.y;this.drawingNow&&(e.remove(this.drawingLine),this.drawingLine=e.line(this.container,[this.x+this.drawStartX,this.x+s],[this.y+this.drawStartY,this.y+o],this.cursorColor,1,1));if(this.enabled){void 0===n&&(n=!0),this.index=t+=this.adjustment;var u=r.categoryAxis,a=r.dx,f=r.dy,l=this.x+1,c=this.y+1,h=this.width,p=this.height,v=this.data[t],m;this.data[t+1]&&(m=this.data[t+1]),this.fireMoved();if(v){var g=v.x[u.id],y=r.rotate,b=this.stepWidth,w=this.categoryBalloon,E=this.firstTime,S=this.lastTime,x=this.cursorPosition,T=this.zooming,N=this.panning,C=r.graphs;if(r.mouseIsOver||T||N||this.forceShow)if(this.forceShow=!1,N){var a=this.panClickPos,r=this.panClickEndTime,T=this.panClickStartTime,k=this.panClickEnd,l=this.panClickStart,s=(y?a-o:a-s)/b;if(!u.parseDates||u.equalSpacing)s=Math.round(s);0!==s&&(a={type:"zoomed",target:this},a.chart=this.chart,u.parseDates&&!u.equalSpacing?(r+s>S&&(s=S-r),T+s<E&&(s=E-T),a.start=Math.round(T+s),a.end=Math.round(r+s),this.fire(a.type,a)):k+s>=this.data.length||0>l+s||(a.start=l+s,a.end=k+s,this.fire(a.type,a)))}else{"start"==x?g-=u.cellWidth/2:"mouse"==x&&(r.mouseIsOver?g=y?o-2:s-2:isNaN(this.tempPosition)||(g=this.tempPosition-2));if(y){if(0>g){if(!T){this.hideCursor();return}g=0}if(g>p+1){if(!T){this.hideCursor();return}g=p+1}}else{if(0>g){if(!T){this.hideCursor();return}g=0}if(g>h){if(!T){this.hideCursor();return}g=h}}E=this.line,0<this.cursorAlpha&&(y?(S=0,b=g+f,i&&(b-=u.cellWidth/2)):(S=g,b=0,i&&(S-=u.cellWidth/2)),x=this.animationDuration,0<x&&!this.zooming?isNaN(this.previousX)?E.translate(S,b):(E.translate(this.previousX,this.previousY),E.animate({translate:S+","+b},x,"easeOutSine")):E.translate(S,b),this.previousX=S,this.previousY=b,E.show()),this.linePos=y?g+f:g,T&&(i&&E.hide(),y?this.updateSelectionSize(NaN,g):this.updateSelectionSize(g,NaN)),S=!0,T&&(S=!1),this.categoryBalloonEnabled&&S?(this.setBalloonPosition(w,u,g,y),(E=this.categoryBalloonFunction)?w.showBalloon(E(v.category)):(E=g="",u.parseDates?(g=e.formatDate(v.category,this.categoryBalloonDateFormat,r),u=e.changeDate(new Date(v.category),r.categoryAxis.minPeriod,1),E=e.formatDate(u,this.categoryBalloonDateFormat,r),-1!=g.indexOf("fff")&&(g=e.formatMilliseconds(g,v.category),E=e.formatMilliseconds(E,u))):(g=e.fixNewLines(v.category),m&&(E=e.fixNewLines(m.category))),u=this.categoryBalloonText.replace(/\[\[category\]\]/g,String(g)),u=u.replace(/\[\[toCategory\]\]/g,String(E)),w.showBalloon(u))):w.hide(),C&&this.bulletsEnabled&&this.showBullets();if(this.oneBalloonOnly){g=Infinity;for(u=0;u<C.length;u++)w=C[u],w.showBalloon&&!w.hidden&&w.balloonText&&(m=v.axes[w.valueAxis.id].graphs[w.id],E=m.y,"top"==w.showBalloonAt&&(E=0),"bottom"==w.showBalloonAt&&(E=this.height),isNaN(E)||(y?Math.abs(s-E)<g&&(g=Math.abs(s-E),k=w):Math.abs(o-E)<g&&(g=Math.abs(o-E),k=w)));this.mostCloseGraph&&(k=this.mostCloseGraph)}if(t!=this.previousIndex||k!=this.previousMostCloseGraph)if(this.normalizeBulletSize(),this.destroyValueBalloons(),this.resizedBullets=[],C&&this.valueBalloonsEnabled&&S&&r.balloon.enabled){this.valueBalloons=S=[];for(u=0;u<C.length;u++)if(w=C[u],E=NaN,(!this.oneBalloonOnly||w==k)&&w.showBalloon&&!w.hidden&&w.balloonText&&("step"==w.type&&"left"==w.stepDirection&&(v=this.data[t+1]),v)){if(m=v.axes[w.valueAxis.id].graphs[w.id])E=m.y;"top"==w.showBalloonAt&&(E=0),"bottom"==w.showBalloonAt&&(E=this.height);if(this.showNextAvailable&&isNaN(E)&&t+1<this.data.length)for(g=t+1;g<this.data.length;g++)if(b=this.data[g])if(m=b.axes[w.valueAxis.id].graphs[w.id],E=m.y,!isNaN(E))break;if(!isNaN(E)){b=m.x,i=!0;if(y){if(g=E,0>b||b>p)i=!1}else if(g=b,b=E,0>g||g>h+a+1)i=!1;i&&(i=this.graphBulletSize,f=this.graphBulletAlpha,1==i&&isNaN(f)||!e.isModern||!(x=m.bulletGraphics)||(x.translate(m.bx,m.by,i),this.resizedBullets.push(m),isNaN(f)||(x.setAttr("fill-opacity",f),x.setAttr("stroke-opacity",f))),i=w.valueBalloon,f=r.getBalloonColor(w,m),i.setBounds(l,c,l+h,c+p),i.pointerOrientation="H",x=this.balloonPointerOrientation,"vertical"==x&&(i.pointerOrientation="V"),"horizontal"==x&&(i.pointerOrientation="H"),i.changeColor(f),void 0!==w.balloonAlpha&&(i.fillAlpha=w.balloonAlpha),void 0!==w.balloonTextColor&&(i.color=w.balloonTextColor),i.setPosition(g+l,b+c),g=r.formatString(w.balloonText,m,!0),(b=w.balloonFunction)&&(g=b(m,w).toString()),""!==g&&(y?i.showBalloon(g):(i.text=g,i.show=!0),S.push({yy:E,balloon:i})),!y&&i.set&&(i.set.hide(),w=i.textDiv)&&(w.style.visibility="hidden"))}}this.avoidBalloonOverlapping&&this.arrangeBalloons()}n?(a={type:"changed"},a.index=t,a.chart=this.chart,a.zooming=T,a.mostCloseGraph=k,a.position=y?o:s,a.target=this,r.fire("changed",a),this.fire("changed",a),this.skipZoomDispatch=!1):(this.skipZoomDispatch=!0,r.updateLegendValues(t)),this.previousIndex=t,this.previousMostCloseGraph=k}}}else this.hideCursor()},setBalloonPosition:function(e,t,n,r){var i=t.position,s=t.inside;t=t.axisThickness;var o=this.chart,u=o.dx,o=o.dy,a=this.x,f=this.y,l=this.width,c=this.height;r?(s&&("right"==i?e.setBounds(a,f+o,a+l+u,f+n+o):e.setBounds(a,f+o,a+l+u,f+n)),"right"==i?s?e.setPosition(a+l+u,f+n+o):e.setPosition(a+l+u+t,f+n+o):s?e.setPosition(a,f+n):e.setPosition(a-t,f+n)):"top"==i?s?e.setPosition(a+n+u,f+o):e.setPosition(a+n+u,f+o-t+1):s?e.setPosition(a+n,f+c):e.setPosition(a+n,f+c+t-1)},setBalloonBounds:function(e,t,n){var r=t.position,i=t.inside,s=t.axisThickness,o=t.tickLength,u=this.chart,a=u.dx,u=u.dy,f=this.x,l=this.y,c=this.width,h=this.height;n?(i&&(e.pointerWidth=0),"right"==r?i?e.setBounds(f,l+u,f+c+a,l+h+u):e.setBounds(f+c+a+s,l+u,f+c+1e3,l+h+u):i?e.setBounds(f,l,c+f,h+l):e.setBounds(-1e3,-1e3,f-o-s,l+h+15)):(e.maxWidth=c,t.parseDates&&(o=0,e.pointerWidth=0),"top"==r?i?e.setBounds(f+a,l+u,c+a+f,h+l):e.setBounds(f+a,-1e3,c+a+f,l+u-o-s):i?e.setBounds(f,l,c+f,h+l-o):e.setBounds(f,l+h+o+s-1,f+c,l+h+o+s))},enableDrawing:function(e){this.enabled=!e,this.hideCursor(),this.rolledOver=!1,this.drawing=e},isZooming:function(e){e&&e!=this.zooming&&this.handleMouseDown("fake"),e||e==this.zooming||this.handleMouseUp()},handleMouseOut:function(){if(this.enabled)if(this.zooming)this.setPosition();else{this.index=void 0;var e={type:"changed",index:void 0,target:this};e.chart=this.chart,this.fire("changed",e),this.hideCursor()}},handleReleaseOutside:function(){this.handleMouseUp()},handleMouseUp:function(){var t=this.chart,n=this.data,r;if(t){var i=t.mouseX-this.x,s=t.mouseY-this.y;if(this.drawingNow){this.drawingNow=!1,e.remove(this.drawingLine),r=this.drawStartX;var o=this.drawStartY;if(2<Math.abs(r-i)||2<Math.abs(o-s))r={type:"draw",target:this,chart:t,initialX:r,initialY:o,finalX:i,finalY:s},this.fire(r.type,r)}if(this.enabled&&0<n.length){if(this.pan)this.rolledOver=!1;else if(this.zoomable&&this.zooming){r=this.selectWithoutZooming?{type:"selected"}:{type:"zoomed"},r.target=this,r.chart=t;if("cursor"==this.type)this.rotate?this.selectionPosY=s:this.selectionPosX=s=i,4>Math.abs(s-this.initialMouse)&&this.fromIndex==this.index||(this.index<this.fromIndex?(r.end=this.fromIndex,r.start=this.index):(r.end=this.index,r.start=this.fromIndex),s=t.categoryAxis,s.parseDates&&!s.equalSpacing&&(n[r.start]&&(r.start=n[r.start].time),n[r.end]&&(r.end=t.getEndTime(n[r.end].time))),this.skipZoomDispatch||this.fire(r.type,r));else{var u=this.initialMouseX,a=this.initialMouseY;3>Math.abs(i-u)&&3>Math.abs(s-a)||(n=Math.min(u,i),o=Math.min(a,s),i=Math.abs(u-i),s=Math.abs(a-s),t.hideXScrollbar&&(n=0,i=this.width),t.hideYScrollbar&&(o=0,s=this.height),r.selectionHeight=s,r.selectionWidth=i,r.selectionY=o,r.selectionX=n,this.skipZoomDispatch||this.fire(r.type,r))}this.selectWithoutZooming||e.remove(this.selection)}this.skipZoomDispatch=!1}}this.panning=this.zooming=!1},showCursorAt:function(e){var t=this.chart.categoryAxis;e=t.parseDates?t.dateToCoordinate(e):t.categoryToCoordinate(e),this.previousMousePosition=NaN,this.forceShow=!0,this.setPosition(e,!1)},clearSelection:function(){e.remove(this.selection)},handleMouseDown:function(t){if(this.zoomable||this.pan||this.drawing){var n=this.rotate,r=this.chart,i=r.mouseX-this.x,s=r.mouseY-this.y;if(0<i&&i<this.width&&0<s&&s<this.height||"fake"==t)this.setPosition(),this.selectWithoutZooming&&e.remove(this.selection),this.drawing?(this.drawStartY=s,this.drawStartX=i,this.drawingNow=!0):this.pan?(this.zoomable=!1,r.setMouseCursor("move"),this.panning=!0,this.panClickPos=n?s:i,this.panClickStart=this.start,this.panClickEnd=this.end,this.panClickStartTime=this.startTime,this.panClickEndTime=this.endTime):this.zoomable&&("cursor"==this.type?(this.fromIndex=this.index,n?(this.initialMouse=s,this.selectionPosY=this.linePos):(this.initialMouse=i,this.selectionPosX=this.linePos)):(this.initialMouseX=i,this.initialMouseY=s,this.selectionPosX=i,this.selectionPosY=s),this.zooming=!0)}}})}(),function(){var e=window.AmCharts;e.SimpleChartScrollbar=e.Class({construct:function(t){this.createEvents("zoomed"),this.backgroundColor="#D4D4D4",this.backgroundAlpha=1,this.selectedBackgroundColor="#EFEFEF",this.scrollDuration=this.selectedBackgroundAlpha=1,this.resizeEnabled=!0,this.hideResizeGrips=!1,this.scrollbarHeight=20,this.updateOnReleaseOnly=!1,9>document.documentMode&&(this.updateOnReleaseOnly=!0),this.dragIconHeight=this.dragIconWidth=35,this.dragIcon="dragIconRoundBig",e.applyTheme(this,t,"SimpleChartScrollbar")},draw:function(){var t=this;t.destroy();if(t.enabled){var n=t.chart.container,r=t.rotate,i=t.chart,s=n.set();t.set=s,i.scrollbarsSet.push(s);var o,u;r?(o=t.scrollbarHeight,u=i.plotAreaHeight):(u=t.scrollbarHeight,o=i.plotAreaWidth),t.width=o;if((t.height=u)&&o){var a=e.rect(n,o,u,t.backgroundColor,t.backgroundAlpha,1,t.backgroundColor,t.backgroundAlpha);e.setCN(i,a,"scrollbar-bg"),t.bg=a,s.push(a),a=e.rect(n,o,u,"#000",.005),s.push(a),t.invisibleBg=a,a.click(function(){t.handleBgClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}).touchend(function(){t.handleBgClick()}),a=e.rect(n,o,u,t.selectedBackgroundColor,t.selectedBackgroundAlpha),e.setCN(i,a,"scrollbar-bg-selected"),t.selectedBG=a,s.push(a),o=e.rect(n,o,u,"#000",.005),t.dragger=o,s.push(o),o.mousedown(function(e){t.handleDragStart(e)}).mouseup(function(){t.handleDragStop()}).mouseover(function(){t.handleDraggerOver()}).mouseout(function(){t.handleMouseOut()}).touchstart(function(e){t.handleDragStart(e)}).touchend(function(){t.handleDragStop()}),o=i.pathToImages,r?(a=o+t.dragIcon+"H.png",o=t.dragIconWidth,r=t.dragIconHeight):(a=o+t.dragIcon+".png",r=t.dragIconWidth,o=t.dragIconHeight),u=n.image(a,0,0,r,o),e.setCN(i,u,"scrollbar-grip-left"),a=n.image(a,0,0,r,o),e.setCN(i,a,"scrollbar-grip-right");var f=10,l=20;i.panEventsEnabled&&(f=25,l=t.scrollbarHeight);var c=e.rect(n,f,l,"#000",.005),h=e.rect(n,f,l,"#000",.005);h.translate(-(f-r)/2,-(l-o)/2),c.translate(-(f-r)/2,-(l-o)/2),r=n.set([u,h]),n=n.set([a,c]),t.iconLeft=r,s.push(t.iconLeft),t.iconRight=n,s.push(n),r.mousedown(function(){t.leftDragStart()}).mouseup(function(){t.leftDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.leftDragStart()}).touchend(function(){t.leftDragStop()}),n.mousedown(function(){t.rightDragStart()}).mouseup(function(){t.rightDragStop()}).mouseover(function(){t.iconRollOver()}).mouseout(function(){t.iconRollOut()}).touchstart(function(){t.rightDragStart()}).touchend(function(){t.rightDragStop()}),e.ifArray(i.chartData)?s.show():s.hide(),t.hideDragIcons(),t.clipDragger(!1)}s.translate(t.x,t.y),s.node.style.msTouchAction="none"}},updateScrollbarSize:function(e,t){e=Math.round(e),t=Math.round(t);var n=this.dragger,r,i,s,o;this.rotate?(r=0,i=e,s=this.width+1,o=t-e,n.setAttr("height",t-e),n.setAttr("y",i)):(r=e,i=0,s=t-e,o=this.height+1,n.setAttr("width",t-e),n.setAttr("x",r)),this.clipAndUpdate(r,i,s,o)},update:function(){var e,t=!1,n,r,i=this.x,s=this.y,o=this.dragger,u=this.getDBox();if(u){n=u.x+i,r=u.y+s;var a=u.width,u=u.height,f=this.rotate,l=this.chart,c=this.width,h=this.height,p=l.mouseX,d=l.mouseY;e=this.initialMouse,this.forceClip&&this.clipDragger(!0),l.mouseIsOver&&(this.dragging&&(l=this.initialCoord,f?(e=l+(d-e),0>e&&(e=0),l=h-u,e>l&&(e=l),o.setAttr("y",e)):(e=l+(p-e),0>e&&(e=0),l=c-a,e>l&&(e=l),o.setAttr("x",e)),this.clipDragger(!0)),this.resizingRight&&(f?(e=d-r,e+r>h+s&&(e=h-r+s),0>e?(this.resizingRight=!1,t=this.resizingLeft=!0):(0===e&&(e=.1),o.setAttr("height",e))):(e=p-n,e+n>c+i&&(e=c-n+i),0>e?(this.resizingRight=!1,t=this.resizingLeft=!0):(0===e&&(e=.1),o.setAttr("width",e))),this.clipDragger(!0)),this.resizingLeft&&(f?(n=r,r=d,r<s&&(r=s),r>h+s&&(r=h+s),e=!0===t?n-r:u+n-r,0>e?(this.resizingRight=!0,this.resizingLeft=!1,o.setAttr("y",n+u-s)):(0===e&&(e=.1),o.setAttr("y",r-s),o.setAttr("height",e))):(r=p,r<i&&(r=i),r>c+i&&(r=c+i),e=!0===t?n-r:a+n-r,0>e?(this.resizingRight=!0,this.resizingLeft=!1,o.setAttr("x",n+a-i)):(0===e&&(e=.1),o.setAttr("x",r-i),o.setAttr("width",e))),this.clipDragger(!0)))}},stopForceClip:function(){this.forceClip=!1},clipDragger:function(e){var t=this.getDBox();if(t){var n=t.x,r=t.y,i=t.width,t=t.height,s=!1;if(this.rotate){if(n=0,i=this.width+1,this.clipY!=r||this.clipH!=t)s=!0}else if(r=0,t=this.height+1,this.clipX!=n||this.clipW!=i)s=!0;s&&(this.clipAndUpdate(n,r,i,t),e&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))}},maskGraphs:function(){},clipAndUpdate:function(e,t,n,r){this.clipX=e,this.clipY=t,this.clipW=n,this.clipH=r,this.selectedBG.clipRect(e,t,n,r),this.updateDragIconPositions(),this.maskGraphs(e,t,n,r)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var e=this.chart;e.hideBalloon();var t=this.getDBox(),n=t.x,r=t.y,i=t.width,t=t.height;this.rotate?(n=r,i=this.height/t):i=this.width/i,e={type:"zoomed",position:n,chart:e,target:this,multiplier:i},this.fire(e.type,e)}},updateDragIconPositions:function(){var e=this.getDBox(),t=e.x,n=e.y,r=this.iconLeft,i=this.iconRight,s,o,u=this.scrollbarHeight;this.rotate?(s=this.dragIconWidth,o=this.dragIconHeight,r.translate((u-o)/2,n-s/2),i.translate((u-o)/2,n+e.height-s/2)):(s=this.dragIconHeight,o=this.dragIconWidth,r.translate(t-o/2,(u-s)/2),i.translate(t-o/2+e.width,(u-s)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){if(!this.resizingLeft&&!this.resizingRight&&!this.dragging){if(this.hideResizeGrips||!this.resizeEnabled)this.iconLeft.hide(),this.iconRight.hide();this.removeCursors()}},removeCursors:function(){this.chart.setMouseCursor("auto")},relativeZoom:function(e,t){this.enabled&&(this.dragger.stop(),this.multiplier=e,this.position=t,this.updateScrollbarSize(t,this.rotate?t+this.height/e:t+this.width/e),this.clipDragger())},destroy:function(){this.clear(),e.remove(this.set),e.remove(this.iconRight),e.remove(this.iconLeft)},clear:function(){},handleDragStart:function(){if(this.enabled){var e=this.chart;this.dragger.stop(),this.removeCursors(),this.dragging=!0;var t=this.getDBox();this.rotate?(this.initialCoord=t.y,this.initialMouse=e.mouseY):(this.initialCoord=t.x,this.initialMouse=e.mouseX)}},handleDragStop:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent()),this.dragging=!1,this.mouseIsOver&&this.removeCursors(),this.update()},handleDraggerOver:function(){this.handleMouseOver()},leftDragStart:function(){this.dragger.stop(),this.resizingLeft=!0},leftDragStop:function(){this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease()},rightDragStart:function(){this.dragger.stop(),this.resizingRight=!0},rightDragStop:function(){this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease()},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.chart.setMouseCursor("n-resize"):this.chart.setMouseCursor("e-resize"),this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var t=this;if(!t.resizingRight&&!t.resizingLeft){t.zooming=!0;var n,r,i=t.scrollDuration,s=t.dragger;n=t.getDBox();var o=n.height,u=n.width;r=t.chart;var a=t.y,f=t.x,l=t.rotate;l?(n="y",r=r.mouseY-o/2-a,r=e.fitToBounds(r,0,t.height-o)):(n="x",r=r.mouseX-u/2-f,r=e.fitToBounds(r,0,t.width-u)),t.updateOnReleaseOnly?(t.skipEvent=!1,s.setAttr(n,r),t.dispatchScrollbarEvent(),t.clipDragger()):(r=Math.round(r),l?s.animate({y:r},i,">"):s.animate({x:r},i,">"),t.forceClip=!0,clearTimeout(t.forceTO),t.forceTO=setTimeout(function(){t.stopForceClip.call(t)},5e3*i))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){if(this.set){if(this.resizingLeft||this.resizingRight||this.dragging)this.updateOnRelease(),this.removeCursors();this.mouseIsOver=this.dragging=this.resizingRight=this.resizingLeft=!1,this.hideDragIcons(),this.update()}},handleMouseOver:function(){this.mouseIsOver=!0,this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1,this.hideDragIcons()}})}(),function(){var e=window.AmCharts;e.ChartScrollbar=e.Class({inherits:e.SimpleChartScrollbar,construct:function(t){this.cname="ChartScrollbar",e.ChartScrollbar.base.construct.call(this,t),this.enabled=!0,this.graphLineColor="#BBBBBB",this.graphLineAlpha=0,this.graphFillColor="#BBBBBB",this.graphFillAlpha=1,this.selectedGraphLineColor="#888888",this.selectedGraphLineAlpha=0,this.selectedGraphFillColor="#888888",this.selectedGraphFillAlpha=1,this.gridCount=0,this.gridColor="#FFFFFF",this.gridAlpha=.7,this.skipEvent=this.autoGridCount=!1,this.color="#FFFFFF",this.scrollbarCreated=!1,this.offset=0,this.oppositeAxis=!0,e.applyTheme(this,t,this.cname)},init:function(){var t=this.categoryAxis,n=this.chart;t||(this.categoryAxis=t=new e.CategoryAxis),t.chart=n,t.id="scrollbar",t.dateFormats=n.categoryAxis.dateFormats,t.markPeriodChange=n.categoryAxis.markPeriodChange,t.boldPeriodBeginning=n.categoryAxis.boldPeriodBeginning,t.labelFunction=n.categoryAxis.labelFunction,t.axisItemRenderer=e.RecItem,t.axisRenderer=e.RecAxis,t.guideFillRenderer=e.RecFill,t.inside=!0,t.fontSize=this.fontSize,t.tickLength=0,t.axisAlpha=0,e.isString(this.graph)&&(this.graph=e.getObjById(n.graphs,this.graph));if(t=this.graph){var r=this.valueAxis;r||(this.valueAxis=r=new e.ValueAxis,r.visible=!1,r.scrollbar=!0,r.axisItemRenderer=e.RecItem,r.axisRenderer=e.RecAxis,r.guideFillRenderer=e.RecFill,r.labelsEnabled=!1,r.chart=n),n=this.unselectedGraph,n||(n=new e.AmGraph,n.scrollbar=!0,this.unselectedGraph=n,n.negativeBase=t.negativeBase,n.noStepRisers=t.noStepRisers),n=this.selectedGraph,n||(n=new e.AmGraph,n.scrollbar=!0,this.selectedGraph=n,n.negativeBase=t.negativeBase,n.noStepRisers=t.noStepRisers)}this.scrollbarCreated=!0},draw:function(){var t=this;e.ChartScrollbar.base.draw.call(t);if(t.enabled){t.scrollbarCreated||t.init();var n=t.chart,r=n.chartData,i=t.categoryAxis,s=t.rotate,o=t.x,u=t.y,a=t.width,f=t.height,l=n.categoryAxis,c=t.set;i.setOrientation(!s),i.parseDates=l.parseDates,i.rotate=s,i.equalSpacing=l.equalSpacing,i.minPeriod=l.minPeriod,i.startOnAxis=l.startOnAxis,i.viW=a,i.viH=f,i.width=a,i.height=f,i.gridCount=t.gridCount,i.gridColor=t.gridColor,i.gridAlpha=t.gridAlpha,i.color=t.color,i.tickLength=0,i.axisAlpha=0,i.autoGridCount=t.autoGridCount,i.parseDates&&!i.equalSpacing&&i.timeZoom(n.firstTime,n.lastTime),i.zoom(0,r.length-1);if(l=t.graph){var h=t.valueAxis,p=l.valueAxis;h.id=p.id,h.rotate=s,h.setOrientation(s),h.width=a,h.height=f,h.viW=a,h.viH=f,h.dataProvider=r,h.reversed=p.reversed,h.logarithmic=p.logarithmic,h.gridAlpha=0,h.axisAlpha=0,c.push(h.set),s?(h.y=u,h.x=0):(h.x=o,h.y=0);var o=Infinity,u=-Infinity,v;for(v=0;v<r.length;v++){var m=r[v].axes[p.id].graphs[l.id].values,g;for(g in m)if(m.hasOwnProperty(g)&&"percents"!=g&&"total"!=g){var y=m[g];y<o&&(o=y),y>u&&(u=y)}}Infinity!=o&&(h.minimum=o),-Infinity!=u&&(h.maximum=u+.1*(u-o)),o==u&&(--h.minimum,h.maximum+=1),void 0!==t.minimum&&(h.minimum=t.minimum),void 0!==t.maximum&&(h.maximum=t.maximum),h.zoom(0,r.length-1),g=t.unselectedGraph,g.id=l.id,g.bcn="scrollbar-graph-",g.rotate=s,g.chart=n,g.data=r,g.valueAxis=h,g.chart=l.chart,g.categoryAxis=t.categoryAxis,g.periodSpan=l.periodSpan,g.valueField=l.valueField,g.openField=l.openField,g.closeField=l.closeField,g.highField=l.highField,g.lowField=l.lowField,g.lineAlpha=t.graphLineAlpha,g.lineColorR=t.graphLineColor,g.fillAlphas=t.graphFillAlpha,g.fillColorsR=t.graphFillColor,g.connect=l.connect,g.hidden=l.hidden,g.width=a,g.height=f,g.pointPosition=l.pointPosition,g.stepDirection=l.stepDirection,g.periodSpan=l.periodSpan,p=t.selectedGraph,p.id=l.id,p.bcn=g.bcn+"selected-",p.rotate=s,p.chart=n,p.data=r,p.valueAxis=h,p.chart=l.chart,p.categoryAxis=i,p.periodSpan=l.periodSpan,p.valueField=l.valueField,p.openField=l.openField,p.closeField=l.closeField,p.highField=l.highField,p.lowField=l.lowField,p.lineAlpha=t.selectedGraphLineAlpha,p.lineColorR=t.selectedGraphLineColor,p.fillAlphas=t.selectedGraphFillAlpha,p.fillColorsR=t.selectedGraphFillColor,p.connect=l.connect,p.hidden=l.hidden,p.width=a,p.height=f,p.pointPosition=l.pointPosition,p.stepDirection=l.stepDirection,p.periodSpan=l.periodSpan,n=t.graphType,n||(n=l.type),g.type=n,p.type=n,r=r.length-1,g.zoom(0,r),p.zoom(0,r),p.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}),g.set.click(function(){t.handleBackgroundClick()}).mouseover(function(){t.handleMouseOver()}).mouseout(function(){t.handleMouseOut()}),c.push(g.set),c.push(p.set)}c.push(i.set),c.push(i.labelsSet),t.bg.toBack(),t.invisibleBg.toFront(),t.dragger.toFront(),t.iconLeft.toFront(),t.iconRight.toFront()}},timeZoom:function(t,n,r){this.startTime=t,this.endTime=n,this.timeDifference=n-t,this.skipEvent=!e.toBoolean(r),this.zoomScrollbar(),this.skipEvent||this.dispatchScrollbarEvent()},zoom:function(e,t){this.start=e,this.end=t,this.skipEvent=!0,this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var e=this.chart.chartData,t,n,r=this.dragger.getBBox();t=r.x;var i=r.y,s=r.width,r=r.height,o=this.chart;this.rotate?(t=i,n=r):n=s,s={type:"zoomed",target:this},s.chart=o;var u=this.categoryAxis,a=this.stepWidth,i=o.minSelectedTime,r=!1;if(u.parseDates&&!u.equalSpacing){if(e=o.lastTime,o=o.firstTime,u=Math.round(t/a)+o,t=this.dragging?u+this.timeDifference:Math.round((t+n)/a)+o,u>t&&(u=t),0<i&&t-u<i&&(t=Math.round(u+(t-u)/2),r=Math.round(i/2),u=t-r,t+=r,r=!0),t>e&&(t=e),t-i<u&&(u=t-i),u<o&&(u=o),u+i>t&&(t=u+i),u!=this.startTime||t!=this.endTime)this.startTime=u,this.endTime=t,s.start=u,s.end=t,s.startDate=new Date(u),s.endDate=new Date(t),this.fire(s.type,s)}else if(u.startOnAxis||(t+=a/2),n-=this.stepWidth/2,i=u.xToIndex(t),t=u.xToIndex(t+n),i!=this.start||this.end!=t)u.startOnAxis&&(this.resizingRight&&i==t&&t++,this.resizingLeft&&i==t&&(0<i?i--:t=1)),this.start=i,this.end=this.dragging?this.start+this.difference:t,s.start=this.start,s.end=this.end,u.parseDates&&(e[this.start]&&(s.startDate=new Date(e[this.start].time)),e[this.end]&&(s.endDate=new Date(e[this.end].time))),this.fire(s.type,s);r&&this.zoomScrollbar()}},zoomScrollbar:function(){var e,t;e=this.chart;var n=e.chartData,r=this.categoryAxis;r.parseDates&&!r.equalSpacing?(n=r.stepWidth,r=e.firstTime,e=n*(this.startTime-r),t=n*(this.endTime-r)):(e=n[this.start].x[r.id],t=n[this.end].x[r.id],n=r.stepWidth,r.startOnAxis||(r=n/2,e-=r,t+=r)),this.stepWidth=n,this.updateScrollbarSize(e,t)},maskGraphs:function(e,t,n,r){var i=this.selectedGraph;i&&i.set.clipRect(e,t,n,r)},handleDragStart:function(){e.ChartScrollbar.base.handleDragStart.call(this),this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){e.ChartScrollbar.base.handleBackgroundClick.call(this),this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}})}(),function(){var e=window.AmCharts;e.AmBalloon=e.Class({construct:function(t){this.cname="AmBalloon",this.enabled=!0,this.fillColor="#FFFFFF",this.fillAlpha=.8,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=0,this.maxWidth=220,this.horizontalPadding=8,this.verticalPadding=4,this.pointerWidth=6,this.pointerOrientation="V",this.color="#000000",this.adjustBorderColor=!0,this.show=this.follow=this.showBullet=!1,this.bulletSize=3,this.shadowAlpha=.4,this.shadowColor="#000000",this.fadeOutDuration=this.animationDuration=.3,this.fixedPosition=!1,this.offsetY=6,this.offsetX=1,this.textAlign="center",this.disableMouseEvents=!0,this.deltaSignX=this.deltaSignY=1,e.isModern||(this.offsetY*=1.5),e.applyTheme(this,t,this.cname)},draw:function(){var t=this.pointToX,n=this.pointToY,r=this.chart;e.VML&&(this.fadeOutDuration=0),this.xAnim&&r.stopAnim(this.xAnim),this.yAnim&&r.stopAnim(this.yAnim);if(!isNaN(t)){var i=this.follow,s=r.container,o=this.set;e.remove(o),this.removeDiv(),o=s.set(),o.node.style.pointerEvents="none",this.set=o,r.balloonsSet.push(o);if(this.show){var u=this.l,a=this.t,f=this.r,l=this.b,c=this.balloonColor,h=this.fillColor,p=this.borderColor,v=h;void 0!=c&&(this.adjustBorderColor?v=p=c:h=c);var m=this.horizontalPadding,g=this.verticalPadding,y=this.pointerWidth,b=this.pointerOrientation,w=this.cornerRadius,E=r.fontFamily,S=this.fontSize;void 0==S&&(S=r.fontSize);var c=document.createElement("div"),x=r.classNamePrefix;c.className=x+"-balloon-div",this.className&&(c.className=c.className+" "+x+"-balloon-div-"+this.className),x=c.style,this.disableMouseEvents&&(x.pointerEvents="none"),x.position="absolute";var T=this.minWidth,N="";isNaN(T)||(N="min-width:"+(T-2*m)+"px; "),c.innerHTML="<div style='text-align:"+this.textAlign+"; "+N+"max-width:"+this.maxWidth+"px; font-size:"+S+"px; color:"+this.color+"; font-family:"+E+"'>"+this.text+"</div>",r.chartDiv.appendChild(c),this.textDiv=c,S=c.offsetWidth,E=c.offsetHeight,c.clientHeight&&(S=c.clientWidth,E=c.clientHeight),E+=2*g,N=S+2*m,!isNaN(T)&&N<T&&(N=T),window.opera&&(E+=2);var C=!1,S=this.offsetY;r.handDrawn&&(S+=r.handDrawScatter+2),"H"!=b?(T=t-N/2,n<a+E+10&&"down"!=b?(C=!0,i&&(n+=S),S=n+y,this.deltaSignY=-1):(i&&(n-=S),S=n-E-y,this.deltaSignY=1)):(2*y>E&&(y=E/2),S=n-E/2,t<u+(f-u)/2?(T=t+y,this.deltaSignX=-1):(T=t-N-y,this.deltaSignX=1)),S+E>=l&&(S=l-E),S<a&&(S=a),T<u&&(T=u),T+N>f&&(T=f-N);var a=S+g,l=T+m,g=this.shadowAlpha,k=this.shadowColor,m=this.borderThickness,L=this.bulletSize,A;0<w||0===y?(0<g&&(t=e.rect(s,N,E,h,0,m+1,k,g,this.cornerRadius),e.isModern?t.translate(1,1):t.translate(4,4),o.push(t)),h=e.rect(s,N,E,h,this.fillAlpha,m,p,this.borderAlpha,this.cornerRadius),this.showBullet&&(A=e.circle(s,L,v,this.fillAlpha),o.push(A))):(v=[],w=[],"H"!=b?(u=t-T,u>N-y&&(u=N-y),u<y&&(u=y),v=[0,u-y,t-T,u+y,N,N,0,0],w=C?[0,0,n-S,0,0,E,E,0]:[E,E,n-S,E,E,0,0,E]):(v=n-S,v>E-y&&(v=E-y),v<y&&(v=y),w=[0,v-y,n-S,v+y,E,E,0,0],v=t<u+(f-u)/2?[0,0,T<t?0:t-T,0,0,N,N,0]:[N,N,T+N>t?N:t-T,N,N,0,0,N]),0<g&&(t=e.polygon(s,v,w,h,0,m,k,g),t.translate(1,1),o.push(t)),h=e.polygon(s,v,w,h,this.fillAlpha,m,p,this.borderAlpha)),this.bg=h,o.push(h),h.toFront(),e.setCN(r,h,"balloon-bg"),this.className&&e.setCN(r,h,"balloon-bg-"+this.className),s=1*this.deltaSignX,x.left=l+"px",x.top=a+"px",o.translate(T-s,S),h=h.getBBox(),this.bottom=S+E+1,this.yPos=h.y+S,A&&A.translate(this.pointToX-T+s,n-S),n=this.animationDuration,0<this.animationDuration&&!i&&!isNaN(this.prevX)&&(o.translate(this.prevX,this.prevY),o.animate({translate:T-s+","+S},n,"easeOutSine"),c&&(x.left=this.prevTX+"px",x.top=this.prevTY+"px",this.xAnim=r.animate({node:c},"left",this.prevTX,l,n,"easeOutSine","px"),this.yAnim=r.animate({node:c},"top",this.prevTY,a,n,"easeOutSine","px"))),this.prevX=T-s,this.prevY=S,this.prevTX=l,this.prevTY=a}}},followMouse:function(){if(this.follow&&this.show){var e=this.chart.mouseX-this.offsetX*this.deltaSignX,t=this.chart.mouseY;this.pointToX=e,this.pointToY=t;if(e!=this.previousX||t!=this.previousY)if(this.previousX=e,this.previousY=t,0===this.cornerRadius)this.draw();else{var n=this.set;if(n){var r=n.getBBox(),e=e-r.width/2,i=t-r.height-10;e<this.l&&(e=this.l),e>this.r-r.width&&(e=this.r-r.width),i<this.t&&(i=t+10),n.translate(e,i),t=this.textDiv.style,t.left=e+this.horizontalPadding+"px",t.top=i+this.verticalPadding+"px"}}}},changeColor:function(e){this.balloonColor=e},setBounds:function(e,t,n,r){this.l=e,this.t=t,this.r=n,this.b=r,this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(e){this.text=e,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),e=this.chart,this.fadeAnim1&&e.stopAnim(this.fadeAnim1),this.fadeAnim2&&e.stopAnim(this.fadeAnim2),this.draw()},hide:function(e){var t=this;isNaN(e)&&(e=t.fadeOutDuration);var n=t.chart;if(0<e){t.destroyTO&&clearTimeout(t.destroyTO),t.destroyTO=setTimeout(function(){t.destroy.call(t)},1e3*e),t.follow=!1,t.show=!1;var r=t.set;r&&(r.setAttr("opacity",t.fillAlpha),t.fadeAnim1=r.animate({opacity:0},e,"easeInSine")),t.textDiv&&(t.fadeAnim2=n.animate({node:t.textDiv},"opacity",1,0,e,"easeInSine",""))}else t.show=!1,t.follow=!1,t.destroy()},setPosition:function(e,t,n){this.pointToX=e,this.pointToY=t,n&&(e==this.previousX&&t==this.previousY||this.draw()),this.previousX=e,this.previousY=t},followCursor:function(e){var t=this;(t.follow=e)?(t.pShowBullet=t.showBullet,t.showBullet=!1):void 0!==t.pShowBullet&&(t.showBullet=t.pShowBullet),clearInterval(t.interval);var n=t.chart.mouseX,r=t.chart.mouseY;!isNaN(n)&&e&&(t.pointToX=n-t.offsetX*t.deltaSignX,t.pointToY=r,t.followMouse(),t.interval=setInterval(function(){t.followMouse.call(t)},40))},removeDiv:function(){if(this.textDiv){var e=this.textDiv.parentNode;e&&e.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval),e.remove(this.set),this.removeDiv(),this.set=null}})}(),function(){var e=window.AmCharts;e.AmCoordinateChart=e.Class({inherits:e.AmChart,construct:function(t){e.AmCoordinateChart.base.construct.call(this,t),this.theme=t,this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.startAlpha=1,this.startDuration=0,this.startEffect="elastic",this.sequencedAnimation=!0,this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.balloonDateFormat="MMM DD, YYYY",this.valueAxes=[],this.graphs=[],this.guides=[],this.gridAboveGraphs=!1,e.applyTheme(this,t,"AmCoordinateChart")},initChart:function(){e.AmCoordinateChart.base.initChart.call(this);var t=this.categoryAxis;t&&(this.categoryAxis=e.processObject(t,e.CategoryAxis,this.theme)),this.processValueAxes(),this.createValueAxes(),this.processGraphs(),this.processGuides(),e.VML&&(this.startAlpha=1),this.setLegendData(this.graphs),this.gridAboveGraphs&&this.gridSet.toFront()},createValueAxes:function(){if(0===this.valueAxes.length){var t=new e.ValueAxis;this.addValueAxis(t)}},parseData:function(){this.processValueAxes(),this.processGraphs()},parseSerialData:function(t){var n=this.graphs,r,i={},s=this.seriesIdField;s||(s=this.categoryField),this.chartData=[];if(t){var o=!1,u,a=this.categoryAxis,f,l,c;a&&(o=a.parseDates,f=a.forceShowField,c=a.classNameField,l=a.labelColorField,u=a.categoryFunction);var h,p,v={},m;o&&(r=e.extractPeriod(a.minPeriod),h=r.period,p=r.count,m=e.getPeriodDuration(h,p));var g={};this.lookupTable=g;var y,b=this.dataDateFormat,w={};for(y=0;y<t.length;y++){var E={},S=t[y];r=S[this.categoryField],E.dataContext=S,E.category=u?u(r,S,a):String(r),f&&(E.forceShow=S[f]),c&&(E.className=S[c]),l&&(E.labelColor=S[l]),g[S[s]]=E;if(o&&(a.categoryFunction?r=a.categoryFunction(r,S,a):(!b||r instanceof Date||(r=r.toString()+" |"),r=e.getDate(r,b,a.minPeriod)),r=e.resetDateToMin(r,h,p,a.firstDayOfWeek),E.category=r,E.time=r.getTime(),isNaN(E.time)))continue;var x=this.valueAxes;E.axes={},E.x={};var T;for(T=0;T<x.length;T++){var N=x[T].id;E.axes[N]={},E.axes[N].graphs={};var C;for(C=0;C<n.length;C++){r=n[C];var k=r.id,L=1.1;isNaN(r.gapPeriod)||(L=r.gapPeriod);var A=r.periodValue;if(r.valueAxis.id==N){E.axes[N].graphs[k]={};var O={};O.index=y;var M=S;r.dataProvider&&(M=i),O.values=this.processValues(M,r,A),!r.connect&&w&&w[k]&&0<L&&E.time-v[k]>=m*L&&(w[k].gap=!0),this.processFields(r,O,M),O.category=E.category,O.serialDataItem=E,O.graph=r,E.axes[N].graphs[k]=O,v[k]=E.time,w[k]=O}}}this.chartData[y]=E}}for(t=0;t<n.length;t++)r=n[t],r.dataProvider&&this.parseGraphData(r)},processValues:function(t,n,r){var i={},s,o=!1;"candlestick"!=n.type&&"ohlc"!=n.type||""===r||(o=!0);for(var u="value error open close low high".split(" "),a=0;a<u.length;a++){var f=u[a];"value"!=f&&"error"!=f&&o&&(r=f.charAt(0).toUpperCase()+f.slice(1));var l=t[n[f+"Field"]+r];null!==l&&(s=Number(l),isNaN(s)||(i[f]=s),"date"==n.valueAxis.type&&void 0!==l&&(s=e.getDate(l,n.chart.dataDateFormat),i[f]=s.getTime()))}return i},parseGraphData:function(e){var t=e.dataProvider,n=e.seriesIdField;n||(n=this.seriesIdField),n||(n=this.categoryField);var r;for(r=0;r<t.length;r++){var i=t[r],s=this.lookupTable[String(i[n])],o=e.valueAxis.id;s&&(o=s.axes[o].graphs[e.id],o.serialDataItem=s,o.values=this.processValues(i,e,e.periodValue),this.processFields(e,o,i))}},addValueAxis:function(e){e.chart=this,this.valueAxes.push(e),this.validateData()},removeValueAxesAndGraphs:function(){var e=this.valueAxes,t;for(t=e.length-1;-1<t;t--)this.removeValueAxis(e[t])},removeValueAxis:function(e){var t=this.graphs,n;for(n=t.length-1;0<=n;n--){var r=t[n];r&&r.valueAxis==e&&this.removeGraph(r)}t=this.valueAxes;for(n=t.length-1;0<=n;n--)t[n]==e&&t.splice(n,1);this.validateData()},addGraph:function(e){this.graphs.push(e),this.chooseGraphColor(e,this.graphs.length-1),this.validateData()},removeGraph:function(e){var t=this.graphs,n;for(n=t.length-1;0<=n;n--)t[n]==e&&(t.splice(n,1),e.destroy());this.validateData()},processValueAxes:function(){var t=this.valueAxes,n;for(n=0;n<t.length;n++){var r=t[n],r=e.processObject(r,e.ValueAxis,this.theme);t[n]=r,r.chart=this,r.id||(r.id="valueAxisAuto"+n+"_"+(new Date).getTime()),void 0===r.usePrefixes&&(r.usePrefixes=this.usePrefixes)}},processGuides:function(){var t=this.guides,n=this.categoryAxis;if(t)for(var r=0;r<t.length;r++){var i=t[r];(void 0!==i.category||void 0!==i.date)&&n&&n.addGuide(i),i.id||(i.id="guideAuto"+r+"_"+(new Date).getTime());var s=i.valueAxis;s?(e.isString(s)&&(s=this.getValueAxisById(s)),s?s.addGuide(i):this.valueAxes[0].addGuide(i)):isNaN(i.value)||this.valueAxes[0].addGuide(i)}},processGraphs:function(){var t=this.graphs,n;for(n=0;n<t.length;n++){var r=t[n],r=e.processObject(r,e.AmGraph,this.theme);t[n]=r,this.chooseGraphColor(r,n),r.chart=this,e.isString(r.valueAxis)&&(r.valueAxis=this.getValueAxisById(r.valueAxis)),r.valueAxis||(r.valueAxis=this.valueAxes[0]),r.id||(r.id="graphAuto"+n+"_"+(new Date).getTime())}},formatString:function(t,n,r){var i=n.graph,s=i.valueAxis;return s.duration&&n.values.value&&(s=e.formatDuration(n.values.value,s.duration,"",s.durationUnits,s.maxInterval,s.numberFormatter),t=t.split("[[value]]").join(s)),t=e.massReplace(t,{"[[title]]":i.title,"[[description]]":n.description}),t=r?e.fixNewLines(t):e.fixBrakes(t),t=e.cleanFromEmpty(t)},getBalloonColor:function(t,n,r){var i=t.lineColor,s=t.balloonColor;return r&&(s=i),r=t.fillColorsR,"object"==typeof r?i=r[0]:void 0!==r&&(i=r),n.isNegative&&(r=t.negativeLineColor,t=t.negativeFillColors,"object"==typeof t?r=t[0]:void 0!==t&&(r=t),void 0!==r&&(i=r)),void 0!==n.color&&(i=n.color),void 0!==n.lineColor&&(i=n.lineColor),n=n.fillColors,void 0!==n&&(i=n,e.ifArray(n)&&(i=n[0])),void 0===s&&(s=i),s},getGraphById:function(t){return e.getObjById(this.graphs,t)},getValueAxisById:function(t){return e.getObjById(this.valueAxes,t)},processFields:function(t,n,r){if(t.itemColors){var i=t.itemColors,s=n.index;n.color=s<i.length?i[s]:e.randomColor()}i="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className".split(" ");for(s=0;s<i.length;s++){var o=i[s],u=t[o+"Field"];u&&(u=r[u],e.isDefined(u)&&(n[o]=u))}n.dataContext=r},chooseGraphColor:function(t,n){if(t.lineColor)t.lineColorR=t.lineColor;else{var r;r=this.colors.length>n?this.colors[n]:e.randomColor(),t.lineColorR=r}t.fillColorsR=t.fillColors?t.fillColors:t.lineColorR,t.bulletBorderColorR=t.bulletBorderColor?t.bulletBorderColor:t.useLineColorForBulletBorder?t.lineColorR:t.bulletColor,t.bulletColorR=t.bulletColor?t.bulletColor:t.lineColorR;if(r=this.patterns)t.pattern=r[n]},handleLegendEvent:function(e){var t=e.type;e=e.dataItem;if(!this.legend.data&&e){var n=e.hidden,r=e.showBalloon;switch(t){case"clickMarker":this.textClickEnabled&&(r?this.hideGraphsBalloon(e):this.showGraphsBalloon(e));break;case"clickLabel":r?this.hideGraphsBalloon(e):this.showGraphsBalloon(e);break;case"rollOverItem":n||this.highlightGraph(e);break;case"rollOutItem":n||this.unhighlightGraph();break;case"hideItem":this.hideGraph(e);break;case"showItem":this.showGraph(e)}}},highlightGraph:function(e){var t=this.graphs,n,r=.2;this.legend&&(r=this.legend.rollOverGraphAlpha);if(1!=r)for(n=0;n<t.length;n++){var i=t[n];i!=e&&i.changeOpacity(r)}},unhighlightGraph:function(){var e;this.legend&&(e=this.legend.rollOverGraphAlpha);if(1!=e){e=this.graphs;var t;for(t=0;t<e.length;t++)e[t].changeOpacity(1)}},showGraph:function(e){e.switchable&&(e.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(e){e.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),e.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(e){e.showBalloon=!1,this.updateLegend()},showGraphsBalloon:function(e){e.showBalloon=!0,this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var e=this.graphs;if(e){var t;for(t=0;t<e.length;t++)e[t].animationPlayed=!1}},animateAgain:function(){this.resetAnimation(),this.validateNow()}})}(),function(){var e=window.AmCharts;e.AmSlicedChart=e.Class({inherits:e.AmChart,construct:function(t){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice"),e.AmSlicedChart.base.construct.call(this,t),this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" "),this.alpha=1,this.groupPercent=0,this.groupedTitle="Other",this.groupedPulled=!1,this.groupedAlpha=1,this.marginLeft=0,this.marginBottom=this.marginTop=10,this.marginRight=0,this.hoverAlpha=1,this.outlineColor="#FFFFFF",this.outlineAlpha=0,this.outlineThickness=1,this.startAlpha=0,this.startDuration=1,this.startEffect="bounce",this.sequencedAnimation=!0,this.pullOutDuration=1,this.pullOutEffect="bounce",this.pullOnHover=this.pullOutOnlyOne=!1,this.labelsEnabled=!0,this.labelTickColor="#000000",this.labelTickAlpha=.2,this.hideLabelsPercent=0,this.urlTarget="_self",this.autoMarginOffset=10,this.gradientRatio=[],this.maxLabelWidth=200,e.applyTheme(this,t,"AmSlicedChart")},initChart:function(){e.AmSlicedChart.base.initChart.call(this),this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData)),this.drawChart()},handleLegendEvent:function(e){var t=e.type,n=e.dataItem,r=this.legend;if(!r.data&&n){var i=n.hidden;e=e.event;switch(t){case"clickMarker":i||r.switchable||this.clickSlice(n,e);break;case"clickLabel":i||this.clickSlice(n,e,!1);break;case"rollOverItem":i||this.rollOverSlice(n,!1,e);break;case"rollOutItem":i||this.rollOutSlice(n,e);break;case"hideItem":this.hideSlice(n,e);break;case"showItem":this.showSlice(n,e)}}},invalidateVisibility:function(){this.recalculatePercents(),this.initChart();var e=this.legend;e&&e.invalidateSize()},addEventListeners:function(e,t){var n=this;e.mouseover(function(e){n.rollOverSlice(t,!0,e)}).mouseout(function(e){n.rollOutSlice(t,e)}).touchend(function(e){n.rollOverSlice(t,e),n.panEventsEnabled&&n.clickSlice(t,e)}).touchstart(function(e){n.rollOverSlice(t,e)}).click(function(e){n.clickSlice(t,e)}).contextmenu(function(e){n.handleRightClick(t,e)})},formatString:function(t,n,r){t=e.formatValue(t,n,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);var i=this.pf.precision;return isNaN(this.tempPrec)||(this.pf.precision=this.tempPrec),t=e.formatValue(t,n,["percents"],this.pf),t=e.massReplace(t,{"[[title]]":n.title,"[[description]]":n.description}),this.pf.precision=i,-1!=t.indexOf("[[")&&(t=e.formatDataContextValue(t,n.dataContext)),t=r?e.fixNewLines(t):e.fixBrakes(t),t=e.cleanFromEmpty(t)},startSlices:function(){var e;for(e=0;e<this.chartData.length;e++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(e):this.startSlice(this.chartData[e])},setStartTO:function(e){var t=this;e=setTimeout(function(){t.startSequenced.call(t)},t.startDuration/t.chartData.length*500*e),t.timeOuts.push(e)},pullSlices:function(e){var t=this.chartData,n;for(n=0;n<t.length;n++){var r=t[n];r.pulled&&this.pullSlice(r,1,e)}},startSequenced:function(){var e=this.chartData,t;for(t=0;t<e.length;t++)if(!e[t].started){this.startSlice(this.chartData[t]);break}},startSlice:function(e){e.started=!0;var t=e.wedge,n=this.startDuration,r=e.labelSet;t&&0<n&&(0<e.alpha&&t.show(),t.translate(e.startX,e.startY),t.animate({opacity:1,translate:"0,0"},n,this.startEffect)),r&&0<n&&(0<e.alpha&&r.show(),r.translate(e.startX,e.startY),r.animate({opacity:1,translate:"0,0"},n,this.startEffect))},showLabels:function(){var e=this.chartData,t;for(t=0;t<e.length;t++){var n=e[t];if(0<n.alpha){var r=n.label;r&&r.show(),(n=n.tick)&&n.show()}}},showSlice:function(e){isNaN(e)?e.hidden=!1:this.chartData[e].hidden=!1,this.invalidateVisibility()},hideSlice:function(e){isNaN(e)?e.hidden=!0:this.chartData[e].hidden=!0,this.hideBalloon(),this.invalidateVisibility()},rollOverSlice:function(t,n,r){isNaN(t)||(t=this.chartData[t]),clearTimeout(this.hoverInt);if(!t.hidden){this.pullOnHover&&this.pullSlice(t,1),1>this.hoverAlpha&&t.wedge&&t.wedge.attr({opacity:this.hoverAlpha});var i=t.balloonX,s=t.balloonY;t.pulled&&(i+=t.pullX,s+=t.pullY);var o=this.formatString(this.balloonText,t,!0),u=this.balloonFunction;u&&(o=u(t,o)),u=e.adjustLuminosity(t.color,-0.15),o?this.showBalloon(o,u,n,i,s):this.hideBalloon(),0===t.value&&this.hideBalloon(),t={type:"rollOverSlice",dataItem:t,chart:this,event:r},this.fire(t.type,t)}},rollOutSlice:function(e,t){isNaN(e)||(e=this.chartData[e]),e.wedge&&e.wedge.attr({opacity:1}),this.hideBalloon();var n={type:"rollOutSlice",dataItem:e,chart:this,event:t};this.fire(n.type,n)},clickSlice:function(t,n,r){isNaN(t)||(t=this.chartData[t]),t.pulled?this.pullSlice(t,0):this.pullSlice(t,1),e.getURL(t.url,this.urlTarget),r||(t={type:"clickSlice",dataItem:t,chart:this,event:n},this.fire(t.type,t))},handleRightClick:function(e,t){isNaN(e)||(e=this.chartData[e]);var n={type:"rightClickSlice",dataItem:e,chart:this,event:t};this.fire(n.type,n)},drawTicks:function(){var t=this.chartData,n;for(n=0;n<t.length;n++){var r=t[n];if(r.label){var i=r.ty,i=e.line(this.container,[r.tx0,r.tx,r.tx2],[r.ty0,i,i],this.labelTickColor,this.labelTickAlpha);e.setCN(this,i,this.type+"-tick"),e.setCN(this,i,r.className,!0),r.tick=i,r.wedge.push(i)}}},initialStart:function(){var e=this,t=e.startDuration,n=setTimeout(function(){e.showLabels.call(e)},1e3*t);e.timeOuts.push(n),e.chartCreated?e.pullSlices(!0):(e.startSlices(),0<t?(t=setTimeout(function(){e.pullSlices.call(e)},1200*t),e.timeOuts.push(t)):e.pullSlices(!0))},pullSlice:function(e,t,n){var r=this.pullOutDuration;!0===n&&(r=0);if(n=e.wedge)0<r?(n.animate({translate:t*e.pullX+","+t*e.pullY},r,this.pullOutEffect),e.labelSet&&e.labelSet.animate({translate:t*e.pullX+","+t*e.pullY},r,this.pullOutEffect)):(e.labelSet&&e.labelSet.translate(t*e.pullX,t*e.pullY),n.translate(t*e.pullX,t*e.pullY));1==t?(e.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(e.index),e={type:"pullOutSlice",dataItem:e,chart:this}):(e.pulled=!1,e={type:"pullInSlice",dataItem:e,chart:this}),this.fire(e.type,e)},pullInAll:function(e){var t=this.chartData,n;for(n=0;n<this.chartData.length;n++)n!=e&&t[n].pulled&&this.pullSlice(t[n],0)},pullOutAll:function(){var e=this.chartData,t;for(t=0;t<e.length;t++)e[t].pulled||this.pullSlice(e[t],1)},parseData:function(){var t=[];this.chartData=t;var n=this.dataProvider;isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha);if(void 0!==n){var r=n.length,i=0,s,o,u;for(s=0;s<r;s++){o={};var a=n[s];o.dataContext=a,null!==a[this.valueField]&&(o.value=Number(a[this.valueField])),(u=a[this.titleField])||(u=""),o.title=u,o.pulled=e.toBoolean(a[this.pulledField],!1),(u=a[this.descriptionField])||(u=""),o.description=u,o.labelRadius=Number(a[this.labelRadiusField]),o.switchable=!0,o.className=a[this.classNameField],o.url=a[this.urlField],u=a[this.patternField],!u&&this.patterns&&(u=this.patterns[s]),o.pattern=u,o.visibleInLegend=e.toBoolean(a[this.visibleInLegendField],!0),u=a[this.alphaField],o.alpha=void 0!==u?Number(u):this.alpha,u=a[this.colorField],void 0!==u&&(o.color=u),o.labelColor=e.toColor(a[this.labelColorField]),i+=o.value,o.hidden=!1,t[s]=o}for(s=n=0;s<r;s++)o=t[s],o.percents=o.value/i*100,o.percents<this.groupPercent&&n++;1<n&&(this.groupValue=0,this.removeSmallSlices(),t.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/i*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}})),r=this.baseColor,r||(r=this.pieBaseColor),i=this.brightnessStep,i||(i=this.pieBrightnessStep);for(s=0;s<t.length;s++)r?u=e.adjustLuminosity(r,s*i/100):(u=this.colors[s],void 0===u&&(u=e.randomColor())),void 0===t[s].color&&(t[s].color=u);this.recalculatePercents()}},recalculatePercents:function(){var e=this.chartData,t=0,n,r;for(n=0;n<e.length;n++)r=e[n],!r.hidden&&0<r.value&&(t+=r.value);for(n=0;n<e.length;n++)r=this.chartData[n],r.percents=!r.hidden&&0<r.value?100*r.value/t:0},removeSmallSlices:function(){var e=this.chartData,t;for(t=e.length-1;0<=t;t--)e[t].percents<this.groupPercent&&(this.groupValue+=e[t].value,e.splice(t,1))},animateAgain:function(){var e=this;e.startSlices();for(var t=0;t<e.chartData.length;t++){var n=e.chartData[t];n.started=!1;var r=n.wedge;r&&r.translate(n.startX,n.startY),(r=n.labelSet)&&r.translate(n.startX,n.startY)}t=e.startDuration,0<t?(t=setTimeout(function(){e.pullSlices.call(e)},1200*t),e.timeOuts.push(t)):e.pullSlices()},measureMaxLabel:function(){var t=this.chartData,n=0,r;for(r=0;r<t.length;r++){var i=t[r],s=this.formatString(this.labelText,i),o=this.labelFunction;o&&(s=o(i,s)),i=e.text(this.container,s,this.color,this.fontFamily,this.fontSize),s=i.getBBox().width,s>n&&(n=s),i.remove()}return n}})}(),function(){var e=window.AmCharts;e.AmRectangularChart=e.Class({inherits:e.AmCoordinateChart,construct:function(t){e.AmRectangularChart.base.construct.call(this,t),this.theme=t,this.createEvents("zoomed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.verticalPosition=this.horizontalPosition=this.depth3D=this.angle=0,this.heightMultiplier=this.widthMultiplier=1,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens.png",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,e.applyTheme(this,t,"AmRectangularChart")},initChart:function(){e.AmRectangularChart.base.initChart.call(this),this.updateDxy();var t=!0;!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),t=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),t&&(this.scrollbarOnly||this.updateGraphs())},drawChart:function(){e.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea();if(e.ifArray(this.chartData)){var t=this.chartCursor;t&&t.draw()}},resetMargins:function(){var e={},t;if("xy"==this.type){var n=this.xAxes,r=this.yAxes;for(t=0;t<n.length;t++){var i=n[t];i.ignoreAxisWidth||(i.setOrientation(!0),i.fixAxisPosition(),e[i.position]=!0)}for(t=0;t<r.length;t++)n=r[t],n.ignoreAxisWidth||(n.setOrientation(!1),n.fixAxisPosition(),e[n.position]=!0)}else{r=this.valueAxes;for(t=0;t<r.length;t++)n=r[t],n.ignoreAxisWidth||(n.setOrientation(this.rotate),n.fixAxisPosition(),e[n.position]=!0);(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}e.left&&(this.marginLeft=0),e.right&&(this.marginRight=0),e.top&&(this.marginTop=0),e.bottom&&(this.marginBottom=0),this.fixMargins=e},measureMargins:function(){var e=this.valueAxes,t,n=this.autoMarginOffset,r=this.fixMargins,i=this.realWidth,s=this.realHeight,o=n,u=n,a=i;t=s;var f;for(f=0;f<e.length;f++)e[f].handleSynchronization(),t=this.getAxisBounds(e[f],o,a,u,t),o=Math.round(t.l),a=Math.round(t.r),u=Math.round(t.t),t=Math.round(t.b);if(e=this.categoryAxis)t=this.getAxisBounds(e,o,a,u,t),o=Math.round(t.l),a=Math.round(t.r),u=Math.round(t.t),t=Math.round(t.b);r.left&&o<n&&(this.marginLeft=Math.round(-o+n)),r.right&&a>=i-n&&(this.marginRight=Math.round(a-i+n)),r.top&&u<n+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-u+n+this.titleHeight)),r.bottom&&t>s-n&&(this.marginBottom=Math.round(this.marginBottom+t-s+n)),this.initChart()},getAxisBounds:function(e,t,n,r,i){if(!e.ignoreAxisWidth){var s=e.labelsSet,o=e.tickLength;e.inside&&(o=0);if(s)switch(s=e.getBBox(),e.position){case"top":e=s.y,r>e&&(r=e);break;case"bottom":e=s.y+s.height,i<e&&(i=e);break;case"right":e=s.x+s.width+o+3,n<e&&(n=e);break;case"left":e=s.x-o,t>e&&(t=e)}}return{l:t,t:r,r:n,b:i}},drawZoomOutButton:function(){var t=this;if(!t.zbSet){var n=t.container.set();t.zoomButtonSet.push(n);var r=t.color,i=t.fontSize,s=t.zoomOutButtonImageSize,o=t.zoomOutButtonImage,u=e.lang.zoomOutText||t.zoomOutText,a=t.zoomOutButtonColor,f=t.zoomOutButtonAlpha,l=t.zoomOutButtonFontSize,c=t.zoomOutButtonPadding;isNaN(l)||(i=l),(l=t.zoomOutButtonFontColor)&&(r=l);var l=t.zoomOutButton,h;l&&(l.fontSize&&(i=l.fontSize),l.color&&(r=l.color),l.backgroundColor&&(a=l.backgroundColor),isNaN(l.backgroundAlpha)||(t.zoomOutButtonRollOverAlpha=l.backgroundAlpha));var p=l=0;void 0!==t.pathToImages&&o&&(h=t.container.image(t.pathToImages+o,0,0,s,s),e.setCN(t,h,"zoom-out-image"),n.push(h),h=h.getBBox(),l=h.width+5),void 0!==u&&(r=e.text(t.container,u,r,t.fontFamily,i,"start"),e.setCN(t,r,"zoom-out-label"),i=r.getBBox(),p=h?h.height/2-3:i.height/2,r.translate(l,p),n.push(r)),h=n.getBBox(),r=1,e.isModern||(r=0),a=e.rect(t.container,h.width+2*c+5,h.height+2*c-2,a,1,1,a,r),a.setAttr("opacity",f),a.translate(-c,-c),e.setCN(t,a,"zoom-out-bg"),n.push(a),a.toBack(),t.zbBG=a,h=a.getBBox(),n.translate(t.marginLeftReal+t.plotAreaWidth-h.width+c,t.marginTopReal+c),n.hide(),n.mouseover(function(){t.rollOverZB()}).mouseout(function(){t.rollOutZB()}).click(function(){t.clickZB()}).touchstart(function(){t.rollOverZB()}).touchend(function(){t.rollOutZB(),t.clickZB()});for(f=0;f<n.length;f++)n[f].attr({cursor:"pointer"});t.zbSet=n}},rollOverZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.zoomOut()},zoomOut:function(){this.updateScrollbar=!0,this.zoom()},drawPlotArea:function(){var t=this.dx,n=this.dy,r=this.marginLeftReal,i=this.marginTopReal,s=this.plotAreaWidth-1,o=this.plotAreaHeight-1,u=this.plotAreaFillColors,a=this.plotAreaFillAlphas,f=this.plotAreaBorderColor,l=this.plotAreaBorderAlpha;"object"==typeof a&&(a=a[0]),u=e.polygon(this.container,[0,s,s,0,0],[0,0,o,o,0],u,a,1,f,l,this.plotAreaGradientAngle),e.setCN(this,u,"plot-area"),u.translate(r+t,i+n),this.set.push(u),0!==t&&0!==n&&(u=this.plotAreaFillColors,"object"==typeof u&&(u=u[0]),u=e.adjustLuminosity(u,-0.15),s=e.polygon(this.container,[0,t,s+t,s,0],[0,n,n,0,0],u,a,1,f,l),e.setCN(this,s,"plot-area-bottom"),s.translate(r,i+o),this.set.push(s),t=e.polygon(this.container,[0,0,t,t,0],[0,o,o+n,n,0],u,a,1,f,l),e.setCN(this,t,"plot-area-left"),t.translate(r,i),this.set.push(t)),(r=this.bbset)&&this.scrollbarOnly&&r.remove()},updatePlotArea:function(){var e=this.updateWidth(),t=this.updateHeight(),n=this.container;this.realWidth=e,this.realWidth=t,n&&this.container.setSize(e,t),e=e-this.marginLeftReal-this.marginRightReal-this.dx,t=t-this.marginTopReal-this.marginBottomReal,1>e&&(e=1),1>t&&(t=1),this.plotAreaWidth=Math.round(e),this.plotAreaHeight=Math.round(t)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var e=this.getTitleHeight();this.titleHeight=e,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=e),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var t=this.valueAxes,n=this.marginLeftReal,r=this.marginTopReal,i=this.plotAreaHeight,s=this.plotAreaWidth,o;for(o=0;o<t.length;o++){var u=t[o];u.axisRenderer=e.RecAxis,u.guideFillRenderer=e.RecFill,u.axisItemRenderer=e.RecItem,u.dx=this.dx,u.dy=this.dy,u.viW=s-1,u.viH=i-1,u.marginsChanged=!0,u.viX=n,u.viY=r,this.updateObjectSize(u)}},updateObjectSize:function(e){e.width=(this.plotAreaWidth-1)*this.widthMultiplier,e.height=(this.plotAreaHeight-1)*this.heightMultiplier,e.x=this.marginLeftReal+this.horizontalPosition,e.y=this.marginTopReal+this.verticalPosition},updateGraphs:function(){var e=this.graphs,t;for(t=0;t<e.length;t++){var n=e[t];n.x=this.marginLeftReal+this.horizontalPosition,n.y=this.marginTopReal+this.verticalPosition,n.width=this.plotAreaWidth*this.widthMultiplier,n.height=this.plotAreaHeight*this.heightMultiplier,n.index=t,n.dx=this.dx,n.dy=this.dy,n.rotate=this.rotate}},updateChartCursor:function(){var t=this.chartCursor;t&&(t=e.processObject(t,e.ChartCursor,this.theme),this.addChartCursor(t),t.x=this.marginLeftReal,t.y=this.marginTopReal,t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.chart=this)},processScrollbars:function(){var t=this.chartScrollbar;t&&(t=e.processObject(t,e.ChartScrollbar,this.theme),this.addChartScrollbar(t))},updateScrollbars:function(){},addChartCursor:function(t){e.callMethod("destroy",[this.chartCursor]),t&&(this.listenTo(t,"changed",this.handleCursorChange),this.listenTo(t,"zoomed",this.handleCursorZoom)),this.chartCursor=t},removeChartCursor:function(){e.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var e=this.trendLines,t;for(t=0;t<e.length;t++){var n=e[t];n.valueAxis.recalculateToPercents?n.set&&n.set.hide():(n.x=this.marginLeftReal+this.horizontalPosition,n.y=this.marginTopReal+this.verticalPosition,n.draw())}},addTrendLine:function(e){this.trendLines.push(e)},removeTrendLine:function(e){var t=this.trendLines,n;for(n=t.length-1;0<=n;n--)t[n]==e&&t.splice(n,1)},adjustMargins:function(e,t){var n=e.position,r=e.scrollbarHeight+e.offset;e.enabled&&("top"==n?t?this.marginLeftReal+=r:this.marginTopReal+=r:t?this.marginRightReal+=r:this.marginBottomReal+=r)},getScrollbarPosition:function(e,t,n){var r="bottom",i="top";e.oppositeAxis||(i=r,r="top"),e.position=t?"bottom"==n||"left"==n?r:i:"top"==n||"right"==n?r:i},updateChartScrollbar:function(e,t){if(e){e.rotate=t;var n=this.marginTopReal,r=this.marginLeftReal,i=e.scrollbarHeight,s=this.dx,o=this.dy,u=e.offset;"top"==e.position?t?(e.y=n,e.x=r-i-u):(e.y=n-i+o-u,e.x=r+s):t?(e.y=n+o,e.x=r+this.plotAreaWidth+s+u):(e.y=n+this.plotAreaHeight+u,e.x=this.marginLeftReal)}},showZB:function(e){var t=this.zbSet;e&&(t=this.zoomOutText,""!==t&&t&&this.drawZoomOutButton());if(t=this.zbSet)this.zoomButtonSet.push(t),e?t.show():t.hide(),this.rollOutZB()},handleReleaseOutside:function(t){e.AmRectangularChart.base.handleReleaseOutside.call(this,t),(t=this.chartCursor)&&t.handleReleaseOutside&&t.handleReleaseOutside()},handleMouseDown:function(t){e.AmRectangularChart.base.handleMouseDown.call(this,t);var n=this.chartCursor;n&&n.handleMouseDown&&n.handleMouseDown(t)},handleCursorChange:function(){},update:function(){e.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()}})}(),function(){var e=window.AmCharts;e.TrendLine=e.Class({construct:function(t){this.cname="TrendLine",this.createEvents("click"),this.isProtected=!1,this.dashLength=0,this.lineColor="#00CC00",this.lineThickness=this.lineAlpha=1,e.applyTheme(this,t,this.cname)},draw:function(){var t=this;t.destroy();var n=t.chart,r=n.container,i,s,o,u,a=t.categoryAxis,f=t.initialDate,l=t.initialCategory,c=t.finalDate,h=t.finalCategory,p=t.valueAxis,v=t.valueAxisX,m=t.initialXValue,g=t.finalXValue,y=t.initialValue,b=t.finalValue,w=p.recalculateToPercents,E=n.dataDateFormat;a&&(f&&(f=e.getDate(f,E,"fff"),t.initialDate=f,i=a.dateToCoordinate(f)),l&&(i=a.categoryToCoordinate(l)),c&&(c=e.getDate(c,E,"fff"),t.finalDate=c,s=a.dateToCoordinate(c)),h&&(s=a.categoryToCoordinate(h))),v&&!w&&(isNaN(m)||(i=v.getCoordinate(m)),isNaN(g)||(s=v.getCoordinate(g))),p&&!w&&(isNaN(y)||(o=p.getCoordinate(y)),isNaN(b)||(u=p.getCoordinate(b)));if(!(isNaN(i)||isNaN(s)||isNaN(o)||isNaN(o))){n.rotate?(a=[o,u],u=[i,s]):(a=[i,s],u=[o,u]),f=t.lineColor,o=e.line(r,a,u,f,t.lineAlpha,t.lineThickness,t.dashLength),i=a,s=u,h=a[1]-a[0],p=u[1]-u[0],0===h&&(h=.01),0===p&&(p=.01),l=h/Math.abs(h),c=p/Math.abs(p),p=h*p/Math.abs(h*p)*Math.sqrt(Math.pow(h,2)+Math.pow(p,2)),h=Math.asin(h/p),p=90*Math.PI/180-h,h=Math.abs(5*Math.cos(p)),p=Math.abs(5*Math.sin(p)),i.push(a[1]-l*p,a[0]-l*p),s.push(u[1]+c*h,u[0]+c*h),a=e.polygon(r,i,s,f,.005,0),r=r.set([a,o]),r.translate(n.marginLeftReal,n.marginTopReal),n.trendLinesSet.push(r),e.setCN(n,o,"trend-line"),e.setCN(n,o,"trend-line-"+t.id),t.line=o,t.set=r;if(o=t.initialImage)o=e.processObject(o,e.Image,t.theme),o.chart=n,o.draw(),o.translate(i[0]+o.offsetX,s[0]+o.offsetY),r.push(o.set);if(o=t.finalImage)o=e.processObject(o,e.Image,t.theme),o.chart=n,o.draw(),o.translate(i[1]+o.offsetX,s[1]+o.offsetY),r.push(o.set);a.mouseup(function(){t.handleLineClick()}).mouseover(function(){t.handleLineOver()}).mouseout(function(){t.handleLineOut()}),a.touchend&&a.touchend(function(){t.handleLineClick()}),r.clipRect(0,0,n.plotAreaWidth,n.plotAreaHeight)}},handleLineClick:function(){var e={type:"click",trendLine:this,chart:this.chart};this.fire(e.type,e)},handleLineOver:function(){var e=this.rollOverColor;void 0!==e&&this.line.attr({stroke:e})},handleLineOut:function(){this.line.attr({stroke:this.lineColor})},destroy:function(){e.remove(this.set)}})}(),function(){var e=window.AmCharts;e.Image=e.Class({construct:function(t){this.cname="Image",this.height=this.width=20,this.rotation=this.offsetY=this.offsetX=0,this.balloonColor=this.color="#000000",this.opacity=1,e.applyTheme(this,t,this.cname)},draw:function(){var e=this;e.set&&e.set.remove();var t=e.chart.container;e.set=t.set();var n,r;e.url?(n=t.image(e.url,0,0,e.width,e.height),r=1):e.svgPath&&(n=t.path(e.svgPath),n.setAttr("fill",e.color),n.setAttr("stroke",e.outlineColor),t=n.getBBox(),r=Math.min(e.width/t.width,e.height/t.height)),n&&(n.setAttr("opacity",e.opacity),e.set.rotate(e.rotation),n.translate(-e.width/2,-e.height/2,r),e.balloonText&&n.mouseover(function(t){e.chart.showBalloon(e.balloonText,e.balloonColor,!0)}).mouseout(function(t){e.chart.hideBalloon()}).touchend(function(t){e.chart.hideBalloon()}).touchstart(function(t){e.chart.showBalloon(e.balloonText,e.balloonColor,!0)}),e.set.push(n))},translate:function(e,t){this.set&&this.set.translate(e,t)}})}(),function(){var e=window.AmCharts;e.circle=function(t,n,r,i,s,o,u,a,f){0>=n&&(n=.001);if(void 0==s||0===s)s=.01;return void 0===o&&(o="#000000"),void 0===u&&(u=0),i={fill:r,stroke:o,"fill-opacity":i,"stroke-width":s,"stroke-opacity":u},t=isNaN(f)?t.circle(0,0,n).attr(i):t.ellipse(0,0,n,f).attr(i),a&&t.gradient("radialGradient",[r,e.adjustLuminosity(r,-0.6)]),t},e.text=function(t,n,r,i,s,o,u,a){return o||(o="middle"),"right"==o&&(o="end"),"left"==o&&(o="start"),isNaN(a)&&(a=1),void 0!==n&&(n=String(n),e.isIE&&!e.isModern&&(n=n.replace("&amp;","&"),n=n.replace("&","&amp;"))),r={fill:r,"font-family":i,"font-size":s,opacity:a},!0===u&&(r["font-weight"]="bold"),r["text-anchor"]=o,t.text(n,r)},e.polygon=function(t,n,r,i,s,o,u,a,f,l,c){isNaN(o)&&(o=.01),isNaN(a)&&(a=s);var h=i,p=!1;"object"==typeof h&&1<h.length&&(p=!0,h=h[0]),void 0===u&&(u=h),s={fill:h,stroke:u,"fill-opacity":s,"stroke-width":o,"stroke-opacity":a},void 0!==c&&0<c&&(s["stroke-dasharray"]=c),c=e.dx,o=e.dy,t.handDrawn&&(r=e.makeHD(n,r,t.handDrawScatter),n=r[0],r=r[1]),u=Math.round,l&&(u=e.doNothing),l="M"+(u(n[0])+c)+","+(u(r[0])+o);for(a=1;a<n.length;a++)l+=" L"+(u(n[a])+c)+","+(u(r[a])+o);return t=t.path(l+" Z").attr(s),p&&t.gradient("linearGradient",i,f),t},e.rect=function(t,n,r,i,s,o,u,a,f,l,c){if(isNaN(n)||isNaN(r))return t.set();isNaN(o)&&(o=0),void 0===f&&(f=0),void 0===l&&(l=270),isNaN(s)&&(s=0);var h=i,p=!1;"object"==typeof h&&(h=h[0],p=!0),void 0===u&&(u=h),void 0===a&&(a=s),n=Math.round(n),r=Math.round(r);var v=0,m=0;return 0>n&&(n=Math.abs(n),v=-n),0>r&&(r=Math.abs(r),m=-r),v+=e.dx,m+=e.dy,s={fill:h,stroke:u,"fill-opacity":s,"stroke-opacity":a},void 0!==c&&0<c&&(s["stroke-dasharray"]=c),t=t.rect(v,m,n,r,f,o).attr(s),p&&t.gradient("linearGradient",i,l),t},e.bullet=function(t,n,r,i,s,o,u,a,f,l,c,h){var p;"circle"==n&&(n="round");switch(n){case"round":p=e.circle(t,r/2,i,s,o,u,a);break;case"square":p=e.polygon(t,[-r/2,r/2,r/2,-r/2],[r/2,r/2,-r/2,-r/2],i,s,o,u,a,l-180);break;case"rectangle":p=e.polygon(t,[-r,r,r,-r],[r/2,r/2,-r/2,-r/2],i,s,o,u,a,l-180);break;case"diamond":p=e.polygon(t,[-r/2,0,r/2,0],[0,-r/2,0,r/2],i,s,o,u,a);break;case"triangleUp":p=e.triangle(t,r,0,i,s,o,u,a);break;case"triangleDown":p=e.triangle(t,r,180,i,s,o,u,a);break;case"triangleLeft":p=e.triangle(t,r,270,i,s,o,u,a);break;case"triangleRight":p=e.triangle(t,r,90,i,s,o,u,a);break;case"bubble":p=e.circle(t,r/2,i,s,o,u,a,!0);break;case"line":p=e.line(t,[-r/2,r/2],[0,0],i,s,o,u,a);break;case"yError":p=t.set(),p.push(e.line(t,[0,0],[-r/2,r/2],i,s,o)),p.push(e.line(t,[-f,f],[-r/2,-r/2],i,s,o)),p.push(e.line(t,[-f,f],[r/2,r/2],i,s,o));break;case"xError":p=t.set(),p.push(e.line(t,[-r/2,r/2],[0,0],i,s,o)),p.push(e.line(t,[-r/2,-r/2],[-f,f],i,s,o)),p.push(e.line(t,[r/2,r/2],[-f,f],i,s,o))}return p&&p.pattern(c,NaN,h),p},e.triangle=function(e,t,n,r,i,s,o,u){if(void 0===s||0===s)s=1;void 0===o&&(o="#000"),void 0===u&&(u=0),r={fill:r,stroke:o,"fill-opacity":i,"stroke-width":s,"stroke-opacity":u},t/=2;var a;return 0===n&&(a=" M"+ -t+","+t+" L0,"+ -t+" L"+t+","+t+" Z"),180==n&&(a=" M"+ -t+","+ -t+" L0,"+t+" L"+t+","+ -t+" Z"),90==n&&(a=" M"+ -t+","+ -t+" L"+t+",0 L"+ -t+","+t+" Z"),270==n&&(a=" M"+ -t+",0 L"+t+","+t+" L"+t+","+ -t+" Z"),e.path(a).attr(r)},e.line=function(t,n,r,i,s,o,u,a,f,l,c){if(t.handDrawn&&!c)return e.handDrawnLine(t,n,r,i,s,o,u,a,f,l,c);o={fill:"none","stroke-width":o},void 0!==u&&0<u&&(o["stroke-dasharray"]=u),isNaN(s)||(o["stroke-opacity"]=s),i&&(o.stroke=i),i=Math.round,l&&(i=e.doNothing),l=e.dx,s=e.dy,u="M"+(i(n[0])+l)+","+(i(r[0])+s);for(a=1;a<n.length;a++)u+=" L"+(i(n[a])+l)+","+(i(r[a])+s);return e.VML?t.path(u,void 0,!0).attr(o):(f&&(u+=" M0,0 L0,0"),t.path(u).attr(o))},e.makeHD=function(e,t,n){for(var r=[],i=[],s=1;s<e.length;s++)for(var o=Number(e[s-1]),u=Number(t[s-1]),a=Number(e[s]),f=Number(t[s]),l=Math.sqrt(Math.pow(a-o,2)+Math.pow(f-u,2)),l=Math.round(l/50)+1,a=(a-o)/l,f=(f-u)/l,c=0;c<=l;c++){var h=o+c*a+Math.random()*n,p=u+c*f+Math.random()*n;r.push(h),i.push(p)}return[r,i]},e.handDrawnLine=function(t,n,r,i,s,o,u,a,f,l){var c,h=t.set();for(c=1;c<n.length;c++)for(var p=[n[c-1],n[c]],v=[r[c-1],r[c]],v=e.makeHD(p,v,t.handDrawScatter),p=v[0],v=v[1],m=1;m<p.length;m++)h.push(e.line(t,[p[m-1],p[m]],[v[m-1],v[m]],i,s,o+Math.random()*t.handDrawThickness-t.handDrawThickness/2,u,a,f,l,!0));return h},e.doNothing=function(e){return e},e.wedge=function(t,n,r,i,s,o,u,a,f,l,c,h,p){var v=Math.round;o=v(o),u=v(u),a=v(a);var m=v(u/o*a),g=e.VML,y=359.5+o/100;359.94<y&&(y=359.94),s>=y&&(s=y);var b=1/180*Math.PI,y=n+Math.sin(i*b)*a,w=r-Math.cos(i*b)*m,E=n+Math.sin(i*b)*o,S=r-Math.cos(i*b)*u,x=n+Math.sin((i+s)*b)*o,T=r-Math.cos((i+s)*b)*u,N=n+Math.sin((i+s)*b)*a,b=r-Math.cos((i+s)*b)*m,C={fill:e.adjustLuminosity(l.fill,-0.2),"stroke-opacity":0,"fill-opacity":l["fill-opacity"]},k=0;180<Math.abs(s)&&(k=1),i=t.set();var L;g&&(y=v(10*y),E=v(10*E),x=v(10*x),N=v(10*N),w=v(10*w),S=v(10*S),T=v(10*T),b=v(10*b),n=v(10*n),f=v(10*f),r=v(10*r),o*=10,u*=10,a*=10,m*=10,1>Math.abs(s)&&1>=Math.abs(x-E)&&1>=Math.abs(T-S)&&(L=!0)),s="";var A;h&&(C["fill-opacity"]=0,C["stroke-opacity"]=l["stroke-opacity"]/2,C.stroke=l.stroke);if(0<f){A=" M"+y+","+(w+f)+" L"+E+","+(S+f),g?(L||(A+=" A"+(n-o)+","+(f+r-u)+","+(n+o)+","+(f+r+u)+","+E+","+(S+f)+","+x+","+(T+f)),A+=" L"+N+","+(b+f),0<a&&(L||(A+=" B"+(n-a)+","+(f+r-m)+","+(n+a)+","+(f+r+m)+","+N+","+(f+b)+","+y+","+(f+w)))):(A+=" A"+o+","+u+",0,"+k+",1,"+x+","+(T+f)+" L"+N+","+(b+f),0<a&&(A+=" A"+a+","+m+",0,"+k+",0,"+y+","+(w+f))),A+=" Z";var O=f;g&&(O/=10);for(var M=0;M<O;M+=10){var _=t.path(A,void 0,void 0,"1000,1000").attr(C);i.push(_),_.translate(0,-M)}A=t.path(" M"+y+","+w+" L"+y+","+(w+f)+" L"+E+","+(S+f)+" L"+E+","+S+" L"+y+","+w+" Z",void 0,void 0,"1000,1000").attr(C),f=t.path(" M"+x+","+T+" L"+x+","+(T+f)+" L"+N+","+(b+f)+" L"+N+","+b+" L"+x+","+T+" Z",void 0,void 0,"1000,1000").attr(C),i.push(A),i.push(f)}g?(L||(s=" A"+v(n-o)+","+v(r-u)+","+v(n+o)+","+v(r+u)+","+v(E)+","+v(S)+","+v(x)+","+v(T)),o=" M"+v(y)+","+v(w)+" L"+v(E)+","+v(S)+s+" L"+v(N)+","+v(b)):o=" M"+y+","+w+" L"+E+","+S+(" A"+o+","+u+",0,"+k+",1,"+x+","+T)+" L"+N+","+b,0<a&&(g?L||(o+=" B"+(n-a)+","+(r-m)+","+(n+a)+","+(r+m)+","+N+","+b+","+y+","+w):o+=" A"+a+","+m+",0,"+k+",0,"+y+","+w),t.handDrawn&&(n=e.line(t,[y,E],[w,S],l.stroke,l.thickness*Math.random()*t.handDrawThickness,l["stroke-opacity"]),i.push(n)),t=t.path(o+" Z",void 0,void 0,"1000,1000").attr(l);if(c){n=[];for(r=0;r<c.length;r++)n.push(e.adjustLuminosity(l.fill,c[r]));0<n.length&&t.gradient("linearGradient",n)}return t.pattern(h,NaN,p),i.wedge=t,i.push(t),i},e.adjustLuminosity=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),6>e.length&&(e=String(e[0])+String(e[0])+String(e[1])+String(e[1])+String(e[2])+String(e[2])),t=t||0;var n="#",r,i;for(i=0;3>i;i++)r=parseInt(e.substr(2*i,2),16),r=Math.round(Math.min(Math.max(0,r+r*t),255)).toString(16),n+=("00"+r).substr(r.length);return n}}(),function(){var e=window.AmCharts;e.Bezier=e.Class({construct:function(t,n,r,i,s,o,u,a,f,l){"object"==typeof u&&(u=u[0]),"object"==typeof a&&(a=a[0]),0===a&&(u="none"),o={fill:u,"fill-opacity":a,"stroke-width":o},void 0!==f&&0<f&&(o["stroke-dasharray"]=f),isNaN(s)||(o["stroke-opacity"]=s),i&&(o.stroke=i),i="M"+Math.round(n[0])+","+Math.round(r[0]),s=[];for(f=0;f<n.length;f++)s.push({x:Number(n[f]),y:Number(r[f])});1<s.length&&(n=this.interpolate(s),i+=this.drawBeziers(n)),l?i+=l:e.VML||(i+="M0,0 L0,0"),this.path=t.path(i).attr(o),this.node=this.path.node},interpolate:function(t){var n=[];n.push({x:t[0].x,y:t[0].y});var r=t[1].x-t[0].x,i=t[1].y-t[0].y,s=e.bezierX,o=e.bezierY;n.push({x:t[0].x+r/s,y:t[0].y+i/o});var u;for(u=1;u<t.length-1;u++){var a=t[u-1],f=t[u],i=t[u+1];isNaN(i.x)&&(i=f),isNaN(f.x)&&(f=a),isNaN(a.x)&&(a=f),r=i.x-f.x,i=i.y-a.y,a=f.x-a.x,a>r&&(a=r),n.push({x:f.x-a/s,y:f.y-i/o}),n.push({x:f.x,y:f.y}),n.push({x:f.x+a/s,y:f.y+i/o})}return i=t[t.length-1].y-t[t.length-2].y,r=t[t.length-1].x-t[t.length-2].x,n.push({x:t[t.length-1].x-r/s,y:t[t.length-1].y-i/o}),n.push({x:t[t.length-1].x,y:t[t.length-1].y}),n},drawBeziers:function(e){var t="",n;for(n=0;n<(e.length-1)/3;n++)t+=this.drawBezierMidpoint(e[3*n],e[3*n+1],e[3*n+2],e[3*n+3]);return t},drawBezierMidpoint:function(e,t,n,r){var i=Math.round,s=this.getPointOnSegment(e,t,.75),o=this.getPointOnSegment(r,n,.75),u=(r.x-e.x)/16,a=(r.y-e.y)/16,f=this.getPointOnSegment(e,t,.375);return e=this.getPointOnSegment(s,o,.375),e.x-=u,e.y-=a,t=this.getPointOnSegment(o,s,.375),t.x+=u,t.y+=a,n=this.getPointOnSegment(r,n,.375),u=this.getMiddle(f,e),s=this.getMiddle(s,o),o=this.getMiddle(t,n),f=" Q"+i(f.x)+","+i(f.y)+","+i(u.x)+","+i(u.y),f+=" Q"+i(e.x)+","+i(e.y)+","+i(s.x)+","+i(s.y),f+=" Q"+i(t.x)+","+i(t.y)+","+i(o.x)+","+i(o.y),f+=" Q"+i(n.x)+","+i(n.y)+","+i(r.x)+","+i(r.y)},getMiddle:function(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}},getPointOnSegment:function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}}})}(),function(){var e=window.AmCharts;e.AmDraw=e.Class({construct:function(t,n,r,i){e.SVG_NS="http://www.w3.org/2000/svg",e.SVG_XLINK="http://www.w3.org/1999/xlink",e.hasSVG=!!document.createElementNS&&!!document.createElementNS(e.SVG_NS,"svg").createSVGRect,1>n&&(n=10),1>r&&(r=10),this.div=t,this.width=n,this.height=r,this.rBin=document.createElement("div"),e.hasSVG?(e.SVG=!0,n=this.createSvgElement("svg"),t.appendChild(n),this.container=n,this.addDefs(i),this.R=new e.SVGRenderer(this)):e.isIE&&e.VMLRenderer&&(e.VML=!0,e.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?(n=document.createStyleSheet(),n.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),e.vmlStyleSheet=n):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=t,this.R=new e.VMLRenderer(this,i),this.R.disableSelection(t))},createSvgElement:function(t){return document.createElementNS(e.SVG_NS,t)},circle:function(t,n,r,i){var s=new e.AmDObject("circle",this);return s.attr({r:r,cx:t,cy:n}),this.addToContainer(s.node,i),s},ellipse:function(t,n,r,i,s){var o=new e.AmDObject("ellipse",this);return o.attr({rx:r,ry:i,cx:t,cy:n}),this.addToContainer(o.node,s),o},setSize:function(e,t){0<e&&0<t&&(this.container.style.width=e+"px",this.container.style.height=t+"px")},rect:function(t,n,r,i,s,o,u){var a=new e.AmDObject("rect",this);return e.VML&&(s=Math.round(100*s/Math.min(r,i)),r+=2*o,i+=2*o,a.bw=o,a.node.style.marginLeft=-o,a.node.style.marginTop=-o),1>r&&(r=1),1>i&&(i=1),a.attr({x:t,y:n,width:r,height:i,rx:s,ry:s,"stroke-width":o}),this.addToContainer(a.node,u),a},image:function(t,n,r,i,s,o){var u=new e.AmDObject("image",this);return u.attr({x:n,y:r,width:i,height:s}),this.R.path(u,t),this.addToContainer(u.node,o),u},addToContainer:function(e,t){t||(t=this.container),t.appendChild(e)},text:function(e,t,n){return this.R.text(e,t,n)},path:function(t,n,r,i){var s=new e.AmDObject("path",this);return i||(i="100,100"),s.attr({cs:i}),r?s.attr({dd:t}):s.attr({d:t}),this.addToContainer(s.node,n),s},set:function(e){return this.R.set(e)},remove:function(e){if(e){var t=this.rBin;t.appendChild(e),t.innerHTML=""}},renderFix:function(){var e=this.container,t=e.style;t.top="0px",t.left="0px";var n=e.getBoundingClientRect(),e=n.left-Math.round(n.left),n=n.top-Math.round(n.top);e&&(t.left=e+"px"),n&&(t.top=n+"px")},update:function(){this.R.update()},addDefs:function(t){if(e.hasSVG){var n=this.createSvgElement("desc"),r=this.container;r.setAttribute("version","1.1"),r.style.position="absolute",this.setSize(this.width,this.height),e.rtl&&(r.setAttribute("direction","rtl"),r.style.left="auto",r.style.right="0px"),t.addCodeCredits&&n.appendChild(document.createTextNode("JavaScript chart by amCharts "+t.version)),r.appendChild(n),t.defs&&(n=this.createSvgElement("defs"),r.appendChild(n),e.parseDefs(t.defs,n),this.defs=n)}}})}(),function(){var e=window.AmCharts;e.AmDObject=e.Class({construct:function(e,t){this.D=t,this.R=t.R,this.node=this.R.create(this,e),this.y=this.x=0,this.scale=1},attr:function(e){return this.R.attr(this,e),this},getAttr:function(e){return this.node.getAttribute(e)},setAttr:function(e,t){return this.R.setAttr(this,e,t),this},clipRect:function(e,t,n,r){this.R.clipRect(this,e,t,n,r)},translate:function(e,t,n,r){r||(e=Math.round(e),t=Math.round(t)),this.R.move(this,e,t,n),this.x=e,this.y=t,this.scale=n,this.angle&&this.rotate(this.angle)},rotate:function(e,t){this.R.rotate(this,e,t),this.angle=e},animate:function(t,n,r){for(var i in t)if(t.hasOwnProperty(i)){var s=i,o=t[i];r=e.getEffect(r),this.R.animate(this,s,o,n,r)}},push:function(e){if(e){var t=this.node;t.appendChild(e.node);var n=e.clipPath;n&&t.appendChild(n),(e=e.grad)&&t.appendChild(e)}},text:function(e){this.R.setText(this,e)},remove:function(){this.R.remove(this)},clear:function(){var e=this.node;if(e.hasChildNodes())for(;1<=e.childNodes.length;)e.removeChild(e.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var e=this.node;if(e){this.prevNextNode=e.nextSibling;var t=e.parentNode;t&&t.appendChild(e)}},toPrevious:function(){var e=this.node;e&&this.prevNextNode&&(e=e.parentNode)&&e.insertBefore(this.prevNextNode,null)},toBack:function(){var e=this.node;if(e){this.prevNextNode=e.nextSibling;var t=e.parentNode;if(t){var n=t.firstChild;n&&t.insertBefore(e,n)}}},mouseover:function(e){return this.R.addListener(this,"mouseover",e),this},mouseout:function(e){return this.R.addListener(this,"mouseout",e),this},click:function(e){return this.R.addListener(this,"click",e),this},dblclick:function(e){return this.R.addListener(this,"dblclick",e),this},mousedown:function(e){return this.R.addListener(this,"mousedown",e),this},mouseup:function(e){return this.R.addListener(this,"mouseup",e),this},touchstart:function(e){return this.R.addListener(this,"touchstart",e),this},touchend:function(e){return this.R.addListener(this,"touchend",e),this},contextmenu:function(e){return this.node.addEventListener?this.node.addEventListener("contextmenu",e,!0):this.R.addListener(this,"contextmenu",e),this},stop:function(){e.removeFromArray(this.R.animations,this.an_x),e.removeFromArray(this.R.animations,this.an_y)},length:function(){return this.node.childNodes.length},gradient:function(e,t,n){this.R.gradient(this,e,t,n)},pattern:function(e,t,n){e&&this.R.pattern(this,e,t,n)}})}(),function(){var e=window.AmCharts;e.VMLRenderer=e.Class({construct:function(e,t){this.chart=t,this.D=e,this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"},this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(e,t){var n;if("group"==t)n=document.createElement("div"),e.type="div";else if("text"==t)n=document.createElement("div"),e.type="text";else if("image"==t)n=document.createElement("img"),e.type="image";else{e.type="shape",e.shapeType=this.cNames[t],n=document.createElement("amvml:"+this.cNames[t]);var r=document.createElement("amvml:stroke");n.appendChild(r),e.stroke=r;var i=document.createElement("amvml:fill");n.appendChild(i),e.fill=i,i.className="amvml",r.className="amvml",n.className="amvml"}return n.style.position="absolute",n.style.top=0,n.style.left=0,n},path:function(e,t){e.node.setAttribute("src",t)},setAttr:function(t,n,r){if(void 0!==r){var i;8===document.documentMode&&(i=!0);var s=t.node,o=t.type,u=s.style;"r"==n&&(u.width=2*r,u.height=2*r),"oval"==t.shapeType&&("rx"==n&&(u.width=2*r),"ry"==n&&(u.height=2*r)),"roundrect"==t.shapeType&&("width"!=n&&"height"!=n||--r),"cursor"==n&&(u.cursor=r),"cx"==n&&(u.left=r-e.removePx(u.width)/2),"cy"==n&&(u.top=r-e.removePx(u.height)/2);var a=this.styleMap[n];void 0!==a&&(u[a]=r),"text"==o&&("text-anchor"==n&&(t.anchor=r,a=s.clientWidth,"end"==r&&(u.marginLeft=-a+"px"),"middle"==r&&(u.marginLeft=-(a/2)+"px",u.textAlign="center"),"start"==r&&(u.marginLeft="0px")),"fill"==n&&(u.color=r),"font-weight"==n&&(u.fontWeight=r));if(u=t.children)for(a=0;a<u.length;a++)u[a].setAttr(n,r);if("shape"==o){"cs"==n&&(s.style.width="100px",s.style.height="100px",s.setAttribute("coordsize",r)),"d"==n&&s.setAttribute("path",this.svgPathToVml(r)),"dd"==n&&s.setAttribute("path",r),o=t.stroke,t=t.fill,"stroke"==n&&(i?o.color=r:o.setAttribute("color",r)),"stroke-width"==n&&(i?o.weight=r:o.setAttribute("weight",r)),"stroke-opacity"==n&&(i?o.opacity=r:o.setAttribute("opacity",r)),"stroke-dasharray"==n&&(u="solid",0<r&&3>r&&(u="dot"),3<=r&&6>=r&&(u="dash"),6<r&&(u="longdash"),i?o.dashstyle=u:o.setAttribute("dashstyle",u));if("fill-opacity"==n||"opacity"==n)0===r?i?t.on=!1:t.setAttribute("on",!1):i?t.opacity=r:t.setAttribute("opacity",r);"fill"==n&&(i?t.color=r:t.setAttribute("color",r)),"rx"==n&&(i?s.arcSize=r+"%":s.setAttribute("arcsize",r+"%"))}}},attr:function(e,t){for(var n in t)t.hasOwnProperty(n)&&this.setAttr(e,n,t[n])},text:function(t,n,r){var i=new e.AmDObject("text",this.D),s=i.node;return s.style.whiteSpace="pre",s.innerHTML=t,this.D.addToContainer(s,r),this.attr(i,n),i},getBBox:function(e){return this.getBox(e.node)},getBox:function(e){var t=e.offsetLeft,n=e.offsetTop,r=e.offsetWidth,i=e.offsetHeight,s;if(e.hasChildNodes()){var o,u,a;for(a=0;a<e.childNodes.length;a++){s=this.getBox(e.childNodes[a]);var f=s.x;isNaN(f)||(isNaN(o)?o=f:f<o&&(o=f));var l=s.y;isNaN(l)||(isNaN(u)?u=l:l<u&&(u=l)),f=s.width+f,isNaN(f)||(r=Math.max(r,f)),s=s.height+l,isNaN(s)||(i=Math.max(i,s))}0>o&&(t+=o),0>u&&(n+=u)}return{x:t,y:n,width:r,height:i}},setText:function(e,t){var n=e.node;n&&(n.innerHTML=t),this.setAttr(e,"text-anchor",e.anchor)},addListener:function(e,t,n){e.node["on"+t]=n},move:function(t,n,r){var i=t.node,s=i.style;"text"==t.type&&(r-=e.removePx(s.fontSize)/2-1),"oval"==t.shapeType&&(n-=e.removePx(s.width)/2,r-=e.removePx(s.height)/2),t=t.bw,isNaN(t)||(n-=t,r-=t),isNaN(n)||isNaN(r)||(i.style.left=n+"px",i.style.top=r+"px")},svgPathToVml:function(e){var t=e.split(" ");e="";var n,r=Math.round,i;for(i=0;i<t.length;i++){var s=t[i],o=s.substring(0,1),s=s.substring(1),u=s.split(","),a=r(u[0])+","+r(u[1]);"M"==o&&(e+=" m "+a),"L"==o&&(e+=" l "+a),"Z"==o&&(e+=" x e");if("Q"==o){var f=n.length,l=n[f-1],c=u[0],h=u[1],a=u[2],p=u[3];n=r(n[f-2]/3+2/3*c),l=r(l/3+2/3*h),c=r(2/3*c+a/3),h=r(2/3*h+p/3),e+=" c "+n+","+l+","+c+","+h+","+a+","+p}"A"==o&&(e+=" wa "+s),"B"==o&&(e+=" at "+s),n=u}return e},animate:function(e,t,n,r,i){var s=e.node,o=this.chart;if("translate"==t){t=n.split(","),n=t[1];var u=s.offsetTop;o.animate(e,"left",s.offsetLeft,t[0],r,i,"px"),o.animate(e,"top",u,n,r,i,"px")}},clipRect:function(e,t,n,r,i){e=e.node,0===t&&0===n?(e.style.width=r+"px",e.style.height=i+"px",e.style.overflow="hidden"):e.style.clip="rect("+n+"px "+(t+r)+"px "+(n+i)+"px "+t+"px)"},rotate:function(t,n,r){if(0!==Number(n)){var i=t.node;t=i.style,r||(r=this.getBGColor(i.parentNode)),t.backgroundColor=r,t.paddingLeft=1,r=n*Math.PI/180;var s=Math.cos(r),o=Math.sin(r),u=e.removePx(t.left),a=e.removePx(t.top),f=i.offsetWidth,i=i.offsetHeight;n/=Math.abs(n),t.left=u+f/2-f/2*Math.cos(r)-n*i/2*Math.sin(r)+3,t.top=a-n*f/2*Math.sin(r)+n*i/2*Math.sin(r),t.cssText=t.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+s+"', M12='"+ -o+"', M21='"+o+"', M22='"+s+"', sizingmethod='auto expand');"}},getBGColor:function(e){var t="#FFFFFF";if(e.style){var n=e.style.backgroundColor;""!==n?t=n:e.parentNode&&(t=this.getBGColor(e.parentNode))}return t},set:function(t){var n=new e.AmDObject("group",this.D);this.D.container.appendChild(n.node);if(t){var r;for(r=0;r<t.length;r++)n.push(t[r])}return n},gradient:function(e,t,n,r){var i="";"radialGradient"==t&&(t="gradientradial",n.reverse()),"linearGradient"==t&&(t="gradient");var s;for(s=0;s<n.length;s++){var o=Math.round(100*s/(n.length-1)),i=i+(o+"% "+n[s]);s<n.length-1&&(i+=",")}e=e.fill,90==r?r=0:270==r?r=180:180==r?r=90:0===r&&(r=270),8===document.documentMode?(e.type=t,e.angle=r):(e.setAttribute("type",t),e.setAttribute("angle",r)),i&&(e.colors.value=i)},remove:function(e){e.clipPath&&this.D.remove(e.clipPath),this.D.remove(e.node)},disableSelection:function(e){void 0!==typeof e.onselectstart&&(e.onselectstart=function(){return!1}),e.style.cursor="default"},pattern:function(t,n,r,i){r=t.node,t=t.fill;var s="none";n.color&&(s=n.color),r.fillColor=s,n=n.url,e.isAbsolute(n)||(n=i+n),8===document.documentMode?(t.type="tile",t.src=n):(t.setAttribute("type","tile"),t.setAttribute("src",n))},update:function(){}})}(),function(){var e=window.AmCharts;e.SVGRenderer=e.Class({construct:function(e){this.D=e,this.animations=[]},create:function(t,n){return document.createElementNS(e.SVG_NS,n)},attr:function(e,t){for(var n in t)t.hasOwnProperty(n)&&this.setAttr(e,n,t[n])},setAttr:function(e,t,n){void 0!==n&&e.node.setAttribute(t,n)},animate:function(t,n,r,i,s){var o=t.node;t["an_"+n]&&e.removeFromArray(this.animations,t["an_"+n]),"translate"==n?(o=(o=o.getAttribute("transform"))?String(o).substring(10,o.length-1):"0,0",o=o.split(", ").join(" "),o=o.split(" ").join(","),0===o&&(o="0,0")):o=Number(o.getAttribute(n)),r={obj:t,frame:0,attribute:n,from:o,to:r,time:i,effect:s},this.animations.push(r),t["an_"+n]=r},update:function(){var t,n=this.animations;for(t=n.length-1;0<=t;t--){var r=n[t],i=1e3*r.time/e.updateRate,s=r.frame+1,o=r.obj,u=r.attribute,a,f,l;s<=i?(r.frame++,"translate"==u?(a=r.from.split(","),u=Number(a[0]),a=Number(a[1]),isNaN(a)&&(a=0),f=r.to.split(","),l=Number(f[0]),f=Number(f[1]),l=0===l-u?l:Math.round(e[r.effect](0,s,u,l-u,i)),r=0===f-a?f:Math.round(e[r.effect](0,s,a,f-a,i)),u="transform",r="translate("+l+","+r+")"):(f=Number(r.from),a=Number(r.to),l=a-f,r=e[r.effect](0,s,f,l,i),isNaN(r)&&(r=a),0===l&&this.animations.splice(t,1)),this.setAttr(o,u,r)):("translate"==u?(f=r.to.split(","),l=Number(f[0]),f=Number(f[1]),o.translate(l,f)):(a=Number(r.to),this.setAttr(o,u,a)),this.animations.splice(t,1))}},getBBox:function(e){if(e=e.node)try{return e.getBBox()}catch(t){}return{width:0,height:0,x:0,y:0}},path:function(t,n){t.node.setAttributeNS(e.SVG_XLINK,"xlink:href",n)},clipRect:function(t,n,r,i,s){var o=t.node,u=t.clipPath;u&&this.D.remove(u);var a=o.parentNode;a&&(o=document.createElementNS(e.SVG_NS,"clipPath"),u=e.getUniqueId(),o.setAttribute("id",u),this.D.rect(n,r,i,s,0,0,o),a.appendChild(o),n="#",e.baseHref&&!e.isIE&&(n=this.removeTarget(window.location.href)+n),this.setAttr(t,"clip-path","url("+n+u+")"),this.clipPathC++,t.clipPath=o)},text:function(t,n,r){var i=new e.AmDObject("text",this.D);t=String(t).split("\n");var s=n["font-size"],o;for(o=0;o<t.length;o++){var u=this.create(null,"tspan");u.appendChild(document.createTextNode(t[o])),u.setAttribute("y",(s+2)*o+Math.round(s/2)),u.setAttribute("x",0),u.style.fontSize=s+"px",i.node.appendChild(u)}return i.node.setAttribute("y",Math.round(s/2)),this.attr(i,n),this.D.addToContainer(i.node,r),i},setText:function(e,t){var n=e.node;n&&(n.removeChild(n.firstChild),n.appendChild(document.createTextNode(t)))},move:function(e,t,n,r){isNaN(t)&&(t=0),isNaN(n)&&(n=0),t="translate("+t+","+n+")",r&&(t=t+" scale("+r+")"),this.setAttr(e,"transform",t)},rotate:function(e,t){var n=e.node.getAttribute("transform"),r="rotate("+t+")";n&&(r=n+" "+r),this.setAttr(e,"transform",r)},set:function(t){var n=new e.AmDObject("g",this.D);this.D.container.appendChild(n.node);if(t){var r;for(r=0;r<t.length;r++)n.push(t[r])}return n},addListener:function(e,t,n){e.node["on"+t]=n},gradient:function(t,n,r,i){var s=t.node,o=t.grad;o&&this.D.remove(o),n=document.createElementNS(e.SVG_NS,n),o=e.getUniqueId(),n.setAttribute("id",o);if(!isNaN(i)){var u=0,a=0,f=0,l=0;90==i?f=100:270==i?l=100:180==i?u=100:0===i&&(a=100),n.setAttribute("x1",u+"%"),n.setAttribute("x2",a+"%"),n.setAttribute("y1",f+"%"),n.setAttribute("y2",l+"%")}for(i=0;i<r.length;i++)u=document.createElementNS(e.SVG_NS,"stop"),a=100*i/(r.length-1),0===i&&(a=0),u.setAttribute("offset",a+"%"),u.setAttribute("stop-color",r[i]),n.appendChild(u);s.parentNode.appendChild(n),r="#",e.baseHref&&!e.isIE&&(r=this.removeTarget(window.location.href)+r),s.setAttribute("fill","url("+r+o+")"),t.grad=n},removeTarget:function(e){return e.split("#")[0]},pattern:function(t,n,r,i){var s=t.node;isNaN(r)&&(r=1);var o=t.patternNode;o&&this.D.remove(o);var o=document.createElementNS(e.SVG_NS,"pattern"),u=e.getUniqueId(),a=n;n.url&&(a=n.url),e.isAbsolute(a)||(a=i+a),i=Number(n.width),isNaN(i)&&(i=4);var f=Number(n.height);isNaN(f)&&(f=4),i/=r,f/=r,r=n.x,isNaN(r)&&(r=0);var l=-Math.random()*Number(n.randomX);isNaN(l)||(r=l),l=n.y,isNaN(l)&&(l=0);var c=-Math.random()*Number(n.randomY);isNaN(c)||(l=c),o.setAttribute("id",u),o.setAttribute("width",i),o.setAttribute("height",f),o.setAttribute("patternUnits","userSpaceOnUse"),o.setAttribute("xlink:href",a),n.color&&(c=document.createElementNS(e.SVG_NS,"rect"),c.setAttributeNS(null,"height",i),c.setAttributeNS(null,"width",f),c.setAttributeNS(null,"fill",n.color),o.appendChild(c)),this.D.image(a,0,0,i,f,o).translate(r,l),a="#",e.baseHref&&!e.isIE&&(a=this.removeTarget(window.location.href)+a),s.setAttribute("fill","url("+a+u+")"),t.patternNode=o,s.parentNode.appendChild(o)},remove:function(e){e.clipPath&&this.D.remove(e.clipPath),e.grad&&this.D.remove(e.grad),e.patternNode&&this.D.remove(e.patternNode),this.D.remove(e.node)}})}(),AmCharts.AmDSet=AmCharts.Class({construct:function(e){this.create("g")},attr:function(e){this.R.attr(this.node,e)},move:function(e,t){this.R.move(this.node,e,t)}}),function(){var e=window.AmCharts;e.AmLegend=e.Class({construct:function(t){this.enabled=!0,this.cname="AmLegend",this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","rollOverItem","rollOutItem","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderThickness=this.markerBorderAlpha=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.useMarkerColorForLabels=!1,this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.useGraphSettings=!1,this.showEntries=!0,e.applyTheme(this,t,this.cname)},setData:function(e){this.legendData=e,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[];var t=this.legendData;this.enabled&&(e.ifArray(t)||e.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var t=this.chart,n=this.position,r=this.width,i=t.divRealWidth,s=t.divRealHeight,o=this.div,u=this.legendData;this.data&&(u=this.data),isNaN(this.fontSize)&&(this.fontSize=t.fontSize);if("right"==n||"left"==n)this.maxColumns=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=t.marginRight,this.marginLeft=t.marginLeft;var a=t.autoMarginOffset;"bottom"==n?(this.marginBottom=a,this.marginTop=0):(this.marginTop=a,this.marginBottom=0)}r=void 0!==r?e.toCoordinate(r,i):t.realWidth,"outside"==n?(r=o.offsetWidth,s=o.offsetHeight,o.clientHeight&&(r=o.clientWidth,s=o.clientHeight)):(isNaN(r)||(o.style.width=r+"px"),o.className="amChartsLegend "+t.classNamePrefix+"-legend-div"),this.divWidth=r,(n=this.container)?(n.container.innerHTML="",o.appendChild(n.container),n.width=r,n.height=s,n.setSize(r,s),n.addDefs(t)):n=new e.AmDraw(o,r,s,t),this.container=n,this.lx=0,this.ly=8,s=this.markerSize,s>this.fontSize&&(this.ly=s/2-1),0<s&&(this.lx+=s+this.markerLabelGap),this.titleWidth=0;if(s=this.title)s=e.text(this.container,s,this.color,t.fontFamily,this.fontSize,"start",!0),e.setCN(t,s,"legend-title"),s.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),t=s.getBBox(),this.titleWidth=t.width+15,this.titleHeight=t.height+6;this.index=this.maxLabelWidth=0;if(this.showEntries){for(t=0;t<u.length;t++)this.createEntry(u[t]);for(t=this.index=0;t<u.length;t++)this.createValue(u[t])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var t=this.position,n=this.marginLeft+this.titleWidth,r=this.marginRight,i=this.marginTop,s=this.marginBottom,o=this.horizontalGap,u=this.div,a=this.divWidth,f=this.maxColumns,l=this.verticalGap,c=this.spacing,h=a-r-n,p=0,v=0,m=this.container;this.set&&this.set.remove();var g=m.set();this.set=g;var y=m.set();g.push(y);var b=this.entries,w,E;for(E=0;E<b.length;E++){w=b[E].getBBox();var S=w.width;S>p&&(p=S),w=w.height,w>v&&(v=w)}var S=v=0,x=o,T=0,N=0;for(E=0;E<b.length;E++){var C=b[E];this.reversedOrder&&(C=b[b.length-E-1]),w=C.getBBox();var k;this.equalWidths?k=S*(p+c+this.markerLabelGap):(k=x,x=x+w.width+o+c),w.height>N&&(N=w.height),k+w.width>h&&0<E&&0!==S&&(v++,k=S=0,x=k+w.width+o+c,T=T+N+l,N=0),C.translate(k,T),S++,!isNaN(f)&&S>=f&&(S=0,v++,T=T+N+l,x=o,N=0),y.push(C)}w=y.getBBox(),f=w.height+2*l-1,"left"==t||"right"==t?(c=w.width+2*o,a=c+n+r,u.style.width=a+"px",this.ieW=a):c=a-n-r-1,r=e.polygon(this.container,[0,c,c,0],[0,0,f,f],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),e.setCN(this.chart,r,"legend-bg"),g.push(r),g.translate(n,i),r.toBack(),n=o;if("top"==t||"bottom"==t||"absolute"==t||"outside"==t)"center"==this.align?n=o+(c-w.width)/2:"right"==this.align&&(n=o+c-w.width);y.translate(n,l+1),this.titleHeight>f&&(f=this.titleHeight),t=f+i+s+1,0>t&&(t=0),t>this.chart.divRealHeight&&(u.style.top="0px"),u.style.height=Math.round(t)+"px",m.setSize(this.divWidth,t)},createEntry:function(t){if(!1!==t.visibleInLegend){var n=this.chart,r=t.markerType;t.legendEntryWidth=this.markerSize,r||(r=this.markerType);var i=t.color,s=t.alpha;t.legendKeyColor&&(i=t.legendKeyColor()),t.legendKeyAlpha&&(s=t.legendKeyAlpha());var o;!0===t.hidden&&(o=i=this.markerDisabledColor);var u=t.pattern,a=t.customMarker;a||(a=this.customMarker);var f=this.container,l=this.markerSize,c=0,h=0,p=l/2;if(this.useGraphSettings){r=t.type,this.switchType=void 0;if("line"==r||"step"==r||"smoothedLine"==r||"ohlc"==r)u=f.set(),t.hidden||(i=t.lineColorR,o=t.bulletBorderColorR),c=e.line(f,[0,2*l],[l/2,l/2],i,t.lineAlpha,t.lineThickness,t.dashLength),e.setCN(n,c,"graph-stroke"),u.push(c),t.bullet&&(t.hidden||(i=t.bulletColorR),c=e.bullet(f,t.bullet,t.bulletSize,i,t.bulletAlpha,t.bulletBorderThickness,o,t.bulletBorderAlpha))&&(e.setCN(n,c,"graph-bullet"),c.translate(l+1,l/2),u.push(c)),p=0,c=l,h=l/3;else{var v;t.getGradRotation&&(v=t.getGradRotation()),c=t.fillColorsR,!0===t.hidden&&(c=i);if(u=this.createMarker("rectangle",c,t.fillAlphas,t.lineThickness,i,t.lineAlpha,v,u))p=l,u.translate(p,l/2);c=l}e.setCN(n,u,"graph-"+r),e.setCN(n,u,"graph-"+t.id)}else a?u=f.image(a,0,0,l,l):(u=this.createMarker(r,i,s,void 0,void 0,void 0,void 0,u))&&u.translate(l/2,l/2);e.setCN(n,u,"legend-marker"),this.addListeners(u,t),f=f.set([u]),this.switchable&&t.switchable&&f.setAttr("cursor","pointer"),void 0!==t.id&&e.setCN(n,f,"legend-item-"+t.id),e.setCN(n,f,t.className,!0),(o=this.switchType)&&"none"!=o&&0<l&&("x"==o?(r=this.createX(),r.translate(l/2,l/2)):r=this.createV(),r.dItem=t,!0!==t.hidden?"x"==o?r.hide():r.show():"x"!=o&&r.hide(),this.switchable||r.hide(),this.addListeners(r,t),t.legendSwitch=r,f.push(r),e.setCN(n,r,"legend-switch")),o=this.color,t.showBalloon&&this.textClickEnabled&&void 0!==this.selectedColor&&(o=this.selectedColor),this.useMarkerColorForLabels&&(o=i),!0===t.hidden&&(o=this.markerDisabledColor),i=e.massReplace(this.labelText,{"[[title]]":t.title}),r=this.fontSize,u&&(l<=r&&u.translate(p,l/2+this.ly-r/2+(r+2-l)/2-h),t.legendEntryWidth=u.getBBox().width);var m;i&&(i=e.fixBrakes(i),t.legendTextReal=i,m=this.labelWidth,m=isNaN(m)?e.text(this.container,i,o,n.fontFamily,r,"start"):e.wrappedText(this.container,i,o,n.fontFamily,r,"start",!1,m,0),e.setCN(n,m,"legend-label"),m.translate(this.lx+c,this.ly),f.push(m),n=m.getBBox().width,this.maxLabelWidth<n&&(this.maxLabelWidth=n)),this.entries[this.index]=f,t.legendEntry=this.entries[this.index],t.legendLabel=m,this.index++}},addListeners:function(e,t){var n=this;e&&e.mouseover(function(e){n.rollOverMarker(t,e)}).mouseout(function(e){n.rollOutMarker(t,e)}).click(function(e){n.clickMarker(t,e)})},rollOverMarker:function(e,t){this.switchable&&this.dispatch("rollOverMarker",e,t),this.dispatch("rollOverItem",e,t)},rollOutMarker:function(e,t){this.switchable&&this.dispatch("rollOutMarker",e,t),this.dispatch("rollOutItem",e,t)},clickMarker:function(e,t){this.switchable&&(!0===e.hidden?this.dispatch("showItem",e,t):this.dispatch("hideItem",e,t)),this.dispatch("clickMarker",e,t)},rollOverLabel:function(e,t){e.hidden||(this.textClickEnabled&&e.legendLabel&&e.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",e,t))},rollOutLabel:function(e,t){if(!e.hidden){if(this.textClickEnabled&&e.legendLabel){var n=this.color;void 0!==this.selectedColor&&e.showBalloon&&(n=this.selectedColor),this.useMarkerColorForLabels&&(n=e.lineColor,void 0===n&&(n=e.color)),e.legendLabel.attr({fill:n})}this.dispatch("rollOutItem",e,t)}},clickLabel:function(e,t){this.textClickEnabled?e.hidden||this.dispatch("clickLabel",e,t):this.switchable&&(!0===e.hidden?this.dispatch("showItem",e,t):this.dispatch("hideItem",e,t))},dispatch:function(e,t,n){t={type:e,dataItem:t,target:this,event:n,chart:this.chart},this.chart&&this.chart.handleLegendEvent(t),this.fire(e,t)},createValue:function(t){var n=this,r=n.fontSize,i=n.chart;if(!1!==t.visibleInLegend){var s=n.maxLabelWidth;n.forceWidth&&(s=n.labelWidth),n.equalWidths||(n.valueAlign="left"),"left"==n.valueAlign&&(s=t.legendEntry.getBBox().width);var o=s;if(n.valueText&&0<n.valueWidth){var u=n.color;n.useMarkerColorForValues&&(u=t.color,t.legendKeyColor&&(u=t.legendKeyColor())),!0===t.hidden&&(u=n.markerDisabledColor);var a=n.valueText,s=s+n.lx+n.markerLabelGap+n.valueWidth,f="end";"left"==n.valueAlign&&(s-=n.valueWidth,f="start"),u=e.text(n.container,a,u,n.chart.fontFamily,r,f),e.setCN(i,u,"legend-value"),u.translate(s,n.ly),n.entries[n.index].push(u),o+=n.valueWidth+2*n.markerLabelGap,u.dItem=t,n.valueLabels.push(u)}n.index++,i=n.markerSize,i<r+7&&(i=r+7,e.VML&&(i+=3)),r=n.container.rect(t.legendEntryWidth,0,o,i,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005}),r.dItem=t,n.entries[n.index-1].push(r),r.mouseover(function(e){n.rollOverLabel(t,e)}).mouseout(function(e){n.rollOutLabel(t,e)}).click(function(e){n.clickLabel(t,e)})}},createV:function(){var t=this.markerSize;return e.polygon(this.container,[t/5,t/2,t-t/5,t/2],[t/3,t-t/5,t/5,t/1.7],this.switchColor)},createX:function(){var t=(this.markerSize-4)/2,n={stroke:this.switchColor,"stroke-width":3},r=this.container,i=e.line(r,[-t,t],[-t,t]).attr(n),t=e.line(r,[-t,t],[t,-t]).attr(n);return this.container.set([i,t])},createMarker:function(t,n,r,i,s,o,u,a){var f=this.markerSize,l=this.container;return s||(s=this.markerBorderColor),s||(s=n),isNaN(i)&&(i=this.markerBorderThickness),isNaN(o)&&(o=this.markerBorderAlpha),e.bullet(l,t,f,n,r,i,s,o,f,u,a,this.chart.path)},validateNow:function(){this.invalidateSize()},updateValues:function(){var t=this.valueLabels,n=this.chart,r,i=this.data;for(r=0;r<t.length;r++){var s=t[r],o=s.dItem,u=" ";if(i)o.value?s.text(o.value):s.text("");else{var a;if(void 0!==o.type){a=o.currentDataItem;var f=this.periodValueText;o.legendPeriodValueText&&(f=o.legendPeriodValueText),a?(u=this.valueText,o.legendValueText&&(u=o.legendValueText),u=n.formatString(u,a)):f&&n.formatPeriodString&&(f=e.massReplace(f,{"[[title]]":o.title}),u=n.formatPeriodString(f,o))}else u=n.formatString(this.valueText,o);if(f=this.valueFunction)a&&(o=a),u=f(o,u);s.text(u)}}},renderFix:function(){if(!e.VML){var t=this.container;t&&t.renderFix()}},destroy:function(){this.div.innerHTML="",e.remove(this.set)}})}(),function(){var e=window.AmCharts;e.formatMilliseconds=function(e,t){if(-1!=e.indexOf("fff")){var n=t.getMilliseconds(),r=String(n);10>n&&(r="00"+n),10<=n&&100>n&&(r="0"+n),e=e.replace(/fff/g,r)}return e},e.extractPeriod=function(t){var n=e.stripNumbers(t),r=1;return n!=t&&(r=Number(t.slice(0,t.indexOf(n)))),{period:n,count:r}},e.getDate=function(t,n,r){return t instanceof Date?e.newDate(t,r):n&&isNaN(t)?e.stringToDate(t,n):new Date(t)},e.newDate=function(t,n){return n&&-1==n.indexOf("fff")?new Date(t):e.useUTC?new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()):new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())},e.resetDateToMin=function(t,n,r,i){void 0===i&&(i=1);var s,o,u,a,f,l,c;e.useUTC?(s=t.getUTCFullYear(),o=t.getUTCMonth(),u=t.getUTCDate(),a=t.getUTCHours(),f=t.getUTCMinutes(),l=t.getUTCSeconds(),c=t.getUTCMilliseconds(),t=t.getUTCDay()):(s=t.getFullYear(),o=t.getMonth(),u=t.getDate(),a=t.getHours(),f=t.getMinutes(),l=t.getSeconds(),c=t.getMilliseconds(),t=t.getDay());switch(n){case"YYYY":s=Math.floor(s/r)*r,o=0,u=1,c=l=f=a=0;break;case"MM":o=Math.floor(o/r)*r,u=1,c=l=f=a=0;break;case"WW":u=t>=i?u-t+i:u-(7+t)+i,c=l=f=a=0;break;case"DD":c=l=f=a=0;break;case"hh":a=Math.floor(a/r)*r,c=l=f=0;break;case"mm":f=Math.floor(f/r)*r,c=l=0;break;case"ss":l=Math.floor(l/r)*r,c=0;break;case"fff":c=Math.floor(c/r)*r}return e.useUTC?(t=new Date,t.setUTCFullYear(s,o,u),t.setUTCHours(a,f,l,c)):t=new Date(s,o,u,a,f,l,c),t},e.getPeriodDuration=function(e,t){void 0===t&&(t=1);var n;switch(e){case"YYYY":n=316224e5;break;case"MM":n=26784e5;break;case"WW":n=6048e5;break;case"DD":n=864e5;break;case"hh":n=36e5;break;case"mm":n=6e4;break;case"ss":n=1e3;break;case"fff":n=1}return n*t},e.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:Infinity,count:3}},e.getMaxInterval=function(t,n){var r=e.intervals;return t>=r[n].contains?(t=Math.round(t/r[n].contains),n=r[n].nextInterval,e.getMaxInterval(t,n)):"ss"==n?r[n].nextInterval:n},e.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),e.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" "),e.monthNames="January February March April May June July August September October November December".split(" "),e.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),e.getWeekNumber=function(e){e=new Date(e),e.setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)},e.stringToDate=function(t,n){var r={},i=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],s=!0,o=n.indexOf("AA");-1!=o&&(t.substr(o,2),"pm"==t.toLowerCase&&(s=!1));var o=n,u,a,f;for(f=0;f<i.length;f++)a=i[f].period,r[a]=0,"date"==a&&(r[a]=1);for(f=0;f<i.length;f++)if(u=i[f].pattern,a=i[f].period,-1!=n.indexOf(u)){var l=e.getFromDateString(u,t,o);n=n.replace(u,"");if("KK"==u||"K"==u||"LL"==u||"L"==u)s||(l+=12);r[a]=l}return e.useUTC?(i=new Date,i.setUTCFullYear(r.year,r.month,r.date),i.setUTCHours(r.hours,r.minutes,r.seconds,r.milliseconds)):i=new Date(r.year,r.month,r.date,r.hours,r.minutes,r.seconds,r.milliseconds),i},e.getFromDateString=function(e,t,n){if(void 0!==t)return n=n.indexOf(e),t=String(t),t=t.substr(n,e.length),"0"==t.charAt(0)&&(t=t.substr(1,t.length-1)),t=Number(t),isNaN(t)&&(t=0),-1!=e.indexOf("M")&&t--,t},e.formatDate=function(t,n,r){r||(r=e);var i,s,o,u,a,f,l,c=e.getWeekNumber(t);e.useUTC?(i=t.getUTCFullYear(),s=t.getUTCMonth(),o=t.getUTCDate(),u=t.getUTCDay(),a=t.getUTCHours(),f=t.getUTCMinutes(),l=t.getUTCSeconds(),t=t.getUTCMilliseconds()):(i=t.getFullYear(),s=t.getMonth(),o=t.getDate(),u=t.getDay(),a=t.getHours(),f=t.getMinutes(),l=t.getSeconds(),t=t.getMilliseconds());var h=String(i).substr(2,2),p=s+1;9>s&&(p="0"+p);var v="0"+u;n=n.replace(/W/g,c),c=a,24==c&&(c=0);var m=c;10>m&&(m="0"+m),n=n.replace(/JJ/g,m),n=n.replace(/J/g,c),m=a,0===m&&(m=24,-1!=n.indexOf("H")&&o--),c=o,10>o&&(c="0"+o);var g=m;return 10>g&&(g="0"+g),n=n.replace(/HH/g,g),n=n.replace(/H/g,m),m=a,11<m&&(m-=12),g=m,10>g&&(g="0"+g),n=n.replace(/KK/g,g),n=n.replace(/K/g,m),m=a,0===m&&(m=12),12<m&&(m-=12),g=m,10>g&&(g="0"+g),n=n.replace(/LL/g,g),n=n.replace(/L/g,m),m=f,10>m&&(m="0"+m),n=n.replace(/NN/g,m),n=n.replace(/N/g,f),f=l,10>f&&(f="0"+f),n=n.replace(/SS/g,f),n=n.replace(/S/g,l),l=t,10>l&&(l="00"+l),100>l&&(l="0"+l),f=t,10>f&&(f="00"+f),n=n.replace(/QQQ/g,l),n=n.replace(/QQ/g,f),n=n.replace(/Q/g,t),n=12>a?n.replace(/A/g,"am"):n.replace(/A/g,"pm"),n=n.replace(/YYYY/g,"@IIII@"),n=n.replace(/YY/g,"@II@"),n=n.replace(/MMMM/g,"@XXXX@"),n=n.replace(/MMM/g,"@XXX@"),n=n.replace(/MM/g,"@XX@"),n=n.replace(/M/g,"@X@"),n=n.replace(/DD/g,"@RR@"),n=n.replace(/D/g,"@R@"),n=n.replace(/EEEE/g,"@PPPP@"),n=n.replace(/EEE/g,"@PPP@"),n=n.replace(/EE/g,"@PP@"),n=n.replace(/E/g,"@P@"),n=n.replace(/@IIII@/g,i),n=n.replace(/@II@/g,h),n=n.replace(/@XXXX@/g,r.monthNames[s]),n=n.replace(/@XXX@/g,r.shortMonthNames[s]),n=n.replace(/@XX@/g,p),n=n.replace(/@X@/g,s+1),n=n.replace(/@RR@/g,c),n=n.replace(/@R@/g,o),n=n.replace(/@PPPP@/g,r.dayNames[u]),n=n.replace(/@PPP@/g,r.shortDayNames[u]),n=n.replace(/@PP@/g,v),n=n.replace(/@P@/g,u)},e.changeDate=function(t,n,r,i,s){if(e.useUTC)return e.changeUTCDate(t,n,r,i,s);var o=-1;void 0===i&&(i=!0),void 0===s&&(s=!1),!0===i&&(o=1);switch(n){case"YYYY":t.setFullYear(t.getFullYear()+r*o),i||s||t.setDate(t.getDate()+1);break;case"MM":n=t.getMonth(),t.setMonth(t.getMonth()+r*o),t.getMonth()>n+r*o&&t.setDate(t.getDate()-1),i||s||t.setDate(t.getDate()+1);break;case"DD":t.setDate(t.getDate()+r*o);break;case"WW":t.setDate(t.getDate()+r*o*7);break;case"hh":t.setHours(t.getHours()+r*o);break;case"mm":t.setMinutes(t.getMinutes()+r*o);break;case"ss":t.setSeconds(t.getSeconds()+r*o);break;case"fff":t.setMilliseconds(t.getMilliseconds()+r*o)}return t},e.changeUTCDate=function(e,t,n,r,i){var s=-1;void 0===r&&(r=!0),void 0===i&&(i=!1),!0===r&&(s=1);switch(t){case"YYYY":e.setUTCFullYear(e.getUTCFullYear()+n*s),r||i||e.setUTCDate(e.getUTCDate()+1);break;case"MM":t=e.getUTCMonth(),e.setUTCMonth(e.getUTCMonth()+n*s),e.getUTCMonth()>t+n*s&&e.setUTCDate(e.getUTCDate()-1),r||i||e.setUTCDate(e.getUTCDate()+1);break;case"DD":e.setUTCDate(e.getUTCDate()+n*s);break;case"WW":e.setUTCDate(e.getUTCDate()+n*s*7);break;case"hh":e.setUTCHours(e.getUTCHours()+n*s);break;case"mm":e.setUTCMinutes(e.getUTCMinutes()+n*s);break;case"ss":e.setUTCSeconds(e.getUTCSeconds()+n*s);break;case"fff":e.setUTCMilliseconds(e.getUTCMilliseconds()+n*s)}return e}}(),define("amcharts",function(){}),function(){var e=window.AmCharts;e.AmSerialChart=e.Class({inherits:e.AmRectangularChart,construct:function(t){this.type="serial",e.AmSerialChart.base.construct.call(this,t),this.cname="AmSerialChart",this.theme=t,this.createEvents("changed"),this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8,this.updateScrollbar=!0;var n=new e.CategoryAxis(t);n.chart=this,this.categoryAxis=n,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,e.applyTheme(this,t,this.cname)},initChart:function(){e.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0);var t=this.chartCursor;t&&t.updateData&&(t.updateData(),t.fullWidth&&(t.fullRectSet=this.cursorLineSet));var t=this.countColumns(),n=this.graphs,r;for(r=0;r<n.length;r++)n[r].columnCount=t;this.updateScrollbar=!0,this.drawChart(),this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins())},handleWheelReal:function(e,t){if(!this.wheelBusy){var n=this.categoryAxis,r=n.parseDates,i=n.minDuration(),s=n=1;this.mouseWheelZoomEnabled?t||(n=-1):t&&(n=-1);var o=this.chartData.length,u=this.lastTime,a=this.firstTime;0>e?r?(o=this.endTime-this.startTime,r=this.startTime+n*i,i=this.endTime+s*i,0<s&&0<n&&i>=u&&(i=u,r=u-o),this.zoomToDates(new Date(r),new Date(i))):(0<s&&0<n&&this.end>=o-1&&(n=s=0),r=this.start+n,i=this.end+s,this.zoomToIndexes(r,i)):r?(o=this.endTime-this.startTime,r=this.startTime-n*i,i=this.endTime-s*i,0<s&&0<n&&r<=a&&(r=a,i=a+o),this.zoomToDates(new Date(r),new Date(i))):(0<s&&0<n&&1>this.start&&(n=s=0),r=this.start-n,i=this.end-s,this.zoomToIndexes(r,i))}},validateData:function(t){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!t&&(this.endTime=this.end=this.startTime=this.start=NaN),e.AmSerialChart.base.validateData.call(this)},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){e.AmSerialChart.base.drawChart.call(this);var t=this.chartData;if(e.ifArray(t)){var n=this.chartScrollbar;n&&n.draw();var t=t.length-1,r,n=this.categoryAxis;if(n.parseDates&&!n.equalSpacing){if(n=this.startTime,r=this.endTime,isNaN(n)||isNaN(r))n=this.firstTime,r=this.lastTime}else if(n=this.start,r=this.end,isNaN(n)||isNaN(r))n=0,r=t;this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(n,r)}}else this.cleanChart();this.dispDUpd()},cleanChart:function(){e.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor])},updateCategoryAxis:function(t,n,r){t.chart=this,t.id=r,t.rotate=n,t.axisRenderer=e.RecAxis,t.guideFillRenderer=e.RecFill,t.axisItemRenderer=e.RecItem,t.setOrientation(!this.rotate),t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy,t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.viW=this.plotAreaWidth-1,t.viH=this.plotAreaHeight-1,t.viX=this.marginLeftReal,t.viY=this.marginTopReal,t.marginsChanged=!0},updateValueAxes:function(){e.AmSerialChart.base.updateValueAxes.call(this);var t=this.valueAxes,n;for(n=0;n<t.length;n++){var r=t[n],i=this.rotate;r.rotate=i,r.setOrientation(i),i=this.categoryAxis;if(!i.startOnAxis||i.parseDates)r.expandMinMax=!0}},updateData:function(){this.parseData();var e=this.graphs,t,n=this.chartData;for(t=0;t<e.length;t++)e[t].data=n;0<n.length&&(this.firstTime=this.getStartTime(n[0].time),this.lastTime=this.getEndTime(n[n.length-1].time))},getStartTime:function(t){var n=this.categoryAxis;return e.resetDateToMin(new Date(t),n.minPeriod,1,n.firstDayOfWeek).getTime()},getEndTime:function(t){var n=e.extractPeriod(this.categoryAxis.minPeriod);return e.changeDate(new Date(t),n.period,n.count,!0).getTime()-1},updateMargins:function(){e.AmSerialChart.base.updateMargins.call(this);var t=this.chartScrollbar;t&&(this.getScrollbarPosition(t,this.rotate,this.categoryAxis.position),this.adjustMargins(t,this.rotate))},updateScrollbars:function(){e.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate)},zoom:function(e,t){var n=this.categoryAxis;n.parseDates&&!n.equalSpacing?this.timeZoom(e,t):this.indexZoom(e,t),this.updateLegendValues()},timeZoom:function(t,n){var r=this.maxSelectedTime;isNaN(r)||(n!=this.endTime&&n-t>r&&(t=n-r,this.updateScrollbar=!0),t!=this.startTime&&n-t>r&&(n=t+r,this.updateScrollbar=!0));var i=this.minSelectedTime;if(0<i&&n-t<i){var s=Math.round(t+(n-t)/2),i=Math.round(i/2);t=s-i,n=s+i}var o=this.chartData,s=this.categoryAxis;if(e.ifArray(o)&&(t!=this.startTime||n!=this.endTime)){var u=s.minDuration(),i=this.firstTime,a=this.lastTime;t||(t=i,isNaN(r)||(t=a-r)),n||(n=a),t>a&&(t=a),n<i&&(n=i),t<i&&(t=i),n>a&&(n=a),n<t&&(n=t+u),n-t<u/5&&(n<a?n=t+u/5:t=n-u/5),this.startTime=t,this.endTime=n,r=o.length-1,u=this.getClosestIndex(o,"time",t,!0,0,r),o=this.getClosestIndex(o,"time",n,!1,u,r),s.timeZoom(t,n),s.zoom(u,o),this.start=e.fitToBounds(u,0,r),this.end=e.fitToBounds(o,0,r),this.zoomAxesAndGraphs(),this.zoomScrollbar(),t!=i||n!=a?this.showZB(!0):this.showZB(!1),this.updateColumnsDepth(),this.dispatchTimeZoomEvent()}},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.updateColumnsDepth()},indexZoom:function(e,t){var n=this.maxSelectedSeries;isNaN(n)||(t!=this.end&&t-e>n&&(e=t-n,this.updateScrollbar=!0),e!=this.start&&t-e>n&&(t=e+n,this.updateScrollbar=!0));if(e!=this.start||t!=this.end){var r=this.chartData.length-1;isNaN(e)&&(e=0,isNaN(n)||(e=r-n)),isNaN(t)&&(t=r),t<e&&(t=e),t>r&&(t=r),e>r&&(e=r-1),0>e&&(e=0),this.start=e,this.end=t,this.categoryAxis.zoom(e,t),this.zoomAxesAndGraphs(),this.zoomScrollbar(),0!==e||t!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.updateColumnsDepth(),this.dispatchIndexZoomEvent()}},updateGraphs:function(){e.AmSerialChart.base.updateGraphs.call(this);var t=this.graphs,n;for(n=0;n<t.length;n++){var r=t[n];r.columnWidthReal=this.columnWidth,r.categoryAxis=this.categoryAxis,e.isString(r.fillToGraph)&&(r.fillToGraph=this.getGraphById(r.fillToGraph))}},updateColumnsDepth:function(){var t,n=this.graphs,r;e.remove(this.columnsSet),this.columnsArray=[];for(t=0;t<n.length;t++){r=n[t];var i=r.columnsArray;if(i){var s;for(s=0;s<i.length;s++)this.columnsArray.push(i[s])}}this.columnsArray.sort(this.compareDepth);if(0<this.columnsArray.length){n=this.container.set(),this.columnSet.push(n);for(t=0;t<this.columnsArray.length;t++)n.push(this.columnsArray[t].column.set);r&&n.translate(r.x,r.y),this.columnsSet=n}},compareDepth:function(e,t){return e.depth>t.depth?1:-1},zoomScrollbar:function(){var e=this.chartScrollbar,t=this.categoryAxis;e&&this.updateScrollbar&&e.enabled&&e.dragger&&(e.dragger.stop(),t.parseDates&&!t.equalSpacing?e.timeZoom(this.startTime,this.endTime):e.zoom(this.start,this.end),this.updateScrollbar=!0)},updateTrendLines:function(){var t=this.trendLines,n;for(n=0;n<t.length;n++){var r=t[n],r=e.processObject(r,e.TrendLine,this.theme);t[n]=r,r.chart=this,r.id||(r.id="trendLineAuto"+n+"_"+(new Date).getTime()),e.isString(r.valueAxis)&&(r.valueAxis=this.getValueAxisById(r.valueAxis)),r.valueAxis||(r.valueAxis=this.valueAxes[0]),r.categoryAxis=this.categoryAxis}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var e=this.valueAxes,t;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);e=this.graphs;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);this.zoomTrendLines(),(t=this.chartCursor)&&t.zoom&&t.zoom(this.start,this.end,this.startTime,this.endTime)}},countColumns:function(){var e=0,t=this.valueAxes.length,n=this.graphs.length,r,i,s=!1,o,u;for(u=0;u<t;u++){i=this.valueAxes[u];var a=i.stackType;if("100%"==a||"regular"==a)for(s=!1,o=0;o<n;o++)r=this.graphs[o],r.tcc=1,r.valueAxis==i&&"column"==r.type&&(!s&&r.stackable&&(e++,s=!0),(!r.stackable&&r.clustered||r.newStack)&&e++,r.columnIndex=e-1,r.clustered||(r.columnIndex=0));if("none"==a||"3d"==a){s=!1;for(o=0;o<n;o++)r=this.graphs[o],r.valueAxis==i&&"column"==r.type&&(r.clustered?(r.tcc=1,r.newStack&&(e=0),r.hidden||(r.columnIndex=e,e++)):r.hidden||(s=!0,r.tcc=1,r.columnIndex=0));s&&0===e&&(e=1)}if("3d"==a){i=1;for(u=0;u<n;u++)r=this.graphs[u],r.newStack&&i++,r.depthCount=i,r.tcc=e;e=i}}return e},parseData:function(){e.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(e){var t=this.chartData,n,r;for(r=0;r<t.length;r++)t[r].category==e&&(n=r);return n},handleCursorChange:function(e){this.updateLegendValues(e.index)},handleCursorZoom:function(e){this.updateScrollbar=!0,this.zoom(e.start,e.end)},handleScrollbarZoom:function(e){this.updateScrollbar=!1,this.zoom(e.start,e.end)},dispatchTimeZoomEvent:function(){if(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime){var t={type:"zoomed"};t.startDate=new Date(this.startTime),t.endDate=new Date(this.endTime),t.startIndex=this.start,t.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=t.startDate,this.endDate=t.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime;var n=this.categoryAxis,r=e.extractPeriod(n.minPeriod).period,n=n.dateFormatsObject[r];t.startValue=e.formatDate(t.startDate,n,this),t.endValue=e.formatDate(t.endDate,n,this),t.chart=this,t.target=this,this.fire(t.type,t)}},dispatchIndexZoomEvent:function(){if(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end){this.startIndex=this.start,this.endIndex=this.end;var t=this.chartData;if(e.ifArray(t)&&!isNaN(this.start)&&!isNaN(this.end)){var n={chart:this,target:this,type:"zoomed"};n.startIndex=this.start,n.endIndex=this.end,n.startValue=t[this.start].category,n.endValue=t[this.end].category,this.categoryAxis.parseDates&&(this.startTime=t[this.start].time,this.endTime=t[this.end].time,n.startDate=new Date(this.startTime),n.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(n.type,n)}}},updateLegendValues:function(e){var t=this.graphs,n;for(n=0;n<t.length;n++){var r=t[n];isNaN(e)?r.currentDataItem=void 0:r.currentDataItem=this.chartData[e].axes[r.valueAxis.id].graphs[r.id]}this.legend&&this.legend.updateValues()},getClosestIndex:function(e,t,n,r,i,s){0>i&&(i=0),s>e.length-1&&(s=e.length-1);var o=i+Math.round((s-i)/2),u=e[o][t];return n==u?o:1>=s-i?r?i:(r=e[s][t],Math.abs(e[i][t]-n)<Math.abs(r-n)?i:s):n==u?o:n<u?this.getClosestIndex(e,t,n,r,i,o):this.getClosestIndex(e,t,n,r,o,s)},zoomToIndexes:function(e,t){this.updateScrollbar=!0;var n=this.chartData;if(n){var r=n.length;0<r&&(0>e&&(e=0),t>r-1&&(t=r-1),r=this.categoryAxis,r.parseDates&&!r.equalSpacing?this.zoom(n[e].time,this.getEndTime(n[t].time)):this.zoom(e,t))}},zoomToDates:function(t,n){this.updateScrollbar=!0;var r=this.chartData;if(this.categoryAxis.equalSpacing){var i=this.getClosestIndex(r,"time",t.getTime(),!0,0,r.length);n=e.resetDateToMin(n,this.categoryAxis.minPeriod,1),r=this.getClosestIndex(r,"time",n.getTime(),!1,0,r.length),this.zoom(i,r)}else this.zoom(t.getTime(),n.getTime())},zoomToCategoryValues:function(e,t){this.updateScrollbar=!0,this.zoom(this.getCategoryIndexByValue(e),this.getCategoryIndexByValue(t))},formatPeriodString:function(t,n){if(n){var r=["value","open","low","high","close"],i="value open low high close average sum count".split(" "),s=n.valueAxis,o=this.chartData,u=n.numberFormatter;u||(u=this.nf);for(var a=0;a<r.length;a++){for(var f=r[a],l=0,c=0,h,p,d,v,m,g=0,y=0,b,w,E,S,x,T=this.start;T<=this.end;T++){var N=o[T];if(N&&(N=N.axes[s.id].graphs[n.id])){if(N.values){var C=N.values[f];if(this.rotate){if(0>N.x||N.x>N.graph.height)C=NaN}else if(0>N.x||N.x>N.graph.width)C=NaN;if(!isNaN(C)){isNaN(h)&&(h=C),p=C;if(isNaN(d)||d>C)d=C;if(isNaN(v)||v<C)v=C;m=e.getDecimals(l);var k=e.getDecimals(C),l=l+C,l=e.roundTo(l,Math.max(m,k));c++,m=l/c}}if(N.percents&&(N=N.percents[f],!isNaN(N))){isNaN(b)&&(b=N),w=N;if(isNaN(E)||E>N)E=N;if(isNaN(S)||S<N)S=N;x=e.getDecimals(g),C=e.getDecimals(N),g+=N,g=e.roundTo(g,Math.max(x,C)),y++,x=g/y}}}g={open:b,close:w,high:S,low:E,average:x,sum:g,count:y},t=e.formatValue(t,{open:h,close:p,high:v,low:d,average:m,sum:l,count:c},i,u,f+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=e.formatValue(t,g,i,this.pf,"percents\\."+f+"\\.")}}return t=e.cleanFromEmpty(t)},formatString:function(t,n,r){var i=n.graph;if(-1!=t.indexOf("[[category]]")){var s=n.serialDataItem.category;if(this.categoryAxis.parseDates){var o=this.balloonDateFormat,u=this.chartCursor;u&&(o=u.categoryBalloonDateFormat),-1!=t.indexOf("[[category]]")&&(o=e.formatDate(s,o,this),-1!=o.indexOf("fff")&&(o=e.formatMilliseconds(o,s)),s=o)}t=t.replace(/\[\[category\]\]/g,String(s))}return s=i.numberFormatter,s||(s=this.nf),o=n.graph.valueAxis,(u=o.duration)&&!isNaN(n.values.value)&&(u=e.formatDuration(n.values.value,u,"",o.durationUnits,o.maxInterval,s),t=t.replace(RegExp("\\[\\[value\\]\\]","g"),u)),"date"==o.type&&(o=e.formatDate(new Date(n.values.value),i.dateFormat,this),u=RegExp("\\[\\[value\\]\\]","g"),t=t.replace(u,o),o=e.formatDate(new Date(n.values.open),i.dateFormat,this),u=RegExp("\\[\\[open\\]\\]","g"),t=t.replace(u,o)),i="value open low high close total".split(" "),o=this.pf,t=e.formatValue(t,n.percents,i,o,"percents\\."),t=e.formatValue(t,n.values,i,s,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=e.formatValue(t,n.values,["percents"],o),-1!=t.indexOf("[[")&&(t=e.formatDataContextValue(t,n.dataContext)),-1!=t.indexOf("[[")&&n.graph.customData&&(t=e.formatDataContextValue(t,n.graph.customData)),t=e.AmSerialChart.base.formatString.call(this,t,n,r)},addChartScrollbar:function(t){e.callMethod("destroy",[this.chartScrollbar]),t&&(t.chart=this,this.listenTo(t,"zoomed",this.handleScrollbarZoom)),this.rotate?void 0===t.width&&(t.width=t.scrollbarHeight):void 0===t.height&&(t.height=t.scrollbarHeight),this.chartScrollbar=t},removeChartScrollbar:function(){e.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},handleReleaseOutside:function(t){e.AmSerialChart.base.handleReleaseOutside.call(this,t),e.callMethod("handleReleaseOutside",[this.chartScrollbar])},update:function(){e.AmSerialChart.base.update.call(this),this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update()}})}(),function(){var e=window.AmCharts;e.Cuboid=e.Class({construct:function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){this.set=e.set(),this.container=e,this.h=Math.round(n),this.w=Math.round(t),this.dx=r,this.dy=i,this.colors=s,this.alpha=o,this.bwidth=u,this.bcolor=a,this.balpha=f,this.dashLength=p,this.topRadius=v,this.pattern=d,this.rotate=h,this.bcn=m,h?0>t&&0===l&&(l=180):0>n&&270==l&&(l=90),this.gradientRotation=l,0===r&&0===i&&(this.cornerRadius=c),this.draw()},draw:function(){var t=this.set;t.clear();var n=this.container,r=n.chart,i=this.w,s=this.h,o=this.dx,u=this.dy,a=this.colors,f=this.alpha,l=this.bwidth,c=this.bcolor,h=this.balpha,p=this.gradientRotation,d=this.cornerRadius,v=this.dashLength,m=this.pattern,g=this.topRadius,y=this.bcn,b=a,w=a;"object"==typeof a&&(b=a[0],w=a[a.length-1]);var E,S,x,T,N,C,k,L,A,O=f;m&&(f=0);var M,_,D,P,H=this.rotate;if(0<Math.abs(o)||0<Math.abs(u))if(isNaN(g))k=w,w=e.adjustLuminosity(b,-0.2),w=e.adjustLuminosity(b,-0.2),E=e.polygon(n,[0,o,i+o,i,0],[0,u,u,0,0],w,f,1,c,0,p),0<h&&(A=e.line(n,[0,o,i+o],[0,u,u],c,h,l,v)),S=e.polygon(n,[0,0,i,i,0],[0,s,s,0,0],w,f,1,c,0,p),S.translate(o,u),0<h&&(x=e.line(n,[o,o],[u,u+s],c,h,l,v)),T=e.polygon(n,[0,0,o,o,0],[0,s,s+u,u,0],w,f,1,c,0,p),N=e.polygon(n,[i,i,i+o,i+o,i],[0,s,s+u,u,0],w,f,1,c,0,p),0<h&&(C=e.line(n,[i,i+o,i+o,i],[0,u,s+u,s],c,h,l,v)),w=e.adjustLuminosity(k,.2),k=e.polygon(n,[0,o,i+o,i,0],[s,s+u,s+u,s,s],w,f,1,c,0,p),0<h&&(L=e.line(n,[0,o,i+o],[s,s+u,s+u],c,h,l,v));else{var B,j,F;H?(B=s/2,w=o/2,F=s/2,j=i+o/2,_=Math.abs(s/2),M=Math.abs(o/2)):(w=i/2,B=u/2,j=i/2,F=s+u/2+1,M=Math.abs(i/2),_=Math.abs(u/2)),D=M*g,P=_*g,.1<M&&.1<M&&(E=e.circle(n,M,b,f,l,c,h,!1,_),E.translate(w,B)),.1<D&&.1<D&&(k=e.circle(n,D,e.adjustLuminosity(b,.5),f,l,c,h,!1,P),k.translate(j,F))}f=O,1>Math.abs(s)&&(s=0),1>Math.abs(i)&&(i=0),!isNaN(g)&&(0<Math.abs(o)||0<Math.abs(u))?(a=[b],a={fill:a,stroke:c,"stroke-width":l,"stroke-opacity":h,"fill-opacity":f},H?(f="M0,0 L"+i+","+(s/2-s/2*g),l=" B",0<i&&(l=" A"),e.VML?(f+=l+Math.round(i-D)+","+Math.round(s/2-P)+","+Math.round(i+D)+","+Math.round(s/2+P)+","+i+",0,"+i+","+s,f=f+(" L0,"+s)+(l+Math.round(-M)+","+Math.round(s/2-_)+","+Math.round(M)+","+Math.round(s/2+_)+",0,"+s+",0,0")):(f+="A"+D+","+P+",0,0,0,"+i+","+(s-s/2*(1-g))+"L0,"+s,f+="A"+M+","+_+",0,0,1,0,0"),M=90):(l=i/2-i/2*g,f="M0,0 L"+l+","+s,e.VML?(f="M0,0 L"+l+","+s,l=" B",0>s&&(l=" A"),f+=l+Math.round(i/2-D)+","+Math.round(s-P)+","+Math.round(i/2+D)+","+Math.round(s+P)+",0,"+s+","+i+","+s,f+=" L"+i+",0",f+=l+Math.round(i/2+M)+","+Math.round(_)+","+Math.round(i/2-M)+","+Math.round(-_)+","+i+",0,0,0"):(f+="A"+D+","+P+",0,0,0,"+(i-i/2*(1-g))+","+s+"L"+i+",0",f+="A"+M+","+_+",0,0,1,0,0"),M=180),n=n.path(f).attr(a),n.gradient("linearGradient",[b,e.adjustLuminosity(b,-0.3),e.adjustLuminosity(b,-0.3),b],M),H?n.translate(o/2,0):n.translate(0,u/2)):n=0===s?e.line(n,[0,i],[0,0],c,h,l,v):0===i?e.line(n,[0,0],[0,s],c,h,l,v):0<d?e.rect(n,i,s,a,f,l,c,h,d,p,v):e.polygon(n,[0,0,i,i,0],[0,s,s,0,0],a,f,l,c,h,p,!1,v),i=isNaN(g)?0>s?[E,A,S,x,T,N,C,k,L,n]:[k,L,S,x,T,N,E,A,C,n]:H?0<i?[E,n,k]:[k,n,E]:0>s?[E,n,k]:[k,n,E],e.setCN(r,n,y+"front"),e.setCN(r,S,y+"back"),e.setCN(r,k,y+"top"),e.setCN(r,E,y+"bottom"),e.setCN(r,T,y+"left"),e.setCN(r,N,y+"right");for(E=0;E<i.length;E++)if(S=i[E])t.push(S),e.setCN(r,S,y+"element");m&&n.pattern(m,NaN,r.path)},width:function(e){isNaN(e)&&(e=0),this.w=Math.round(e),this.draw()},height:function(e){isNaN(e)&&(e=0),this.h=Math.round(e),this.draw()},animateHeight:function(t,n){var r=this;r.easing=n,r.totalFrames=Math.round(1e3*t/e.updateRate),r.rh=r.h,r.frame=0,r.height(1),setTimeout(function(){r.updateHeight.call(r)},e.updateRate)},updateHeight:function(){var t=this;t.frame++;var n=t.totalFrames;t.frame<=n&&(n=t.easing(0,t.frame,1,t.rh-1,n),t.height(n),setTimeout(function(){t.updateHeight.call(t)},e.updateRate))},animateWidth:function(t,n){var r=this;r.easing=n,r.totalFrames=Math.round(1e3*t/e.updateRate),r.rw=r.w,r.frame=0,r.width(1),setTimeout(function(){r.updateWidth.call(r)},e.updateRate)},updateWidth:function(){var t=this;t.frame++;var n=t.totalFrames;t.frame<=n&&(n=t.easing(0,t.frame,1,t.rw-1,n),t.width(n),setTimeout(function(){t.updateWidth.call(t)},e.updateRate))}})}(),function(){var e=window.AmCharts;e.CategoryAxis=e.Class({inherits:e.AxisBase,construct:function(t){this.cname="CategoryAxis",e.CategoryAxis.base.construct.call(this,t),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.firstDayOfWeek=1,this.gridPosition="middle",this.markPeriodChange=this.boldPeriodBeginning=!0,this.safeDistance=30,this.centerLabelOnFullPeriod=!0,e.applyTheme(this,t,this.cname)},draw:function(){e.CategoryAxis.base.draw.call(this),this.generateDFObject();var t=this.chart.chartData;this.data=t,this.labelRotationR=this.labelRotation;if(e.ifArray(t)){var n,r=this.chart;"scrollbar"!=this.id?(e.setCN(r,this.set,"category-axis"),e.setCN(r,this.labelsSet,"category-axis"),e.setCN(r,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var i=this.start,s=this.labelFrequency,o=0,u=this.end-i+1,a=this.gridCountR,f=this.showFirstLabel,l=this.showLastLabel,c,h="",h=e.extractPeriod(this.minPeriod),p=e.getPeriodDuration(h.period,h.count),d,v,m,g;d=this.rotate,n=this.firstDayOfWeek,c=this.boldPeriodBeginning,g=e.resetDateToMin(new Date(t[t.length-1].time+1.05*p),this.minPeriod,1,n).getTime(),this.firstTime=r.firstTime,this.endTime>g&&(this.endTime=g),g=this.minorGridEnabled;var y=this.gridAlpha;if(this.parseDates&&!this.equalSpacing)this.lastTime=t[t.length-1].time,this.maxTime=e.resetDateToMin(new Date(this.lastTime+1.05*p),this.minPeriod,1,n).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(!this.parseDates){if(this.cellWidth=this.getStepWidth(u),u<a&&(a=u),o+=this.start,this.stepWidth=this.getStepWidth(u),0<a){a=Math.floor(u/a),p=this.chooseMinorFrequency(a),u=o,u/2==Math.round(u/2)&&u--,0>u&&(u=0);var b=0;this.end-u+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle);for(n=u;n<=this.end+2;n++){c=!1,0<=n&&n<this.data.length?(v=this.data[n],h=v.category,c=v.forceShow):h="";if(g&&!isNaN(p)){if(n/p!=Math.round(n/p)&&!c)continue;n/a==Math.round(n/a)||c||(this.gridAlpha=this.minorGridAlpha,h=void 0)}else if(n/a!=Math.round(n/a)&&!c)continue;u=this.getCoordinate(n-o),m=0,"start"==this.gridPosition&&(u-=this.cellWidth/2,m=this.cellWidth/2),c=!0;var w=m;"start"==this.tickPosition&&(w=0,c=!1,m=0);if(n==i&&!f||n==this.end&&!l)h=void 0;Math.round(b/s)!=b/s&&(h=void 0),b++;var E=this.cellWidth;d&&(E=NaN,this.ignoreAxisWidth||!r.autoMargins)&&(E="right"==this.position?r.marginRight:r.marginLeft,E-=this.tickLength+10),this.labelFunction&&v&&(h=this.labelFunction(h,v,this)),h=e.fixBrakes(h),t=!1,this.boldLabels&&(t=!0),n>this.end&&"start"==this.tickPosition&&(h=" "),this.rotate&&this.inside&&(m=-2),m=new this.axisItemRenderer(this,u,h,c,E,m,void 0,t,w,!1,v.labelColor,v.className),m.serialDataItem=v,this.pushAxisItem(m),this.gridAlpha=y}}}else if(this.parseDates&&this.equalSpacing){o=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,i=this.choosePeriod(0),s=i.period,d=i.count,t=e.getPeriodDuration(s,d),t<p&&(s=h.period,d=h.count,t=p),v=s,"WW"==v&&(v="DD"),this.stepWidth=this.getStepWidth(u),a=Math.ceil(this.timeDifference/t)+1,h=e.resetDateToMin(new Date(this.startTime-t),s,d,n).getTime(),this.cellWidth=this.getStepWidth(u),u=Math.round(h/t),i=-1,u/2==Math.round(u/2)&&(i=-2,h-=t),u=this.start,u/2==Math.round(u/2)&&u--,0>u&&(u=0),y=this.end+2,y>=this.data.length&&(y=this.data.length),b=!1,b=!f,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),w=u;if(this.data[u].time!=e.resetDateToMin(new Date(this.data[u].time),s,d,n).getTime())for(t=0,E=h,n=u;n<y;n++)p=this.data[n].time,this.checkPeriodChange(s,d,p,E)&&(t++,2<=t&&(w=n,n=y),E=p);g&&1<d&&(p=this.chooseMinorFrequency(d),e.getPeriodDuration(s,p));if(0<this.gridCountR)for(n=u;n<y;n++)if(p=this.data[n].time,this.checkPeriodChange(s,d,p,h)&&n>=w){u=this.getCoordinate(n-this.start),g=!1,this.nextPeriod[v]&&(g=this.checkPeriodChange(this.nextPeriod[v],1,p,h,v)),t=!1,g&&this.markPeriodChange?(g=this.dateFormatsObject[this.nextPeriod[v]],t=!0):g=this.dateFormatsObject[v],h=e.formatDate(new Date(p),g,r);if(n==i&&!f||n==a&&!l)h=" ";b?b=!1:(c||(t=!1),u-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(h=this.labelFunction(h,new Date(p),this,s,d,m)),this.boldLabels&&(t=!0),m=new this.axisItemRenderer(this,u,h,void 0,void 0,void 0,void 0,t),g=m.graphics(),this.pushAxisItem(m),g=g.getBBox().width,e.isModern||(g-=u),this.previousPos=u+g)),m=h=p}}for(n=0;n<this.data.length;n++)if(f=this.data[n])l=this.parseDates&&!this.equalSpacing?Math.round((f.time-this.startTime)*this.stepWidth+this.cellWidth/2):this.getCoordinate(n-o),f.x[this.id]=l;f=this.guides.length;for(n=0;n<f;n++)l=this.guides[n],c=m=m=a=g=NaN,i=l.above,l.toCategory&&(m=r.getCategoryIndexByValue(l.toCategory),isNaN(m)||(g=this.getCoordinate(m-o),l.expand&&(g+=this.cellWidth/2),m=new this.axisItemRenderer(this,g,"",!0,NaN,NaN,l),this.pushAxisItem(m,i))),l.category&&(c=r.getCategoryIndexByValue(l.category),isNaN(c)||(a=this.getCoordinate(c-o),l.expand&&(a-=this.cellWidth/2),m=(g-a)/2,m=new this.axisItemRenderer(this,a,l.label,!0,NaN,m,l),this.pushAxisItem(m,i))),c=r.dataDateFormat,l.toDate&&(l.toDate=e.getDate(l.toDate,c,this.minPeriod),this.equalSpacing?(m=r.getClosestIndex(this.data,"time",l.toDate.getTime(),!1,0,this.data.length-1),isNaN(m)||(g=this.getCoordinate(m-o))):g=(l.toDate.getTime()-this.startTime)*this.stepWidth,m=new this.axisItemRenderer(this,g,"",!0,NaN,NaN,l),this.pushAxisItem(m,i)),l.date&&(l.date=e.getDate(l.date,c,this.minPeriod),this.equalSpacing?(c=r.getClosestIndex(this.data,"time",l.date.getTime(),!1,0,this.data.length-1),isNaN(c)||(a=this.getCoordinate(c-o))):a=(l.date.getTime()-this.startTime)*this.stepWidth,m=(g-a)/2,c=!0,l.toDate&&(c=!1),m="H"==this.orientation?new this.axisItemRenderer(this,a,l.label,c,2*m,NaN,l):new this.axisItemRenderer(this,a,l.label,!1,NaN,m,l),this.pushAxisItem(m,i)),(0<g||0<a)&&(g<this.width||a<this.width)&&(g=new this.guideFillRenderer(this,a,g,l),c=g.graphics(),this.pushAxisItem(g,i),l.graphics=c,c.index=n,l.balloonText&&this.addEventListeners(c,l))}this.axisCreated=!0,r=this.x,o=this.y,this.set.translate(r,o),this.labelsSet.translate(r,o),this.positionTitle(),(r=this.axisLine.set)&&r.toFront(),r=this.getBBox().height,2<r-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1),this.previousHeight=r},xToIndex:function(t){var n=this.data,r=this.chart,i=r.rotate,s=this.stepWidth;this.parseDates&&!this.equalSpacing?(t=this.startTime+Math.round(t/s)-this.minDuration()/2,r=r.getClosestIndex(n,"time",t,!1,this.start,this.end+1)):(this.startOnAxis||(t-=s/2),r=this.start+Math.round(t/s));var r=e.fitToBounds(r,0,n.length-1),o;return n[r]&&(o=n[r].x[this.id]),i?o>this.height+1&&r--:o>this.width+1&&r--,0>o&&r++,r=e.fitToBounds(r,0,n.length-1)},dateToCoordinate:function(e){return this.parseDates&&!this.equalSpacing?(e.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(e=this.chart.getClosestIndex(this.data,"time",e.getTime(),!1,0,this.data.length-1),this.getCoordinate(e-this.start)):NaN},categoryToCoordinate:function(e){return this.chart?(e=this.chart.getCategoryIndexByValue(e),this.getCoordinate(e-this.start)):NaN},coordinateToDate:function(e){return this.equalSpacing?(e=this.xToIndex(e),new Date(this.data[e].time)):new Date(this.startTime+e/this.stepWidth)},getCoordinate:function(e){return e*=this.stepWidth,this.startOnAxis||(e+=this.stepWidth/2),Math.round(e)}})}(),define("amcharts.serial",["amcharts"],function(e){return function(){var t,n;return n=function(){AmCharts.isReady=!0},t=n.apply(e,arguments),t||e.AmCharts}}(this)),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/CommonSerial",["d3","../common/HTMLWidget","amcharts.serial"],t):e.amchart_CommonSerial=t(e.d3,e.common_HTMLWidget,e.AmCharts)}(this,function(e,t,n){function r(){t.call(this),this._tag="div",this._chart={}}return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype._class+=" amchart_CommonSerial",r.prototype.publish("fontSize",null,"number","Font Size",null,{tags:["Basic","Shared"]}),r.prototype.publish("fontFamily",null,"string","Font Name",null,{tags:["Basic","Shared","Shared"]}),r.prototype.publish("fontColor",null,"html-color","Font Color",null,{tags:["Basic","Shared"]}),r.prototype.publish("lineWidth",1,"number","Line Thickness",null,{min:0,max:10,step:1,inputType:"range",tags:["Basic","Shared"]}),r.prototype.publish("lineColor",null,"html-color","Color of the data/content lines",null,{tags:["Basic","Shared"]}),r.prototype.publish("lineOpacity",1,"number","Line Opacity",null,{min:0,max:1,step:.001,inputType:"range",tags:["Basic","Shared"]}),r.prototype.publish("dashedLineStyle",0,"number","Length of Dashed Line. 0 = none",null,{tags:["Advanced","Shared"]}),r.prototype.publish("axisFontSize",null,"number","X/Y Axis Text Font Size",null,{tags:["Basic","Shared"]}),r.prototype.publish("xAxisBaselineColor",null,"html-color","X Axis Baseline Color",null,{tags:["Basic","Shared"]}),r.prototype.publish("yAxisBaselineColor",null,"html-color","Y Axis baseline Color",null,{tags:["Basic","Shared"]}),r.prototype.publish("xAxisFontColor",null,"html-color","Horizontal Axis Text Style (Color)",null,{tags:["Basic","Shared"]}),r.prototype.publish("yAxisFontColor",null,"html-color","Vertical Axis Text Style (Color)",null,{tags:["Basic","Shared"]}),r.prototype.publish("xAxisTitle","","string","X-Axis Title",null,{tags:["Basic","Shared"]}),r.prototype.publish("yAxisTitle","","string","Y-Axis Title",null,{tags:["Basic","Shared"]}),r.prototype.publish("xAxisTitleFontSize",null,"number","Vertical Axis Title Text Style (Font Size)",null,{tags:["Basic","Shared"]}),r.prototype.publish("yAxisTitleFontSize",null,"number","Vertical Axis Title Text Style (Font Size)",null,{tags:["Intermediate","Shared"]}),r.prototype.publish("xAxisTitleFontColor",null,"html-color","Horizontal Axis Title Text Style (Color)",null,{tags:["Basic","Shared"]}),r.prototype.publish("yAxisTitleFontColor",null,"html-color","Vertical Axis Title Text Style (Color)",null,{tags:["Basic","Shared"]}),r.prototype.publish("xAxisLabelRotation",null,"number","X-Axis Label Rotation",null,{min:0,max:90,step:.1,inputType:"range",tags:["Intermediate","Shared"]}),r.prototype.publish("axisLineWidth",1,"number","Axis Line Width",null,{tags:["Intermediate","Shared"]}),r.prototype.publish("axisAlpha",1,"number","Axis Alpha",null,{tags:["Intermediate"]}),r.prototype.publish("marginLeft",null,"number","Margin (Left)",null,{tags:["Intermediate"]}),r.prototype.publish("marginRight",null,"number","Margin (Right)",null,{tags:["Intermediate"]}),r.prototype.publish("marginTop",null,"number","Margin (Top)",null,{tags:["Intermediate"]}),r.prototype.publish("marginBottom",null,"number","Margin (Bottom)",null,{tags:["Intermediate"]}),r.prototype.publish("showScrollbar",!1,"boolean","Show Chart Scrollbar",null,{tags:["Intermediate","Shared"]}),r.prototype.publish("orientation","horizontal","set","Orientation",["horizontal","vertical"],{tags:["Intermediate"]}),r.prototype.publish("bulletSize",0,"number","Bullet Size",null,{tags:["Intermediate"]}),r.prototype.publish("bulletType","none","set","Bullet Type",["none","round","square","triangleUp","triangleDown","triangleLeft","triangleRight","bubble","diamond"],{tags:["Basic"]}),r.prototype.publish("dataDateFormat",null,"string","",null,{tags:["Private"]}),r.prototype.publish("xAxisAutoGridCount",!0,"boolean","Specifies Whether Number of GridCount Is Specified Automatically, According To The Axis Size",null,{tags:["Advanced"]}),r.prototype.publish("xAxisGridPosition","middle","set","Specifies If A Grid Line Is Placed On The Center of A Cell or On The Beginning of A Cell",["start","middle"],{tags:["Advanced"]}),r.prototype.publish("xAxisBoldPeriodBeginning",!0,"boolean","When parse dates is on for the category axis, the chart will try to highlight the beginning of the periods, like month, in bold.",null,{tags:["Intermediate"]}),r.prototype.publish("yAxisBoldPeriodBeginning",!0,"boolean","When parse dates is on for the category axis, the chart will try to highlight the beginning of the periods, like month, in bold.",null,{tags:["Intermediate"]}),r.prototype.publish("xAxisDashLength",0,"number","Length of a dash. 0 means line is not dashed.",null,{tags:["Advanced"]}),r.prototype.publish("yAxisDashLength",0,"number","Length of a dash. 0 means line is not dashed.",null,{tags:["Advanced"]}),r.prototype.publish("xAxisFillAlpha",0,"number","Fill opacity. Every second space between grid lines can be filled with color. Set fillAlpha to a value greater than 0 to see the fills.",null,{tags:["Intermediate"]}),r.prototype.publish("yAxisFillAlpha",0,"number","Fill opacity. Every second space between grid lines can be filled with color. Set fillAlpha to a value greater than 0 to see the fills.",null,{tags:["Intermediate"]}),r.prototype.publish("xAxisFillColor",null,"html-color","Fill color. Every second space between grid lines can be filled with color. Set fillAlpha to a value greater than 0 to see the fills.",null,{tags:["Intermediate"]}),r.prototype.publish("yAxisFillColor",null,"html-color","Fill color. Every second space between grid lines can be filled with color. Set fillAlpha to a value greater than 0 to see the fills.",null,{tags:["Intermediate"]}),r.prototype.publish("xAxisGridAlpha",.2,"number","Grid alpha.",null,{tags:["Intermediate"]}),r.prototype.publish("yAxisGridAlpha",.2,"number","Grid alpha.",null,{tags:["Intermediate"]}),r.prototype.publish("yAxisTitleOffset",null,"number","",null,{tags:["Intermediate"]}),r.prototype.publish("startOnAxis",!0,"boolean","Draw Chart Starting On Axis.",null,{tags:["Intermediate"]}),r.prototype.publish("startDuration",.3,"number","Start Duration (sec)",null,{tags:["Private"]}),r.prototype.publish("useImgPatterns",!1,"boolean","Enable Image Pattern backgrounds",null,{tags:["Private"]}),r.prototype.publish("imgPatternArr",'["../ampatterns/black/pattern2.png"]',"string","Background Pattern Images (Not used if '[]')",null,{inputType:"textarea",tags:["Private"]}),r.prototype.publish("useClonedPalette",!1,"boolean","Enable or disable using a cloned palette",null,{tags:["Intermediate","Shared"]}),r.prototype.updateChartOptions=function(){return this._chart.dataDateFormat=this.dataDateFormat(),this._chart.type="serial",this._chart.startDuration=this.startDuration(),this._chart.rotate=this.orientation()==="vertical",this._chart.categoryField=this._categoryField,this._chart.color=this.fontColor(),this._chart.fontSize=this.fontSize(),this._chart.fontFamily=this.fontFamily(),this._chart.categoryAxis={},this._chart.categoryAxis.autoGridCount=this.xAxisAutoGridCount(),this._chart.categoryAxis.gridPosition=this.xAxisGridPosition(),this._chart.categoryAxis.axisAlpha=this.axisAlpha(),this._chart.categoryAxis.gridAlpha=this.xAxisGridAlpha(),this._chart.categoryAxis.startOnAxis=this.startOnAxis(),this._chart.categoryAxis.labelRotation=this.xAxisLabelRotation(),this._chart.categoryAxis.title=this.xAxisTitle(),this._chart.categoryAxis.axisColor=this.xAxisBaselineColor(),this._chart.categoryAxis.axisThickness=this.axisLineWidth(),this._chart.categoryAxis.boldPeriodBeginning=this.xAxisBoldPeriodBeginning(),this._chart.categoryAxis.dashLength=this.xAxisDashLength(),this._chart.categoryAxis.fillAlpha=this.xAxisFillAlpha(),this._chart.categoryAxis.fillColor=this.xAxisFillColor(),this._chart.categoryAxis.fontSize=this.axisFontSize(),this._chart.categoryAxis.color=this.xAxisFontColor(),this._chart.categoryAxis.titleColor=this.xAxisTitleFontColor(),this._chart.categoryAxis.titleFontSize=this.xAxisTitleFontSize(),this._chart.titles=[],this.marginLeft()&&(this._chart.marginLeft=this.marginLeft()),this.marginRight()&&(this._chart.marginRight=this.marginRight()),this.marginTop()&&(this._chart.marginTop=this.marginTop()),this.marginBottom()&&(this._chart.marginBottom=this.marginBottom()),this._chart.dataProvider=this.formatData(this._data),this._chart.valueAxes[0].title=this.yAxisTitle(),this._chart.valueAxes[0].titleColor=this.yAxisTitleFontColor(),this._chart.valueAxes[0].titleFontSize=this.yAxisTitleFontSize(),this._chart.valueAxes[0].axisThickness=this.axisLineWidth(),this._chart.valueAxes[0].color=this.yAxisFontColor(),this._chart.valueAxes[0].fontSize=this.axisFontSize(),this._chart.valueAxes[0].axisColor=this.yAxisBaselineColor(),this._chart.valueAxes[0].axisAlpha=this.axisAlpha(),this._chart.valueAxes[0].fillColor=this.yAxisFillColor(),this._chart.valueAxes[0].fillAlpha=this.yAxisFillAlpha(),this._chart.valueAxes[0].gridAlpha=this.yAxisGridAlpha(),this._chart.valueAxes[0].dashLength=this.yAxisDashLength(),this._chart.valueAxes[0].boldPeriodBeginning=this.yAxisBoldPeriodBeginning(),this._chart.valueAxes[0].axisTitleOffset=this.yAxisTitleOffset(),this.showScrollbar()?this._chart.chartScrollbar.enabled=!0:this._chart.chartScrollbar.enabled=!1,this._chart},r.prototype.buildGraphObj=function(e,t){var n=this,r={};r.balloonText=n.tooltipTemplate(),r.lineAlpha=n.lineOpacity(),r.lineColor=n.lineColor(),r.lineThickness=n.lineWidth(),r.bullet=n.bulletType(),r.bulletSize=n.bulletSize(),r.dashLength=n.dashedLineStyle(),r.type=e,r.title="";var i=["value","open","close","high","low"];i.forEach(function(e){typeof n["_"+e+"Field"]!="undefined"&&typeof n["_"+e+"Field"][t]!="undefined"&&(r[e+"Field"]=n["_"+e+"Field"][t])});try{if(n.useImgPatterns()){var s=JSON.parse(n.imgPatternArr());typeof s[t]!="undefined"&&(r.pattern=s[t])}else r.pattern=""}catch(o){console.log("e:"),console.log(o)}return r},r.prototype.formatData=function(e){var t=[],n=this;return e.forEach(function(e){var r={};n._columns.forEach(function(t,n){r[t]=e[n]}),t.push(r)}),t},r.prototype.columns=function(e){if(!arguments.length)return this._columns;var n=t.prototype.columns.apply(this,arguments),r=this;return arguments.length?(this._categoryField=e[0],this._valueField=[],e.slice(1,e.length).forEach(function(e){r._valueField.push(e)}),this._columns=e,this):n},r.prototype.enter=function(e,r){t.prototype.enter.apply(this,arguments);var i=this,s={type:"serial",chartScrollbar:{},pathToImages:"./"};this._chart=n.makeChart(e,s),this._chart.addListener("clickGraphItem",function(e){i.click(i.rowToObj(i._data[e.index]),i._columns[e.target.columnIndex+1])})},r.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),e.style.width=this.size().width+"px",e.style.height=this.size().height+"px",this._palette=this._palette.switch(this.paletteID()),this.useClonedPalette()&&(this._palette=this._palette.cloneNotExists(this.paletteID()+"_"+this.id()))},r}),define("css!src/amchart/Area",[],function(){}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Area",["d3","./CommonSerial","amcharts.serial","../api/INDChart","css!./Area"],t):e.amchart_Area=t(e.d3,e.amchart_CommonSerial,e.amcharts,e.api_INDChart)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._gType="line"}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_Area",i.prototype.implements(r.prototype),i.prototype.publish("paletteID","default","set","Palette ID",i.prototype._palette.switch(),{tags:["Basic","Shared"]}),i.prototype.publish("isStacked",!1,"boolean","Stack Chart",null,{tags:["Basic","Shared"]}),i.prototype.publish("fillOpacity",.7,"number","Opacity of The Fill Color",null,{min:0,max:1,step:.001,inputType:"range",tags:["Intermediate","Shared"]}),i.prototype.publish("tooltipTemplate","[[category]]: [[value]]","string","Tooltip Text",null,{tags:["Intermediate"]}),i.prototype.publish("stackType","regular","set","Stack Type",["none","regular","100%"],{tags:["Basic"]}),i.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},i.prototype.updateChartOptions=function(){return t.prototype.updateChartOptions.apply(this,arguments),this._chart.colors=this._columns.filter(function(e,t){return t>0}).map(function(e){return this._palette(e)},this),this.isStacked()?this._chart.valueAxes[0].stackType=this.stackType():this._chart.valueAxes[0].stackType="none",this.buildGraphs(this._gType),this._chart},i.prototype.buildGraphs=function(e){function a(e){return e.fillAlphas=this.fillOpacity(),e}typeof this._chart.graphs=="undefined"&&(this._chart.graphs=[]);var n=this._chart.graphs.length,r=Math.max(n,this._valueField.length);for(var i=0;i<r;i++)if(typeof this._valueField!="undefined"&&typeof this._valueField[i]!="undefined"){var s=t.prototype.buildGraphObj.call(this,e,i),o=a.call(this,s);if(typeof this._chart.graphs[i]!="undefined")for(var u in o)this._chart.graphs[i][u]=o[u];else this._chart.addGraph(o)}else this._chart.removeGraph(this._chart.graphs[i])},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},i}),define("css!src/amchart/Bar",[],function(){}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Bar",["d3","./CommonSerial","amcharts.serial","../api/INDChart","css!./Bar"],t):e.amchart_Bar=t(e.d3,e.amchart_CommonSerial,e.amcharts,e.api_INDChart)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._gType="column"}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_Bar",i.prototype.implements(r.prototype),i.prototype.publish("paletteID","default","set","Palette ID",i.prototype._palette.switch(),{tags:["Basic","Shared"]}),i.prototype.publish("isStacked",!1,"boolean","Stack Chart",null,{tags:["Basic","Shared"]}),i.prototype.publish("fillOpacity",.7,"number","Opacity of The Fill Color",null,{min:0,max:1,step:.001,inputType:"range",tags:["Intermediate","Shared"]}),i.prototype.publish("paletteGrouping","By Column","set","Palette Grouping",["By Category","By Column"],{tags:["Basic"]}),i.prototype.publish("cylinderBars",!1,"boolean","Cylinder Bars",null,{tags:["Basic"]}),i.prototype.publish("circleRadius",1,"number","Circle Radius of Cylinder Bars",null,{tags:["Basic"]}),i.prototype.publish("columnWidth",.62,"number","Bar Width",null,{tags:["Basic"]}),i.prototype.publish("Depth3D",0,"number","3D Depth (px)",null,{tags:["Basic"]}),i.prototype.publish("Angle3D",0,"number","3D Angle (Deg)",null,{tags:["Basic"]}),i.prototype.publish("stackType","regular","set","Stack Type",["none","regular","100%"],{tags:["Basic"]}),i.prototype.publish("tooltipTemplate","[[category]]([[title]]): [[value]]","string","Tooltip Text",null,{tags:["Intermediate"]}),i.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},i.prototype.updateChartOptions=function(){t.prototype.updateChartOptions.apply(this,arguments);var e=this;this.isStacked()?this._chart.valueAxes[0].stackType=this.stackType():this._chart.valueAxes[0].stackType="none";switch(this.paletteGrouping()){case"By Category":this._chart.dataProvider.forEach(function(t,n){e._chart.dataProvider[n].color=e._palette(n),e._chart.dataProvider[n].linecolor=e.lineColor()!==null?e.lineColor():e._palette(n)}),this._chart.colors=[];break;case"By Column":this._chart.colors=this._columns.filter(function(e,t){return t>0}).map(function(e){return this._palette(e)},this);break;default:this._chart.colors=this._columns.filter(function(e,t){return t>0}).map(function(e){return this._palette(e)},this)}return this._chart.depth3D=this.Depth3D(),this._chart.angle=this.Angle3D(),this._chart.categoryAxis.startOnAxis=!1,this.buildGraphs(this._gType),this._chart},i.prototype.buildGraphs=function(e){function a(e){return this.columnWidth()&&(e.columnWidth=this.columnWidth()),this.cylinderBars()?e.topRadius=this.circleRadius():e.topRadius=undefined,this.paletteGrouping()==="By Category"&&(e.colorField="color",e.lineColorField="linecolor"),e.fillAlphas=this.fillOpacity(),e}typeof this._chart.graphs=="undefined"&&(this._chart.graphs=[]);var n=this._chart.graphs.length,r=Math.max(n,this._valueField.length);for(var i=0;i<r;i++)if(typeof this._valueField!="undefined"&&typeof this._valueField[i]!="undefined"){var s=t.prototype.buildGraphObj.call(this,e,i),o=a.call(this,s);if(typeof this._chart.graphs[i]!="undefined")for(var u in o)this._chart.graphs[i][u]=o[u];else this._chart.addGraph(o)}else this._chart.removeGraph(this._chart.graphs[i])},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},i}),function(){var e=window.AmCharts;e.AmXYChart=e.Class({inherits:e.AmRectangularChart,construct:function(t){this.type="xy",e.AmXYChart.base.construct.call(this,t),this.cname="AmXYChart",this.theme=t,this.createEvents("zoomed"),this.maxZoomFactor=20,e.applyTheme(this,t,this.cname)},initChart:function(){e.AmXYChart.base.initChart.call(this),this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0),this.updateScrollbar=!0,this.drawChart(),this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins());var t=this.marginLeftReal,n=this.marginTopReal,r=this.plotAreaWidth,i=this.plotAreaHeight;this.graphsSet.clipRect(t,n,r,i),this.bulletSet.clipRect(t,n,r,i),this.trendLinesSet.clipRect(t,n,r,i)},prepareForExport:function(){var e=this.bulletSet;e.clipPath&&this.container.remove(e.clipPath)},createValueAxes:function(){var t=[],n=[];this.xAxes=t,this.yAxes=n;var r=this.valueAxes,i,s;for(s=0;s<r.length;s++){i=r[s];var o=i.position;if("top"==o||"bottom"==o)i.rotate=!0;i.setOrientation(i.rotate),o=i.orientation,"V"==o&&n.push(i),"H"==o&&t.push(i)}0===n.length&&(i=new e.ValueAxis(this.theme),i.rotate=!1,i.setOrientation(!1),r.push(i),n.push(i)),0===t.length&&(i=new e.ValueAxis(this.theme),i.rotate=!0,i.setOrientation(!0),r.push(i),t.push(i));for(s=0;s<r.length;s++)this.processValueAxis(r[s],s);t=this.graphs;for(s=0;s<t.length;s++)this.processGraph(t[s],s)},drawChart:function(){e.AmXYChart.base.drawChart.call(this),e.ifArray(this.chartData)?(this.chartScrollbar&&this.updateScrollbars(),this.selfZoom&&(this.horizontalPosition=this.horizontalPosition*this.plotAreaWidth/this.prevPlotAreaWidth,this.verticalPosition=this.verticalPosition*this.plotAreaHeight/this.prevPlotAreaHeight,this.selfZoom=!1),this.zoomChart()):this.cleanChart();if(this.hideXScrollbar){var t=this.scrollbarH;t&&(this.removeListener(t,"zoomed",this.handleHSBZoom),t.destroy()),this.scrollbarH=null}if(this.hideYScrollbar){if(t=this.scrollbarV)this.removeListener(t,"zoomed",this.handleVSBZoom),t.destroy();this.scrollbarV=null}if(!this.autoMargins||this.marginsUpdated)this.dispDUpd(),this.chartCreated=!0,this.zoomScrollbars()},cleanChart:function(){e.callMethod("destroy",[this.valueAxes,this.graphs,this.scrollbarV,this.scrollbarH,this.chartCursor])},zoomChart:function(){this.toggleZoomOutButton(),this.zoomObjects(this.valueAxes),this.zoomObjects(this.graphs),this.zoomTrendLines(),this.dispatchAxisZoom(),this.prevPlotAreaWidth=this.plotAreaWidth,this.prevPlotAreaHeight=this.plotAreaHeight},toggleZoomOutButton:function(){1==this.heightMultiplier&&1==this.widthMultiplier?this.showZB(!1):this.showZB(!0)},dispatchAxisZoom:function(){var e=this.valueAxes,t;for(t=0;t<e.length;t++){var n=e[t];if(!isNaN(n.min)&&!isNaN(n.max)){var r,i;"V"==n.orientation?(r=n.coordinateToValue(-this.verticalPosition),i=n.coordinateToValue(-this.verticalPosition+this.plotAreaHeight)):(r=n.coordinateToValue(-this.horizontalPosition),i=n.coordinateToValue(-this.horizontalPosition+this.plotAreaWidth));if(!isNaN(r)&&!isNaN(i)){if(r>i){var s=i;i=r,r=s}n.dispatchZoomEvent(r,i)}}}},zoomObjects:function(e){var t=e.length,n,r;for(n=0;n<t;n++)r=e[n],r.minTemp=r.min,r.maxTemp=r.max,this.updateObjectSize(r),r.zoom(0,this.chartData.length-1),r.minTemp=NaN,r.maxTemp=NaN},updateData:function(){this.parseData();var e=this.chartData,t=e.length-1,n=this.graphs,r=this.dataProvider,i=-Infinity,s=Infinity,o,u;for(o=0;o<n.length;o++)if(u=n[o],u.data=e,u.zoom(0,t),u=u.valueField){var a;for(a=0;a<r.length;a++)if(null!==f){var f=Number(r[a][u]);f>i&&(i=f),f<s&&(s=f)}}for(o=0;o<n.length;o++)u=n[o],u.maxValue=i,u.minValue=s;if(e=this.chartCursor)e.updateData(),e.type="crosshair",e.valueBalloonsEnabled=!1},zoomOut:function(){this.verticalPosition=this.horizontalPosition=0,this.heightMultiplier=this.widthMultiplier=1,this.zoomChart(),this.zoomScrollbars()},processValueAxis:function(e){e.chart=this,e.minMaxField="H"==e.orientation?"x":"y",e.min=NaN,e.max=NaN,this.listenTo(e,"axisSelfZoomed",this.handleAxisSelfZoom)},processGraph:function(t){e.isString(t.xAxis)&&(t.xAxis=this.getValueAxisById(t.xAxis)),e.isString(t.yAxis)&&(t.yAxis=this.getValueAxisById(t.yAxis)),t.xAxis||(t.xAxis=this.xAxes[0]),t.yAxis||(t.yAxis=this.yAxes[0]),t.valueAxis=t.yAxis},parseData:function(){e.AmXYChart.base.parseData.call(this),this.chartData=[];var t=this.dataProvider,n=this.valueAxes,r=this.graphs,i;if(t)for(i=0;i<t.length;i++){var s={axes:{},x:{},y:{}},o=this.dataDateFormat,u=t[i],a;for(a=0;a<n.length;a++){var f=n[a].id;s.axes[f]={},s.axes[f].graphs={};var l;for(l=0;l<r.length;l++){var c=r[l],h=c.id;if(c.xAxis.id==f||c.yAxis.id==f){var p={};p.serialDataItem=s,p.index=i;var d={},v=u[c.valueField];null!==v&&(v=Number(v),isNaN(v)||(d.value=v)),v=u[c.xField],null!==v&&("date"==c.xAxis.type&&(v=e.getDate(u[c.xField],o).getTime()),v=Number(v),isNaN(v)||(d.x=v)),v=u[c.yField],null!==v&&("date"==c.yAxis.type&&(v=e.getDate(u[c.yField],o).getTime()),v=Number(v),isNaN(v)||(d.y=v)),v=u[c.errorField],null!==v&&(v=Number(v),isNaN(v)||(d.error=v)),p.values=d,this.processFields(c,p,u),p.serialDataItem=s,p.graph=c,s.axes[f].graphs[h]=p}}}this.chartData[i]=s}},formatString:function(t,n,r){var i=n.graph,s=i.numberFormatter;s||(s=this.nf);var o,u;return"date"==n.graph.xAxis.type&&(o=e.formatDate(new Date(n.values.x),i.dateFormat,this),u=RegExp("\\[\\[x\\]\\]","g"),t=t.replace(u,o)),"date"==n.graph.yAxis.type&&(o=e.formatDate(new Date(n.values.y),i.dateFormat,this),u=RegExp("\\[\\[y\\]\\]","g"),t=t.replace(u,o)),t=e.formatValue(t,n.values,["value","x","y"],s),-1!=t.indexOf("[[")&&(t=e.formatDataContextValue(t,n.dataContext)),t=e.AmXYChart.base.formatString.call(this,t,n,r)},addChartScrollbar:function(t){e.callMethod("destroy",[this.chartScrollbar,this.scrollbarH,this.scrollbarV]);if(t){this.chartScrollbar=t,this.scrollbarHeight=t.scrollbarHeight;var n="backgroundColor backgroundAlpha selectedBackgroundColor selectedBackgroundAlpha scrollDuration resizeEnabled hideResizeGrips scrollbarHeight updateOnReleaseOnly".split(" ");if(!this.hideYScrollbar){var r=new e.SimpleChartScrollbar(this.theme);r.skipEvent=!0,r.chart=this,this.listenTo(r,"zoomed",this.handleVSBZoom),e.copyProperties(t,r,n),r.rotate=!0,this.scrollbarV=r}this.hideXScrollbar||(r=new e.SimpleChartScrollbar(this.theme),r.skipEvent=!0,r.chart=this,this.listenTo(r,"zoomed",this.handleHSBZoom),e.copyProperties(t,r,n),r.rotate=!1,this.scrollbarH=r)}},updateTrendLines:function(){var t=this.trendLines,n;for(n=0;n<t.length;n++){var r=t[n],r=e.processObject(r,e.TrendLine,this.theme);t[n]=r,r.chart=this;var i=r.valueAxis;e.isString(i)&&(r.valueAxis=this.getValueAxisById(i)),i=r.valueAxisX,e.isString(i)&&(r.valueAxisX=this.getValueAxisById(i)),r.id||(r.id="trendLineAuto"+n+"_"+(new Date).getTime()),r.valueAxis||(r.valueAxis=this.yAxes[0]),r.valueAxisX||(r.valueAxisX=this.xAxes[0])}},updateMargins:function(){e.AmXYChart.base.updateMargins.call(this);var t=this.scrollbarV;t&&(this.getScrollbarPosition(t,!0,this.yAxes[0].position),this.adjustMargins(t,!0));if(t=this.scrollbarH)this.getScrollbarPosition(t,!1,this.xAxes[0].position),this.adjustMargins(t,!1)},updateScrollbars:function(){e.AmXYChart.base.updateScrollbars.call(this);var t=this.scrollbarV;t&&(this.updateChartScrollbar(t,!0),t.draw());if(t=this.scrollbarH)this.updateChartScrollbar(t,!1),t.draw()},zoomScrollbars:function(){var e=this.scrollbarH;e&&e.relativeZoom(this.widthMultiplier,-this.horizontalPosition/this.widthMultiplier),(e=this.scrollbarV)&&e.relativeZoom(this.heightMultiplier,-this.verticalPosition/this.heightMultiplier)},fitMultiplier:function(e){return e>this.maxZoomFactor&&(e=this.maxZoomFactor),e},fitH:function(e,t){var n=-(this.plotAreaWidth*t-this.plotAreaWidth);e<n&&(e=n),this.horizontalPosition=e},fitV:function(e,t){var n=-(this.plotAreaHeight*t-this.plotAreaHeight);e<n&&(e=n),this.verticalPosition=e},handleHSBZoom:function(e){var t=this.fitMultiplier(e.multiplier);this.fitH(-e.position*t,t),this.widthMultiplier=t,this.zoomChart()},handleVSBZoom:function(e){var t=this.fitMultiplier(e.multiplier);this.fitV(-e.position*t,t),this.heightMultiplier=t,this.zoomChart()},handleAxisSelfZoom:function(e){if("H"==e.valueAxis.orientation){var t=this.fitMultiplier(e.multiplier);this.fitH(-e.position*t,t),this.widthMultiplier=t}else t=this.fitMultiplier(e.multiplier),this.fitV(-e.position*t,t),this.heightMultiplier=t;this.zoomChart(),e=this.graphs;for(t=0;t<e.length;t++)e[t].setAnimationPlayed();this.zoomScrollbars()},handleCursorZoom:function(e){var t=this.widthMultiplier*this.plotAreaWidth/e.selectionWidth,n=this.heightMultiplier*this.plotAreaHeight/e.selectionHeight,t=this.fitMultiplier(t),n=this.fitMultiplier(n),r=(this.verticalPosition-e.selectionY)*n/this.heightMultiplier;this.fitH((this.horizontalPosition-e.selectionX)*t/this.widthMultiplier,t),this.fitV(r,n),this.widthMultiplier=t,this.heightMultiplier=n,this.zoomChart(),this.zoomScrollbars()},removeChartScrollbar:function(){e.callMethod("destroy",[this.scrollbarH,this.scrollbarV]),this.scrollbarV=this.scrollbarH=null},handleReleaseOutside:function(t){e.AmXYChart.base.handleReleaseOutside.call(this,t),e.callMethod("handleReleaseOutside",[this.scrollbarH,this.scrollbarV])},update:function(){e.AmXYChart.base.update.call(this),this.scrollbarH&&this.scrollbarH.update&&this.scrollbarH.update(),this.scrollbarV&&this.scrollbarV.update&&this.scrollbarV.update()}})}(),define("amcharts.xy",["amcharts"],function(e){return function(){var t,n;return n=function(){AmCharts.isReady=!0},t=n.apply(e,arguments),t||e.AmCharts}}(this)),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/CommonXY",["d3","../common/HTMLWidget","amcharts.xy"],t):e.amchart_CommonXY=t(e.d3,e.common_HTMLWidget,e.AmCharts)}(this,function(e,t,n){function r(){t.call(this),this._tag="div",this._chart={}}return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype._class+=" amchart_CommonXY",r.prototype.publish("fontSize",null,"number","Font Size",null,{tags:["Basic","Shared"]}),r.prototype.publish("fontFamily",null,"string","Font Name",null,{tags:["Basic","Shared"]}),r.prototype.publish("fontColor",null,"html-color","Font Color",null,{tags:["Basic","Shared"]}),r.prototype.publish("lineWidth",0,"number","Line Thickness",null,{min:0,max:10,step:1,inputType:"range",tags:["Basic","Shared"]}),r.prototype.publish("lineColor",null,"html-color","Color of the data/content lines",null,{tags:["Basic","Shared"]}),r.prototype.publish("lineOpacity",0,"number","Line Opacity",null,{min:0,max:1,step:.001,inputType:"range",tags:["Basic","Shared"]}),r.prototype.publish("dashedLineStyle",0,"number","",null,{tags:["Advanced","Shared"]}),r.prototype.publish("yAxisTitle","","string","Y-Axis Title",null,{tags:["Basic","Shared"]}),r.prototype.publish("xAxisTitle","","string","X-Axis Title",null,{tags:["Basic","Shared"]}),r.prototype.publish("xAxisBaselineColor",null,"html-color","Axis color",null,{tags:["Basic","Shared"]}),r.prototype.publish("yAxisBaselineColor",null,"html-color","Axis color",null,{tags:["Basic","Shared"]}),r.prototype.publish("xAxisFontColor",null,"html-color","Horizontal axis text style (Color)",null,{tags:["Basic","Shared"]}),r.prototype.publish("yAxisFontColor",null,"html-color","Vertical axis text style (Color)",null,{tags:["Basic","Shared"]}),r.prototype.publish("xAxisTitleFontSize",null,"number","Vertical axis titletext style (Font Size)",null,{tags:["Basic","Shared"]}),r.prototype.publish("yAxisTitleFontSize",null,"number","Vertical axis titletext style (Font Size)",null,{tags:["Intermediate","Shared"]}),r.prototype.publish("xAxisTitleFontColor",null,"html-color","Color of axis value labels. Will use chart's color if not set.",null,{tags:["Basic","Shared"]}),r.prototype.publish("yAxisTitleFontColor",null,"html-color","Color of axis value labels. Will use chart's color if not set.",null,{tags:["Basic","Shared"]}),r.prototype.publish("xAxisLabelRotation",null,"number","X-Axis Label Rotation",null,{min:0,max:90,step:.1,inputType:"range",tags:["Intermediate","Shared"]}),r.prototype.publish("axisLineWidth",1,"number","Thickness of axis",null,{tags:["Intermediate","Shared"]}),r.prototype.publish("axisAlpha",1,"number","Axis opacity",null,{tags:["Intermediate"]}),r.prototype.publish("showScrollbar",!1,"boolean","Chart Scrollbar",null,{tags:["Intermediate"]}),r.prototype.publish("bulletSize",8,"number","Bullet Size",null,{tags:["Intermediate"]}),r.prototype.publish("bulletType","round","set","Bullet Type",["none","round","square","triangleUp","triangleDown","triangleLeft","triangleRight","bubble","diamond"],{tags:["Intermediate"]}),r.prototype.publish("marginLeft",50,"number","Margin (Left)",null,{tags:["Intermediate"]}),r.prototype.publish("marginRight",10,"number","Margin (Right)",null,{tags:["Intermediate"]}),r.prototype.publish("marginTop",20,"number","Margin (Top)",null,{tags:["Intermediate"]}),r.prototype.publish("marginBottom",50,"number","Margin (Bottom)",null,{tags:["Intermediate"]}),r.prototype.publish("dataDateFormat",null,"string","",null,{tags:["Private"]}),r.prototype.publish("xAxisAutoGridCount",!0,"boolean","Specifies whether number of gridCount is specified automatically, acoarding to the axis size",null,{tags:["Advanced"]}),r.prototype.publish("yAxisAutoGridCount",!0,"boolean","Specifies whether number of gridCount is specified automatically, acoarding to the axis size",null,{tags:["Advanced"]}),r.prototype.publish("xAxisGridPosition","middle","set","Specifies if a grid line is placed on the center of a cell or on the beginning of a cell",["start","middle"],{tags:["Advanced"]}),r.prototype.publish("yAxisGridPosition","middle","set","Specifies if a grid line is placed on the center of a cell or on the beginning of a cell",["start","middle"],{tags:["Advanced"]}),r.prototype.publish("xAxisFillAlpha",0,"number","Fill opacity. Every second space between grid lines can be filled with color. Set fillAlpha to a value greater than 0 to see the fills.",null,{tags:["Intermediate"]}),r.prototype.publish("yAxisFillAlpha",0,"number","Fill opacity. Every second space between grid lines can be filled with color. Set fillAlpha to a value greater than 0 to see the fills.",null,{tags:["Intermediate"]}),r.prototype.publish("xAxisFillColor",null,"html-color","Fill color. Every second space between grid lines can be filled with color. Set fillAlpha to a value greater than 0 to see the fills.",null,{tags:["Intermediate"]}),r.prototype.publish("yAxisFillColor",null,"html-color","Fill color. Every second space between grid lines can be filled with color. Set fillAlpha to a value greater than 0 to see the fills.",null,{tags:["Intermediate"]}),r.prototype.publish("xAxisGridAlpha",.2,"number","Grid alpha.",null,{tags:["Intermediate"]}),r.prototype.publish("yAxisGridAlpha",.2,"number","Grid alpha.",null,{tags:["Intermediate"]}),r.prototype.publish("xAxisDashLength",0,"number","Length of a dash. 0 means line is not dashed.",null,{tags:["Advanced"]}),r.prototype.publish("yAxisDashLength",0,"number","Length of a dash. 0 means line is not dashed.",null,{tags:["Advanced"]}),r.prototype.publish("yAxisTitleOffset",null,"number","",null,{tags:["Intermediate"]}),r.prototype.publish("useClonedPalette",!1,"boolean","Enable or disable using a cloned palette",null,{tags:["Intermediate","Shared"]}),r.prototype.updateChartOptions=function(){var e=this;return this._chart.theme="none",this._chart.type="xy",this._chart.color=this.fontColor(),this._chart.fontSize=this.fontSize(),this._chart.fontFamily=this.fontFamily(),this.marginLeft()&&(this._chart.marginLeft=this.marginLeft()),this.marginRight()&&(this._chart.marginRight=this.marginRight()),this.marginTop()&&(this._chart.marginTop=this.marginTop()),this.marginBottom()&&(this._chart.marginBottom=this.marginBottom()),this._chart.dataDateFormat=this.dataDateFormat(),this._chart.valueAxes[0].position="bottom",this._chart.valueAxes[0].axisAlpha=this.axisAlpha(),this._chart.valueAxes[0].title=this.xAxisTitle(),this._chart.valueAxes[0].axisThickness=this.axisLineWidth(),this._chart.valueAxes[0].axisColor=this.xAxisBaselineColor(),this._chart.valueAxes[0].color=this.xAxisFontColor(),this._chart.valueAxes[0].titleFontSize=this.xAxisTitleFontSize(),this._chart.valueAxes[0].titleColor=this.xAxisTitleFontColor(),this._chart.valueAxes[0].labelRotation=this.xAxisLabelRotation(),this._chart.valueAxes[0].autoGridCount=this.xAxisAutoGridCount(),this._chart.valueAxes[0].gridPosition=this.xAxisGridPosition(),this._chart.valueAxes[0].fillAlpha=this.xAxisFillAlpha(),this._chart.valueAxes[0].fillColor=this.xAxisFillColor(),this._chart.valueAxes[0].gridAlpha=this.xAxisGridAlpha(),this._chart.valueAxes[0].dashLength=this.xAxisDashLength(),this._chart.valueAxes[1].position="left",this._chart.valueAxes[1].axisAlpha=this.axisAlpha(),this._chart.valueAxes[1].title=this.yAxisTitle(),this._chart.valueAxes[1].axisThickness=this.axisLineWidth(),this._chart.valueAxes[1].axisColor=this.yAxisBaselineColor(),this._chart.valueAxes[1].color=this.yAxisFontColor(),this._chart.valueAxes[1].titleFontSize=this.yAxisTitleFontSize(),this._chart.valueAxes[1].titleColor=this.yAxisTitleFontColor(),this._chart.valueAxes[1].autoGridCount=this.yAxisAutoGridCount(),this._chart.valueAxes[1].gridPosition=this.yAxisGridPosition(),this._chart.valueAxes[1].fillAlpha=this.yAxisFillAlpha(),this._chart.valueAxes[1].fillColor=this.yAxisFillColor(),this._chart.valueAxes[1].gridAlpha=this.yAxisGridAlpha(),this._chart.valueAxes[1].dashLength=this.yAxisDashLength(),this._chart.valueAxes[1].axisTitleOffset=this.yAxisTitleOffset(),this._chart.dataProvider=this.formatData(this._data),this._chart.dataProvider.forEach(function(t,n){e._chart.dataProvider[n].color=e._palette(t[e._columns[2]]),e._chart.dataProvider[n].linecolor=e.lineColor()!==null?e.lineColor():e._palette(t[e._columns[2]])}),this._chart.colors=[],this.showScrollbar()?this._chart.chartScrollbar.enabled=!0:this._chart.chartScrollbar.enabled=!1,this._chart},r.prototype.buildGraphObj=function(e,t){var n=this,r={};return r.balloonText=n.tooltipTemplate(),r.lineAlpha=n.lineOpacity(),r.lineThickness=n.lineWidth(),r.bullet=n.bulletType(),r.bulletSize=n.bulletSize(),r.dashLength=n.dashedLineStyle(),r.lineAlpha=n.lineOpacity(),r.lineColor=n.lineColor(),r.lineThickness=n.lineWidth(),r.type=e,r.colorField="color",r.lineColorField="linecolor",r.xField=n._columns[1],r.yField=n._columns[2],r},r.prototype.formatData=function(e){var t=this,n=[];return e.forEach(function(e){var r={};t._columns.forEach(function(t,n){r[t]=e[n]}),n.push(r)}),n},r.prototype.columns=function(e){if(!arguments.length)return this._columns;var n=this,r=t.prototype.columns.apply(this,arguments);return arguments.length?(this._categoryField=e[0],this._valueField=[],e.slice(1,e.length).forEach(function(e){n._valueField.push(e)}),this._columns=e,this):r},r.prototype.enter=function(e,r){t.prototype.enter.apply(this,arguments);var i=this,s={theme:"none",type:"xy",automargins:!1,chartScrollbar:{},valueAxes:[{position:"bottom",title:" "},{position:"left",title:" "}],graphs:[{}],dataProvider:[{}],responsive:{enabled:!0},pathToImages:typeof define=="function"&&define.amd?require.toUrl("amchartsImg"):"../dist/img/amcharts"};this._chart=n.makeChart(e,s),this._chart.addListener("clickGraphItem",function(e){i.click(i.rowToObj(i._data[e.index]),i._columns[e.target.columnIndex+1])})},r.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),e.style.width=this.size().width+"px",e.style.height=this.size().height+"px",this._palette=this._palette.switch(this.paletteID()),this.useClonedPalette()&&(this._palette=this._palette.cloneNotExists(this.paletteID()+"_"+this.id()))},r}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Bubble",["d3","./CommonXY","amcharts.xy","../api/INDChart","css!./Bar"],t):e.amchart_Bubble=t(e.d3,e.amchart_CommonXY,e.amcharts,e.api_INDChart)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._type="Bubble",this._gType="column"}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_Bubble",i.prototype.implements(r.prototype),i.prototype.publish("paletteID","default","set","Palette ID",i.prototype._palette.switch(),{tags:["Basic","Shared"]}),i.prototype.publish("tooltipTemplate","x:[[x]] y:[[y]]","string","Tooltip Text"),i.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},i.prototype.updateChartOptions=function(){return t.prototype.updateChartOptions.apply(this,arguments),this.buildGraphs(this._gType),this._chart},i.prototype.buildGraphs=function(e){function a(e){if(this._type==="Bubble"){var t=["value"],n=this;t.forEach(function(t){e[t+"Field"]=n["_"+t+"Field"][i]})}return e}typeof this._chart.graphs=="undefined"&&(this._chart.graphs=[]);var n=this._chart.graphs.length,r=Math.max(n,this._valueField.length);for(var i=0;i<r;i++)if(typeof this._valueField!="undefined"&&typeof this._valueField[i]!="undefined"){var s=t.prototype.buildGraphObj.call(this,e,i),o=a.call(this,s);if(typeof this._chart.graphs[i]!="undefined")for(var u in o)this._chart.graphs[i][u]=o[u];else this._chart.addGraph(o)}else this._chart.removeGraph(this._chart.graphs[i])},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},i}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Candle",["d3","./CommonSerial","amcharts.serial","../api/INDChart"],t):e.amchart_Candle=t(e.d3,e.amchart_CommonSerial,e.amcharts,e.api_INDChart)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._gType="candlestick"}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_Candle",i.prototype.implements(r.prototype),i.prototype.publish("paletteID","default","set","Palette ID",i.prototype._palette.switch(),{tags:["Basic","Shared"]}),i.prototype.publish("isStacked",!0,"boolean","Stack CHart",null,{tags:["Basic","Shared"]}),i.prototype.publish("fillOpacity",.7,"number","Opacity of The Fill Color",null,{min:0,max:1,step:.001,inputType:"range",tags:["Intermediate","Shared"]}),i.prototype.publish("paletteGrouping","By Column","set","Palette Grouping",["By Category","By Column"],{tags:["Basic"]}),i.prototype.publish("tooltipTemplate",'<div style="text-align:left;"><b>[[category]]</b><br/> Open:<b>[[open]]</b> Close:<b>[[close]]</b><br/>Low:<b>[[low]]</b> High:<b>[[high]]</b></div>',"string","Tooltip Text",null,{tags:["Intermediate"]}),i.prototype.publish("columnWidth",.62,"number","Bar Width",null,{tags:["Basic"]}),i.prototype.publish("stackType","regular","set","Stack Type",["none","regular","100%"],{tags:["Basic"]}),i.prototype.publish("useOhlcLines",!1,"boolean","Use OHLC Lines",null,{tags:["Intermediate"]}),i.prototype.testData=function(){return this.columns(["Subject","low","open","close","high"]),this.data([["Geography",10,15,35,40],["English",20,25,45,55]]),this},i.prototype.columns=function(e){if(!arguments.length)return this._columns;var n=this,r=t.prototype.columns.apply(this,arguments);return this._categoryField=e[0],this._lowField=[],this._openField=[],this._highField=[],this._closeField=[],e.slice(1,e.length).forEach(function(e,t){switch(t%4){case 0:n._lowField.push(e);break;case 1:n._openField.push(e);break;case 2:n._closeField.push(e);break;case 3:n._highField.push(e)}}),this._columns=e,r},i.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},i.prototype.updateChartOptions=function(){var e=this;this._gType=this.useOhlcLines()?"ohlc":"candlestick",t.prototype.updateChartOptions.apply(this,arguments),this._chart.categoryAxis.startOnAxis=!1;switch(this.paletteGrouping()){case"By Category":this._chart.dataProvider.forEach(function(t,n){e._chart.dataProvider[n].color=e._palette(n),e._chart.dataProvider[n].linecolor=e.lineColor()!==null?e.lineColor():e._palette(n)}),this._chart.colors=[];break;case"By Column":this._chart.colors=this._columns.filter(function(e,t){return t>0}).map(function(e){return this._palette(e)},this);break;default:this._chart.colors=this._columns.filter(function(e,t){return t>0}).map(function(e){return this._palette(e)},this)}return this.buildGraphs(this._gType),this._chart},i.prototype.buildGraphs=function(e){function a(e){return this.columnWidth()&&(e.columnWidth=this.columnWidth()),this.paletteGrouping()==="By Category"&&(e.colorField="color",e.lineColorField="linecolor"),e.fillAlphas=this.fillOpacity(),e}typeof this._chart.graphs=="undefined"&&(this._chart.graphs=[]);var n=this._chart.graphs.length,r=Math.max(n,this._valueField.length);for(var i=0;i<r;i++)if(typeof this._openField!="undefined"&&typeof this._openField[i]!="undefined"){var s=t.prototype.buildGraphObj.call(this,e,i),o=a.call(this,s);if(typeof this._chart.graphs[i]!="undefined")for(var u in o)this._chart.graphs[i][u]=o[u];else this._chart.addGraph(o)}else this._chart.removeGraph(this._chart.graphs[i])},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},i}),function(){var e=window.AmCharts;e.AmFunnelChart=e.Class({inherits:e.AmSlicedChart,construct:function(t){this.type="funnel",e.AmFunnelChart.base.construct.call(this,t),this.cname="AmFunnelChart",this.startX=this.startY=0,this.baseWidth="100%",this.neckHeight=this.neckWidth=0,this.rotate=!1,this.valueRepresents="height",this.pullDistance=30,this.labelPosition="center",this.labelText="[[title]]: [[value]]",this.balloonText="[[title]]: [[value]]\n[[description]]",e.applyTheme(this,t,this.cname)},drawChart:function(){e.AmFunnelChart.base.drawChart.call(this);var t=this.chartData;if(e.ifArray(t))if(0<this.realWidth&&0<this.realHeight){var n=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),r=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),i=this.container,s=this.startDuration,o=this.rotate,u=this.updateWidth();this.realWidth=u;var f=this.updateHeight();this.realHeight=f;var l=e.toCoordinate,c=l(this.marginLeft,u),h=l(this.marginRight,u),p=l(this.marginTop,f)+this.getTitleHeight(),l=l(this.marginBottom,f);0<n&&0>r&&(this.neckHeight=this.neckWidth=0,o?l-=r/2:p-=r/2);var h=u-c-h,d=e.toCoordinate(this.baseWidth,h),v=e.toCoordinate(this.neckWidth,h),m=f-l-p,g=e.toCoordinate(this.neckHeight,m),y=p+m-g;o&&(p=f-l,y=p-m+g),this.firstSliceY=p,e.VML&&(this.startAlpha=1);for(var b=h/2+c,w=(m-g)/((d-v)/2),E=1,S=d/2,d=(m-g)*(d+v)/2+v*g,x=p,T=0,g=0;g<t.length;g++){var N=t[g],C;if(!0!==N.hidden&&(this.showZeroSlices||0!==N.percents)){var k=[],L=[],A;if("height"==this.valueRepresents)A=m*N.percents/100;else{var O=-d*N.percents/100/2,M=S;C=-1/(2*w),A=Math.pow(M,2)-4*C*O,0>A&&(A=0),A=(Math.sqrt(A)-M)/(2*C);if(!o&&p>=y||o&&p<=y)A=2*-O/v;else if(!o&&p+A>y||o&&p-A<y)C=o?Math.round(A+(p-A-y)):Math.round(A-(p+A-y)),A=C/w,A=C+2*(-O-(M-A/2)*C)/v}O=S-A/w,M=!1,!o&&p+A>y||o&&p-A<y?(O=v/2,k.push(b-S,b+S,b+O,b+O,b-O,b-O),o?(C=A+(p-A-y),p<y&&(C=0),L.push(p,p,p-C,p-A,p-A,p-C,p)):(C=A-(p+A-y),p>y&&(C=0),L.push(p,p,p+C,p+A,p+A,p+C,p)),M=!0):(k.push(b-S,b+S,b+O,b-O),o?L.push(p,p,p-A,p-A):L.push(p,p,p+A,p+A)),C=i.set(),0<n&&0>r?(L=O/S,k=-1,o||(k=1),isNaN(E)&&(E=0),k=(new e.Cuboid(i,2*S,k*A,n,r*E,N.color,N.alpha,this.outlineThickness,this.outlineColor,this.outlineAlpha,90,0,!1,0,N.pattern,L)).set,k.translate(b-S,p-r/2*E),E*=L):k=e.polygon(i,k,L,N.color,N.alpha,this.outlineThickness,this.outlineColor,this.outlineAlpha),e.setCN(this,C,"funnel-item"),e.setCN(this,k,"funnel-slice"),e.setCN(this,C,N.className,!0),C.push(k),this.graphsSet.push(C),o||C.toBack(),N.wedge=C,N.index=g;if(L=this.gradientRatio){var _=[],D;for(D=0;D<L.length;D++)_.push(e.adjustLuminosity(N.color,L[D]));0<_.length&&k.gradient("linearGradient",_),N.pattern&&k.pattern(N.pattern,NaN,this.path)}0<s&&(this.chartCreated||C.setAttr("opacity",this.startAlpha)),this.addEventListeners(C,N),N.ty0=p-A/2,this.labelsEnabled&&this.labelText&&N.percents>=this.hideLabelsPercent&&(L=this.formatString(this.labelText,N),(k=this.labelFunction)&&(L=k(N,L)),_=N.labelColor,_||(_=this.color),k=this.labelPosition,D="left","center"==k&&(D="middle"),"left"==k&&(D="right"),""!==L&&(L=e.wrappedText(i,L,_,this.fontFamily,this.fontSize,D,!1,this.maxLabelWidth),e.setCN(this,L,"funnel-label"),e.setCN(this,L,N.className,!0),L.node.style.pointerEvents="none",C.push(L),_=b,o?(D=p-A/2,N.ty0=D):(D=p+A/2,N.ty0=D,D<x+T+5&&(D=x+T+5),D>f-l&&(D=f-l)),"right"==k&&(_=h+10+c,N.tx0=b+(S-A/2/w),M&&(N.tx0=b+O)),"left"==k&&(N.tx0=b-(S-A/2/w),M&&(N.tx0=b-O),_=c),N.label=L,N.labelX=_,N.labelY=D,N.labelHeight=L.getBBox().height,L.translate(_,D),S=L.getBBox(),x=e.rect(i,S.width+5,S.height+5,"#ffffff",.005),x.translate(_+S.x,D+S.y),C.push(x),N.hitRect=x,T=L.getBBox().height,x=D)),(0===N.alpha||0<s&&!this.chartCreated)&&C.hide(),p=o?p-A:p+A,S=O,N.startX=e.toCoordinate(this.startX,u),N.startY=e.toCoordinate(this.startY,f),N.pullX=e.toCoordinate(this.pullDistance,u),N.pullY=0,N.balloonX=b,N.balloonY=N.ty0}}this.arrangeLabels(),this.initialStart(),(t=this.legend)&&t.invalidateSize()}else this.cleanChart();this.dispDUpd()},arrangeLabels:function(){var e=this.rotate,t;t=e?0:this.realHeight;for(var n=0,r=this.chartData,i=r.length,s,o=0;o<i;o++){s=r[i-o-1];var u=s.label,a=s.labelY,f=s.labelX,l=s.labelHeight,c=a;e?t+n+5>a&&(c=t+n+5):a+l+5>t&&(c=t-5-l),t=c,n=l,u&&(u.translate(f,c),u=u.getBBox(),s.hitRect&&s.hitRect.translate(f+u.x,c+u.y)),s.labelY=c,s.tx=f,s.ty=c,s.tx2=f}"center"!=this.labelPosition&&this.drawTicks()}})}(),function(){var e=window.AmCharts;e.Cuboid=e.Class({construct:function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){this.set=e.set(),this.container=e,this.h=Math.round(n),this.w=Math.round(t),this.dx=r,this.dy=i,this.colors=s,this.alpha=o,this.bwidth=u,this.bcolor=a,this.balpha=f,this.dashLength=p,this.topRadius=v,this.pattern=d,this.rotate=h,this.bcn=m,h?0>t&&0===l&&(l=180):0>n&&270==l&&(l=90),this.gradientRotation=l,0===r&&0===i&&(this.cornerRadius=c),this.draw()},draw:function(){var t=this.set;t.clear();var n=this.container,r=n.chart,i=this.w,s=this.h,o=this.dx,u=this.dy,f=this.colors,l=this.alpha,c=this.bwidth,h=this.bcolor,p=this.balpha,d=this.gradientRotation,v=this.cornerRadius,m=this.dashLength,g=this.pattern,y=this.topRadius,b=this.bcn,w=f,E=f;"object"==typeof f&&(w=f[0],E=f[f.length-1]);var S,x,T,N,C,k,L,A,O,M=l;g&&(l=0);var _,D,P,H,B=this.rotate;if(0<Math.abs(o)||0<Math.abs(u))if(isNaN(y))L=E,E=e.adjustLuminosity(w,-0.2),E=e.adjustLuminosity(w,-0.2),S=e.polygon(n,[0,o,i+o,i,0],[0,u,u,0,0],E,l,1,h,0,d),0<p&&(O=e.line(n,[0,o,i+o],[0,u,u],h,p,c,m)),x=e.polygon(n,[0,0,i,i,0],[0,s,s,0,0],E,l,1,h,0,d),x.translate(o,u),0<p&&(T=e.line(n,[o,o],[u,u+s],h,p,c,m)),N=e.polygon(n,[0,0,o,o,0],[0,s,s+u,u,0],E,l,1,h,0,d),C=e.polygon(n,[i,i,i+o,i+o,i],[0,s,s+u,u,0],E,l,1,h,0,d),0<p&&(k=e.line(n,[i,i+o,i+o,i],[0,u,s+u,s],h,p,c,m)),E=e.adjustLuminosity(L,.2),L=e.polygon(n,[0,o,i+o,i,0],[s,s+u,s+u,s,s],E,l,1,h,0,d),0<p&&(A=e.line(n,[0,o,i+o],[s,s+u,s+u],h,p,c,m));else{var j,F,I;B?(j=s/2,E=o/2,I=s/2,F=i+o/2,D=Math.abs(s/2),_=Math.abs(o/2)):(E=i/2,j=u/2,F=i/2,I=s+u/2+1,_=Math.abs(i/2),D=Math.abs(u/2)),P=_*y,H=D*y,.1<_&&.1<_&&(S=e.circle(n,_,w,l,c,h,p,!1,D),S.translate(E,j)),.1<P&&.1<P&&(L=e.circle(n,P,e.adjustLuminosity(w,.5),l,c,h,p,!1,H),L.translate(F,I))}l=M,1>Math.abs(s)&&(s=0),1>Math.abs(i)&&(i=0),!isNaN(y)&&(0<Math.abs(o)||0<Math.abs(u))?(f=[w],f={fill:f,stroke:h,"stroke-width":c,"stroke-opacity":p,"fill-opacity":l},B?(l="M0,0 L"+i+","+(s/2-s/2*y),c=" B",0<i&&(c=" A"),e.VML?(l+=c+Math.round(i-P)+","+Math.round(s/2-H)+","+Math.round(i+P)+","+Math.round(s/2+H)+","+i+",0,"+i+","+s,l=l+(" L0,"+s)+(c+Math.round(-_)+","+Math.round(s/2-D)+","+Math.round(_)+","+Math.round(s/2+D)+",0,"+s+",0,0")):(l+="A"+P+","+H+",0,0,0,"+i+","+(s-s/2*(1-y))+"L0,"+s,l+="A"+_+","+D+",0,0,1,0,0"),_=90):(c=i/2-i/2*y,l="M0,0 L"+c+","+s,e.VML?(l="M0,0 L"+c+","+s,c=" B",0>s&&(c=" A"),l+=c+Math.round(i/2-P)+","+Math.round(s-H)+","+Math.round(i/2+P)+","+Math.round(s+H)+",0,"+s+","+i+","+s,l+=" L"+i+",0",l+=c+Math.round(i/2+_)+","+Math.round(D)+","+Math.round(i/2-_)+","+Math.round(-D)+","+i+",0,0,0"):(l+="A"+P+","+H+",0,0,0,"+(i-i/2*(1-y))+","+s+"L"+i+",0",l+="A"+_+","+D+",0,0,1,0,0"),_=180),n=n.path(l).attr(f),n.gradient("linearGradient",[w,e.adjustLuminosity(w,-0.3),e.adjustLuminosity(w,-0.3),w],_),B?n.translate(o/2,0):n.translate(0,u/2)):n=0===s?e.line(n,[0,i],[0,0],h,p,c,m):0===i?e.line(n,[0,0],[0,s],h,p,c,m):0<v?e.rect(n,i,s,f,l,c,h,p,v,d,m):e.polygon(n,[0,0,i,i,0],[0,s,s,0,0],f,l,c,h,p,d,!1,m),i=isNaN(y)?0>s?[S,O,x,T,N,C,k,L,A,n]:[L,A,x,T,N,C,S,O,k,n]:B?0<i?[S,n,L]:[L,n,S]:0>s?[S,n,L]:[L,n,S],e.setCN(r,n,b+"front"),e.setCN(r,x,b+"back"),e.setCN(r,L,b+"top"),e.setCN(r,S,b+"bottom"),e.setCN(r,N,b+"left"),e.setCN(r,C,b+"right");for(S=0;S<i.length;S++)if(x=i[S])t.push(x),e.setCN(r,x,b+"element");g&&n.pattern(g,NaN,r.path)},width:function(e){isNaN(e)&&(e=0),this.w=Math.round(e),this.draw()},height:function(e){isNaN(e)&&(e=0),this.h=Math.round(e),this.draw()},animateHeight:function(t,n){var r=this;r.easing=n,r.totalFrames=Math.round(1e3*t/e.updateRate),r.rh=r.h,r.frame=0,r.height(1),setTimeout(function(){r.updateHeight.call(r)},e.updateRate)},updateHeight:function(){var t=this;t.frame++;var n=t.totalFrames;t.frame<=n&&(n=t.easing(0,t.frame,1,t.rh-1,n),t.height(n),setTimeout(function(){t.updateHeight.call(t)},e.updateRate))},animateWidth:function(t,n){var r=this;r.easing=n,r.totalFrames=Math.round(1e3*t/e.updateRate),r.rw=r.w,r.frame=0,r.width(1),setTimeout(function(){r.updateWidth.call(r)},e.updateRate)},updateWidth:function(){var t=this;t.frame++;var n=t.totalFrames;t.frame<=n&&(n=t.easing(0,t.frame,1,t.rw-1,n),t.width(n),setTimeout(function(){t.updateWidth.call(t)},e.updateRate))}})}(),define("amcharts.funnel",["amcharts"],function(e){return function(){var t,n;return n=function(){AmCharts.isReady=!0},t=n.apply(e,arguments),t||e.AmCharts}}(this)),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/CommonFunnel",["d3","../common/HTMLWidget","amcharts.funnel"],t):e.amchart_CommonFunnel=t(e.d3,e.common_HTMLWidget,e.AmCharts)}(this,function(e,t,n){function r(){t.call(this),this._tag="div",this._chart={}}return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype._class+=" amchart_CommonFunnel",r.prototype.publish("fontSize",null,"number","Font Size",null,{tags:["Basic","Shared"]}),r.prototype.publish("fontFamily",null,"string","Font Name",null,{tags:["Basic","Shared"]}),r.prototype.publish("fontColor",null,"html-color","Font Color",null,{tags:["Basic","Shared"]}),r.prototype.publish("flip",!0,"boolean","Flip Chart",null,{tags:["Intermediate"]}),r.prototype.publish("reverseDataSorting",!1,"boolean","Reverse Data Sorting",null,{tags:["Intermediate"]}),r.prototype.publish("marginLeft",0,"number","Margin (Left)",null,{tags:["Intermediate"]}),r.prototype.publish("marginRight",0,"number","Margin (Right)",null,{tags:["Intermediate"]}),r.prototype.publish("marginTop",null,"number","Margin (Top)",null,{tags:["Intermediate"]}),r.prototype.publish("marginBottom",null,"number","Margin (Bottom)",null,{tags:["Intermediate"]}),r.prototype.publish("labelPosition","center","set","Label Position",["left","right","center"],{tags:["Intermediate"]}),r.prototype.publish("showScrollbar",!1,"boolean","Show Chart Scrollbar",null,{tags:["Intermediate"]}),r.prototype.publish("startDuration",.3,"number","Start Duration (sec)",null,{tags:["Private"]}),r.prototype.publish("Depth3D",0,"number","3D Depth (px)",null,{tags:["Basic"]}),r.prototype.publish("Angle3D",0,"number","3D Angle (Deg)",null,{tags:["Basic"]}),r.prototype.publish("useClonedPalette",!1,"boolean","Enable or disable using a cloned palette",null,{tags:["Intermediate","Shared"]}),r.prototype.updateChartOptions=function(){this._chart.startDuration=this.startDuration(),this._chart.rotate=this.flip(),this._chart.color=this.fontColor(),this._chart.fontSize=this.fontSize(),this._chart.fontFamily=this.fontFamily(),this.marginLeft()&&(this._chart.marginLeft=this.marginLeft()),this.marginRight()&&(this._chart.marginRight=this.marginRight()),this.marginTop()&&(this._chart.marginTop=this.marginTop()),this.marginBottom()&&(this._chart.marginBottom=this.marginBottom()),this._chart.labelPosition=this.labelPosition(),this.titles=[],this.baloon={},this._chart.titleField=this._columns[0],this._chart.valueField=this._columns[1],this._chart.depth3D=this.Depth3D(),this._chart.angle=this.Angle3D();var e=function(e,t){return e[1]>t[1]?1:-1};return this.reverseDataSorting()&&(e=function(e,t){return e[1]<t[1]?1:-1}),this._data=this._data.sort(e),this._chart.dataProvider=this.formatData(this._data),this._chart.colors=this._data.map(function(e){return this._palette(e[0])},this),this.showScrollbar()?this._chart.chartScrollbar.enabled=!0:this._chart.chartScrollbar.enabled=!1,this._chart},r.prototype.formatData=function(e){var t=[],n=this;return e.forEach(function(e){var r={};n._columns.forEach(function(t,n){r[t]=e[n]}),t.push(r)}),t},r.prototype.columns=function(e){if(!arguments.length)return this._columns;var n=t.prototype.columns.apply(this,arguments),r=this;return arguments.length?(this._categoryField=e[0],this._valueField=[],e.slice(1,e.length).forEach(function(e){r._valueField.push(e)}),this._columns=e,this):n},r.prototype.enter=function(e,r){t.prototype.enter.apply(this,arguments);var i=this,s={theme:"none",type:"funnel",autoResize:!0,autoMargins:!0,chartScrollbar:{}};this._chart=n.makeChart(e,s),this._chart.addListener("clickSlice",function(e){i.click(i.rowToObj(i._data[e.dataItem.index]))})},r.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),e.style.width=this.size().width+"px",e.style.height=this.size().height+"px",this._palette=this._palette.switch(this.paletteID()),this.useClonedPalette()&&(this._palette=this._palette.cloneNotExists(this.paletteID()+"_"+this.id())),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},r}),function(){var e=window.AmCharts;e.AmRadarChart=e.Class({inherits:e.AmCoordinateChart,construct:function(t){this.type="radar",e.AmRadarChart.base.construct.call(this,t),this.cname="AmRadarChart",this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=0,this.radius="35%",e.applyTheme(this,t,this.cname)},initChart:function(){e.AmRadarChart.base.initChart.call(this),this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0),this.drawChart()},updateData:function(){this.parseData();var e=this.graphs,t;for(t=0;t<e.length;t++)e[t].data=this.chartData},updateGraphs:function(){var e=this.graphs,t;for(t=0;t<e.length;t++){var n=e[t];n.index=t,n.width=this.realRadius,n.height=this.realRadius,n.x=this.marginLeftReal,n.y=this.marginTopReal}},parseData:function(){e.AmRadarChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},updateValueAxes:function(){var t=this.valueAxes,n;for(n=0;n<t.length;n++){var r=t[n];r.axisRenderer=e.RadAxis,r.guideFillRenderer=e.RadarFill,r.axisItemRenderer=e.RadItem,r.autoGridCount=!1,r.rMultiplier=1,r.x=this.marginLeftReal,r.y=this.marginTopReal,r.width=this.realRadius,r.height=this.realRadius,r.viH=this.realRadius,r.marginsChanged=!0,r.titleDY=r.y-r.viH}},drawChart:function(){e.AmRadarChart.base.drawChart.call(this);var t=this.updateWidth(),n=this.updateHeight(),r=this.marginTop+this.getTitleHeight(),i=this.marginLeft,s=this.marginBottom,o=this.marginRight,u=n-r-s;this.marginLeftReal=i+(t-i-o)/2,this.marginTopReal=r+u/2,this.realRadius=e.toCoordinate(this.radius,Math.min(t-i-o,n-r-s),u),this.updateValueAxes(),this.updateGraphs(),t=this.chartData;if(e.ifArray(t)){if(0<this.realWidth&&0<this.realHeight){t=t.length-1,r=this.valueAxes;for(n=0;n<r.length;n++)r[n].zoom(0,t);r=this.graphs;for(n=0;n<r.length;n++)r[n].zoom(0,t);(t=this.legend)&&t.invalidateSize()}}else this.cleanChart();this.dispDUpd(),this.gridSet.toBack(),this.axesSet.toBack(),this.set.toBack()},formatString:function(t,n,r){var i=n.graph;return-1!=t.indexOf("[[category]]")&&(t=t.replace(/\[\[category\]\]/g,String(n.serialDataItem.category))),i=i.numberFormatter,i||(i=this.nf),t=e.formatValue(t,n.values,["value"],i,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),-1!=t.indexOf("[[")&&(t=e.formatDataContextValue(t,n.dataContext)),t=e.AmRadarChart.base.formatString.call(this,t,n,r)},cleanChart:function(){e.callMethod("destroy",[this.valueAxes,this.graphs])}})}(),function(){var e=window.AmCharts;e.RadAxis=e.Class({construct:function(t){var n=t.chart,r=t.axisThickness,i=t.axisColor,s=t.axisAlpha,o=t.x,u=t.y;this.set=n.container.set(),n.axesSet.push(this.set);var a=t.axisTitleOffset,f=t.radarCategoriesEnabled,l=t.chart.fontFamily,h=t.fontSize;void 0===h&&(h=t.chart.fontSize);var p=t.color;void 0===p&&(p=t.chart.color);if(n){this.axisWidth=t.height;var d=n.chartData,v=d.length,m,g=this.axisWidth;"middle"==t.pointPosition&&"circles"!=t.gridType&&(t.rMultiplier=Math.cos(180/v*Math.PI/180),g*=t.rMultiplier);for(m=0;m<v;m++){var y=180-360/v*m,b=y;"middle"==t.pointPosition&&(b-=180/v);var w=o+this.axisWidth*Math.sin(y/180*Math.PI),y=u+this.axisWidth*Math.cos(y/180*Math.PI);0<s&&(w=e.line(n.container,[o,w],[u,y],i,s,r),this.set.push(w),e.setCN(n,w,t.bcn+"line"));if(f){var E="start",w=o+(g+a)*Math.sin(b/180*Math.PI),y=u+(g+a)*Math.cos(b/180*Math.PI);if(180==b||0===b)E="middle",w-=5;0>b&&(E="end",w-=10),180==b&&(y-=5),0===b&&(y+=5),b=e.text(n.container,d[m].category,p,l,h,E),b.translate(w+5,y),this.set.push(b),e.setCN(n,b,t.bcn+"title")}}}}})}(),function(){var e=window.AmCharts;e.RadItem=e.Class({construct:function(t,n,r,i,s,o,u,a){i=t.chart,void 0===r&&(r="");var f=t.chart.fontFamily,l=t.fontSize;void 0===l&&(l=t.chart.fontSize);var h=t.color;void 0===h&&(h=t.chart.color);var p=t.chart.container;this.set=s=p.set();var d=t.axisColor,v=t.axisAlpha,m=t.tickLength,g=t.gridAlpha,y=t.gridThickness,b=t.gridColor,w=t.dashLength,E=t.fillColor,S=t.fillAlpha,x=t.labelsEnabled;o=t.counter;var T=t.inside,N=t.gridType,C,k=t.labelOffset,L;n-=t.height;var A,O=t.x,M=t.y;u?(x=!0,void 0!==u.id&&(L=i.classNamePrefix+"-guide-"+u.id),isNaN(u.tickLength)||(m=u.tickLength),void 0!=u.lineColor&&(b=u.lineColor),isNaN(u.lineAlpha)||(g=u.lineAlpha),isNaN(u.dashLength)||(w=u.dashLength),isNaN(u.lineThickness)||(y=u.lineThickness),!0===u.inside&&(T=!0),void 0!==u.boldLabel&&(a=u.boldLabel)):r||(g/=3,m/=2);var _="end",D=-1;T&&(_="start",D=1);var P;x&&(P=e.text(p,r,h,f,l,_,a),P.translate(O+(m+3+k)*D,n),s.push(P),e.setCN(i,P,t.bcn+"label"),u&&e.setCN(i,P,"guide"),e.setCN(i,P,L,!0),this.label=P,A=e.line(p,[O,O+m*D],[n,n],d,v,y),s.push(A),e.setCN(i,A,t.bcn+"tick"),u&&e.setCN(i,A,"guide"),e.setCN(i,A,L,!0)),n=Math.round(t.y-n),a=[],f=[];if(0<g){if("polygons"==N){C=t.data.length;for(l=0;l<C;l++)h=180-360/C*l,a.push(n*Math.sin(h/180*Math.PI)),f.push(n*Math.cos(h/180*Math.PI));a.push(a[0]),f.push(f[0]),g=e.line(p,a,f,b,g,y,w)}else g=e.circle(p,n,"#FFFFFF",0,y,b,g);g.translate(O,M),s.push(g),e.setCN(i,g,t.bcn+"grid"),e.setCN(i,g,L,!0),u&&e.setCN(i,g,"guide")}if(1==o&&0<S&&!u&&""!==r){u=t.previousCoord;if("polygons"==N){for(l=C;0<=l;l--)h=180-360/C*l,a.push(u*Math.sin(h/180*Math.PI)),f.push(u*Math.cos(h/180*Math.PI));C=e.polygon(p,a,f,E,S)}else C=e.wedge(p,0,0,0,360,n,n,u,0,{fill:E,"fill-opacity":S,stroke:"#000","stroke-opacity":0,"stroke-width":1});s.push(C),C.translate(O,M),e.setCN(i,C,t.bcn+"fill"),e.setCN(i,C,L,!0)}!1===t.visible&&(A&&A.hide(),P&&P.hide()),""!==r&&(t.counter=0===o?1:0,t.previousCoord=n)},graphics:function(){return this.set},getLabel:function(){return this.label}})}(),function(){var e=window.AmCharts;e.RadarFill=e.Class({construct:function(t,n,r,i){n-=t.axisWidth,r-=t.axisWidth;var s=Math.max(n,r);n=r=Math.min(n,r),r=t.chart;var o=r.container,u=i.fillAlpha,a=i.fillColor,s=Math.abs(s-t.y);n=Math.abs(n-t.y);var f=Math.max(s,n);n=Math.min(s,n);var s=f,f=i.angle+90,l=i.toAngle+90;isNaN(f)&&(f=0),isNaN(l)&&(l=360),this.set=o.set(),void 0===a&&(a="#000000"),isNaN(u)&&(u=0);if("polygons"==t.gridType){var l=[],h=[],p=t.data.length,d;for(d=0;d<p;d++)f=180-360/p*d,l.push(s*Math.sin(f/180*Math.PI)),h.push(s*Math.cos(f/180*Math.PI));l.push(l[0]),h.push(h[0]);for(d=p;0<=d;d--)f=180-360/p*d,l.push(n*Math.sin(f/180*Math.PI)),h.push(n*Math.cos(f/180*Math.PI));o=e.polygon(o,l,h,a,u)}else o=e.wedge(o,0,0,f,l-f,s,s,n,0,{fill:a,"fill-opacity":u,stroke:"#000","stroke-opacity":0,"stroke-width":1});e.setCN(r,o,"guide-fill"),i.id&&e.setCN(r,o,"guide-fill-"+i.id),this.set.push(o),o.translate(t.x,t.y),this.fill=o},graphics:function(){return this.set},getLabel:function(){}})}(),define("amcharts.radar",["amcharts"],function(e){return function(){var t,n;return n=function(){AmCharts.isReady=!0},t=n.apply(e,arguments),t||e.AmCharts}}(this)),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/CommonRadar",["d3","../common/HTMLWidget","amcharts.radar"],t):e.amchart_CommonRadar=t(e.d3,e.common_HTMLWidget,e.AmCharts)}(this,function(e,t,n){function r(){t.call(this),this._tag="div",this._chart={}}return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype._class+=" amchart_CommonRadar",r.prototype.publish("fontSize",null,"number","Font Size",null,{tags:["Basic","Shared"]}),r.prototype.publish("fontFamily",null,"string","Font Name",null,{tags:["Basic","Shared"]}),r.prototype.publish("fontColor",null,"html-color","Font Color",null,{tags:["Basic","Shared"]}),r.prototype.publish("lineWidth",2,"number","Line Thickness",null,{min:0,max:10,step:1,inputType:"range",tags:["Basic","Shared"]}),r.prototype.publish("lineOpacity",1,"number","Line Opacity",null,{min:0,max:1,step:.001,inputType:"range",tags:["Basic","Shared"]}),r.prototype.publish("dashedLineStyle",0,"number","",null,{tags:["Advanced","Shared"]}),r.prototype.publish("yAxisBaselineColor",null,"html-color","Axis color",null,{tags:["Intermediate","Shared"]}),r.prototype.publish("axisFontSize",null,"number","Size of value labels text. Will use chart's fontSize if not set.",null,{tags:["Basic","Shared"]}),r.prototype.publish("yAxisFontColor",null,"string","Font Name",null,{tags:["Basic","Shared"]}),r.prototype.publish("yAxisTitle","","string","Y-Axis Title",null,{tags:["Basic","Shared"]}),r.prototype.publish("yAxisTitleFontColor",null,"html-color","Color of axis value labels. Will use chart's color if not set.",null,{tags:["Basic","Shared"]}),r.prototype.publish("yAxisTitleFontSize",null,"html-color","Font Size of axis value labels. Will use chart's color if not set.",null,{tags:["Basic","Shared"]}),r.prototype.publish("axisLineWidth",1,"number","Thickness of axis",null,{tags:["Basic","Shared"]}),r.prototype.publish("marginLeft",null,"number","Margin (Left)",null,{tags:["Intermediate"]}),r.prototype.publish("marginRight",null,"number","Margin (Right)",null,{tags:["Intermediate"]}),r.prototype.publish("marginTop",null,"number","Margin (Top)",null,{tags:["Intermediate"]}),r.prototype.publish("marginBottom",null,"number","Margin (Bottom)",null,{tags:["Intermediate"]}),r.prototype.publish("showScrollbar",!1,"boolean","Chart Scrollbar",null,{tags:["Intermediate"]}),r.prototype.publish("startDuration",.3,"number","Start Duration (sec)",null,{tags:["Private"]}),r.prototype.publish("dataDateFormat",null,"string","Date Format String",null,{tags:["Private"]}),r.prototype.publish("yAxisAutoGridCount",!0,"boolean","Specifies whether number of gridCount is specified automatically, acoarding to the axis size",null,{tags:["Advanced"]}),r.prototype.publish("yAxisGridPosition","start","set","Specifies if a grid line is placed on the center of a cell or on the beginning of a cell",["start","middle"],{tags:["Advanced"]}),r.prototype.publish("yAxisMinimum",[],"array","",null,{tags:["Advanced"]}),r.prototype.publish("yAxisTitleOffset",[],"array","",null,{tags:["Advanced"]}),r.prototype.publish("yAxisDashLength",[],"array","Length of a dash. 0 means line is not dashed.",null,{tags:["Advanced"]}),r.prototype.publish("axisAlpha",1,"number","Axis opacity",null,{tags:["Intermediate"]}),r.prototype.publish("circularGrid",!1,"boolean","Circular Grid",null,{tags:["Intermediate"]}),r.prototype.publish("bulletSize",9,"number","Bullet Size",null,{tags:["Intermediate"]}),r.prototype.publish("bulletType","round","set","Bullet Type",["none","round","square","triangleUp","triangleDown","triangleLeft","triangleRight","bubble","diamond"],{tags:["Intermediate"]}),r.prototype.publish("fillOpacity",.3,"number","Shape Opacity",null,{min:0,max:1,step:.001,inputType:"range",tags:["Intermediate"]}),r.prototype.publish("useClonedPalette",!1,"boolean","Enable or disable using a cloned palette",null,{tags:["Intermediate","Shared"]}),r.prototype.updateChartOptions=function(){var e=this;return this.dataDateFormat()&&(this._chart.dataDateFormat=this.dataDateFormat()),this._chart.theme="none",this._chart.type="radar",this._chart.startDuration=this.startDuration(),this._chart.categoryField=this._categoryField,this._chart.color=this.fontColor(),this._chart.fontSize=this.fontSize(),this._chart.fontFamily=this.fontFamily(),this.marginLeft()&&(this._chart.marginLeft=this.marginLeft()),this.marginRight()&&(this._chart.marginRight=this.marginRight()),this.marginTop()&&(this._chart.marginTop=this.marginTop()),this.marginBottom()&&(this._chart.marginBottom=this.marginBottom()),this.titles=[],this._chart.dataProvider=this.formatData(this._data),this._chart.valueAxes[0].title=this.yAxisTitle(),this._chart.valueAxes[0].axisTitleOffset=this.yAxisTitleOffset(),this._chart.valueAxes[0].minimum=this.yAxisMinimum(),this._chart.valueAxes[0].axisAlpha=this.axisAlpha(),this._chart.valueAxes[0].dashLength=this.yAxisDashLength()||this.dashedLineStyle(),this._chart.valueAxes[0].axisColor=this.yAxisBaselineColor(),this._chart.valueAxes[0].axisThickness=this.axisLineWidth(),this._chart.valueAxes[0].titleColor=this.yAxisTitleFontColor(),this._chart.valueAxes[0].titleFontSize=this.yAxisTitleFontSize(),this._chart.valueAxes[0].fontSize=this.axisFontSize(),this._chart.valueAxes[0].color=this.yAxisFontColor(),this._chart.valueAxes[0].autoGridCount=this.yAxisAutoGridCount(),this._chart.valueAxes[0].gridPosition=this.yAxisGridPosition(),this._chart.colors=this._columns.filter(function(e,t){return t>0}).map(function(e){return this._palette(e)},this),this.circularGrid()&&this._chart.valueAxes.forEach(function(t,n){e._chart.valueAxes[n].gridType="circles"}),this.showScrollbar()?this._chart.chartScrollbar.enabled=!0:this._chart.chartScrollbar.enabled=!1,this._chart},r.prototype.buildGraphObj=function(e,t){var n=this,r={};return r.balloonText=n.tooltipTemplate(),r.fillAlphas=n.fillOpacity(),r.lineAlpha=n.lineOpacity(),r.lineThickness=n.lineWidth(),r.bullet=n.bulletType(),r.bulletSize=n.bulletSize(),r.dashLength=n.dashedLineStyle(),r.type=e,r.title="",r},r.prototype.formatData=function(e){var t=[],n=this;return e.forEach(function(e){var r={};n._columns.forEach(function(t,n){r[t]=e[n]}),t.push(r)}),t},r.prototype.columns=function(e){if(!arguments.length)return this._columns;var n=this,r=t.prototype.columns.apply(this,arguments);return arguments.length?(this._categoryField=e[0],this._valueField=[],e.slice(1,e.length).forEach(function(e){n._valueField.push(e)}),this._columns=e,this):r},r.prototype.enter=function(e,r){t.prototype.enter.apply(this,arguments);var i=this,s={theme:"none",type:"radar",chartScrollbar:{}};this._chart=n.makeChart(e,s),this._chart.addListener("clickGraphItem",function(e){i.click(i.rowToObj(i._data[e.index]),i._columns[e.target.index+1])})},r.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),e.style.width=this.size().width+"px",e.style.height=this.size().height+"px",this._palette=this._palette.switch(this.paletteID()),this.useClonedPalette()&&(this._palette=this._palette.cloneNotExists(this.paletteID()+"_"+this.id()))},r}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/FloatingColumn",["d3","./CommonSerial","amcharts.serial","../api/INDChart"],t):e.amchart_FloatingColumn=t(e.d3,e.amchart_CommonSerial,e.amcharts,e.api_INDChart)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._gType="column"}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_FloatingColumn",i.prototype.implements(r.prototype),i.prototype.publish("paletteID","Dark2","set","Palette ID",i.prototype._palette.switch(),{tags:["Basic","Shared"]}),i.prototype.publish("isStacked",!0,"boolean","Stacked",null,{tags:["Basic","Shared"]}),i.prototype.publish("fillOpacity",.7,"number","Opacity of The Fill Color",null,{min:0,max:1,step:.001,inputType:"range",tags:["Intermediate","Shared"]}),i.prototype.publish("paletteGrouping","By Column","set","Palette Grouping",["By Category","By Column"],{tags:["Intermediate"]}),i.prototype.publish("columnWidth",.62,"number","Bar Width",null,{tags:["Basic"]}),i.prototype.publish("Depth3D",0,"number","3D Depth (px)",null,{tags:["Basic"]}),i.prototype.publish("Angle3D",0,"number","3D Angle (Deg)",null,{tags:["Basic"]}),i.prototype.publish("stackType","regular","set","Stack Type",["none","regular","100%"],{tags:["Basic"]}),i.prototype.publish("tooltipTemplate","[[category]]([[title]]): [[value]]","string","Tooltip Text",null,{tags:["Intermediate"]}),i.prototype.testData=function(){return this.columns(["Subject","open","close"]),this.data([["Geography",15,35],["English",25,45],["Math",10,35],["Science",45,60]]),this},i.prototype.columns=function(e){if(!arguments.length)return this._columns;var t=this;return this._categoryField=e[0],this._openField=[],this._closeField=[],this._valueField=[],e.slice(1,e.length).forEach(function(e,n){n%2?(t._closeField.push(e),t._valueField.push(e)):t._openField.push(e)}),this._columns=e,this},i.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},i.prototype.updateChartOptions=function(){t.prototype.updateChartOptions.apply(this,arguments),this._chart.depth3D=this.Depth3D(),this._chart.angle=this.Angle3D(),this._chart.categoryAxis.startOnAxis=!1;var e=this;switch(this.paletteGrouping()){case"By Category":this._chart.dataProvider.forEach(function(t,n){e._chart.dataProvider[n].color=e._palette(n),e._chart.dataProvider[n].linecolor=e.lineColor()!==null?e.lineColor():e._palette(n)}),this._chart.colors=[];break;case"By Column":this._chart.colors=this._columns.filter(function(e,t){return t>0}).map(function(e){return this._palette(e)},this);break;default:this._chart.colors=this._columns.filter(function(e,t){return t>0}).map(function(e){return this._palette(e)},this)}this.buildGraphs(this._gType)},i.prototype.buildGraphs=function(e){function a(e){return this.columnWidth()&&(e.columnWidth=this.columnWidth()),this.paletteGrouping()==="By Category"&&(e.colorField="color",e.lineColorField="linecolor"),e.fillAlphas=this.fillOpacity(),e}typeof this._chart.graphs=="undefined"&&(this._chart.graphs=[]);var n=this._chart.graphs.length,r=Math.max(n,this._openField.length);for(var i=0;i<r;i++)if(typeof this._openField!="undefined"&&typeof this._openField[i]!="undefined"){var s=t.prototype.buildGraphObj.call(this,e,i),o=a.call(this,s);if(typeof this._chart.graphs[i]!="undefined")for(var u in o)this._chart.graphs[i][u]=o[u];else this._chart.addGraph(o)}else this._chart.removeGraph(this._chart.graphs[i])},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},i}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Funnel",["d3","./CommonFunnel","../api/I2DChart"],t):e.amchart_Funnel=t(e.d3,e.amchart_CommonFunnel,e.api_I2DChart)}(this,function(e,t,n){function r(){t.call(this)}return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype._class+=" amchart_Funnel",r.prototype.implements(n.prototype),r.prototype.publish("paletteID","default","set","Palette ID",r.prototype._palette.switch(),{tags:["Basic","Shared"]}),r.prototype.publish("neckHeightPercent",30,"number","Neck Height %",null,{tags:["Basic"]}),r.prototype.publish("neckWidthPercent",40,"number","Neck Width %",null,{tags:["Basic"]}),r.prototype.publish("tooltipTemplate","[[category]]([[title]]): [[value]]","string","Tooltip Text",null,{tags:["Basic"]}),r.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},r.prototype.updateChartOptions=function(){t.prototype.updateChartOptions.apply(this,arguments),this._chart.balloonText=this.tooltipTemplate(),this._chart.neckHeight=this.neckHeightPercent()+"%",this._chart.neckWidth=this.neckWidthPercent()+"%"},r.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},r}),function(){var e=window.AmCharts;e.GaugeAxis=e.Class({construct:function(t){this.cname="GaugeAxis",this.radius="95%",this.createEvents("rollOverBand","rollOutBand","clickBand"),this.labelsEnabled=!0,this.startAngle=-120,this.endAngle=120,this.startValue=0,this.endValue=200,this.gridCount=5,this.tickLength=10,this.minorTickLength=5,this.tickColor="#555555",this.labelFrequency=this.tickThickness=this.tickAlpha=1,this.inside=!0,this.labelOffset=10,this.showLastLabel=this.showFirstLabel=!0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridInside=!0,this.topTextYOffset=0,this.topTextBold=!0,this.bottomTextYOffset=0,this.bottomTextBold=!0,this.centerY=this.centerX="0%",this.bandOutlineAlpha=this.bandOutlineThickness=0,this.bandOutlineColor="#000000",this.bandAlpha=1,this.bcn="gauge-axis",e.applyTheme(this,t,"GaugeAxis")},value2angle:function(e){return(e-this.startValue)/(this.endValue-this.startValue)*(this.endAngle-this.startAngle)+this.startAngle},setTopText:function(t){if(void 0!==t){this.topText=t;var n=this.chart;if(this.axisCreated){this.topTF&&this.topTF.remove();var r=this.topTextFontSize;r||(r=n.fontSize);var i=this.topTextColor;i||(i=n.color),t=e.text(n.container,t,i,n.fontFamily,r,void 0,this.topTextBold),e.setCN(n,t,"axis-top-label"),t.translate(this.centerXReal,this.centerYReal-this.radiusReal/2+this.topTextYOffset),this.set.push(t),this.topTF=t}}},setBottomText:function(t){if(void 0!==t){this.bottomText=t;var n=this.chart;if(this.axisCreated){this.bottomTF&&this.bottomTF.remove();var r=this.bottomTextFontSize;r||(r=n.fontSize);var i=this.bottomTextColor;i||(i=n.color),t=e.text(n.container,t,i,n.fontFamily,r,void 0,this.bottomTextBold),e.setCN(n,t,"axis-bottom-label"),t.translate(this.centerXReal,this.centerYReal+this.radiusReal/2+this.bottomTextYOffset),this.bottomTF=t,this.set.push(t)}}},draw:function(){var t=this.chart,n=t.container.set();this.set=n,e.setCN(t,n,this.bcn),e.setCN(t,n,this.bcn+"-"+this.id),t.graphsSet.push(n);var r=this.startValue,i=this.endValue,s=this.valueInterval;isNaN(s)&&(s=(i-r)/this.gridCount);var o=this.minorTickInterval;isNaN(o)&&(o=s/5);var u=this.startAngle,a=this.endAngle,f=this.tickLength,i=(i-r)/s+1,l=(a-u)/(i-1),h=l/s;this.singleValueAngle=h;var p=t.container,d=this.tickColor,v=this.tickAlpha,m=this.tickThickness,o=s/o,g=l/o,y=this.minorTickLength,b=this.labelFrequency,w=this.radiusReal;this.inside||(w-=15);var E=t.centerX+e.toCoordinate(this.centerX,t.realWidth),S=t.centerY+e.toCoordinate(this.centerY,t.realHeight);this.centerXReal=E,this.centerYReal=S;var x={fill:this.axisColor,"fill-opacity":this.axisAlpha,"stroke-width":0,"stroke-opacity":0},T,N;this.gridInside?N=T=w:(T=w-f,N=T+y);var C=this.bands;if(C)for(var k=0;k<C.length;k++){var L=C[k];if(L){var A=L.startValue,O=L.endValue,M=e.toCoordinate(L.radius,w);isNaN(M)&&(M=N);var _=e.toCoordinate(L.innerRadius,w);isNaN(_)&&(_=M-y);var D=u+h*(A-this.startValue),O=h*(O-A),P=L.outlineColor;void 0==P&&(P=this.bandOutlineColor);var H=L.outlineThickness;isNaN(H)&&(H=this.bandOutlineThickness);var B=L.outlineAlpha;isNaN(B)&&(B=this.bandOutlineAlpha),A=L.alpha,isNaN(A)&&(A=this.bandAlpha),P={fill:L.color,stroke:P,"stroke-width":H,"stroke-opacity":B},L.url&&(P.cursor="pointer"),M=e.wedge(p,E,S,D,O,M,M,_,0,P),e.setCN(t,M.wedge,"axis-band"),void 0!==L.id&&e.setCN(t,M.wedge,"axis-band-"+L.id),M.setAttr("opacity",A),this.set.push(M),this.addEventListeners(M,L)}}h=this.axisThickness/2,a=e.wedge(p,E,S,u,a-u,T+h,T+h,T-h,0,x),e.setCN(t,a.wedge,"axis-line"),n.push(a),a=e.doNothing,e.isModern||(a=Math.round),s=e.roundTo(s,14),h=e.getDecimals(s);for(x=0;x<i;x++)if(C=r+x*s,T=u+x*l,k=a(E+w*Math.sin(T/180*Math.PI)),L=a(S-w*Math.cos(T/180*Math.PI)),M=a(E+(w-f)*Math.sin(T/180*Math.PI)),_=a(S-(w-f)*Math.cos(T/180*Math.PI)),k=e.line(p,[k,M],[L,_],d,v,m,0,!1,!1,!0),e.setCN(t,k,"axis-tick"),n.push(k),k=-1,M=this.labelOffset,this.inside||(M=-M-f,k=1),L=Math.sin(T/180*Math.PI),_=Math.cos(T/180*Math.PI),L=E+(w-f-M)*L,M=S-(w-f-M)*_,A=this.fontSize,isNaN(A)&&(A=t.fontSize),_=Math.sin((T-90)/180*Math.PI),D=Math.cos((T-90)/180*Math.PI),0<b&&this.labelsEnabled&&x/b==Math.round(x/b)&&(this.showLastLabel||x!=i-1)&&(this.showFirstLabel||0!==x)&&(O=this.usePrefixes?e.addPrefix(C,t.prefixesOfBigNumbers,t.prefixesOfSmallNumbers,t.nf,!0):e.formatNumber(C,t.nf,h),(P=this.unit)&&(O="left"==this.unitPosition?P+O:O+P),(P=this.labelFunction)&&(O=P(C)),C=e.text(p,O,t.color,t.fontFamily,A),e.setCN(t,C,"axis-label"),A=C.getBBox(),C.translate(L+k*A.width/2*D,M+k*A.height/2*_),n.push(C)),x<i-1)for(C=1;C<o;C++)_=T+g*C,k=a(E+N*Math.sin(_/180*Math.PI)),L=a(S-N*Math.cos(_/180*Math.PI)),M=a(E+(N-y)*Math.sin(_/180*Math.PI)),_=a(S-(N-y)*Math.cos(_/180*Math.PI)),k=e.line(p,[k,M],[L,_],d,v,m,0,!1,!1,!0),e.setCN(t,k,"axis-tick-minor"),n.push(k);this.axisCreated=!0,this.setTopText(this.topText),this.setBottomText(this.bottomText),t=t.graphsSet.getBBox(),this.width=t.width,this.height=t.height},addListeners:function(e,t){var n=this;t.mouseover(function(e){}).mouseout(function(t){n.fireEvent("rollOutBand",e,t)}).touchend(function(t){n.fireEvent("clickBand",e,t)}).touchstart(function(t){n.fireEvent("rollOverBand",e,t)}).click(function(t){n.fireEvent("clickBand",e,t)})},fireEvent:function(e,t,n){e={type:e,dataItem:t,chart:this,event:n},this.fire(e.type,e)},addEventListeners:function(t,n){var r=this,i=r.chart;t.mouseover(function(e){i.showBalloon(n.balloonText,n.color,!0),r.fireEvent("rollOverBand",n,e)}).mouseout(function(e){i.hideBalloon(),r.fireEvent("rollOutBand",n,e)}).click(function(t){r.fireEvent("clickBand",n,t),e.getURL(n.url,i.urlTarget)}).touchend(function(t){r.fireEvent("clickBand",n,t),e.getURL(n.url,i.urlTarget)})}})}(),function(){var e=window.AmCharts;e.GaugeArrow=e.Class({construct:function(t){this.cname="GaugeArrow",this.color="#000000",this.nailAlpha=this.alpha=1,this.startWidth=this.nailRadius=8,this.endWidth=0,this.borderAlpha=1,this.radius="90%",this.nailBorderAlpha=this.innerRadius=0,this.nailBorderThickness=1,this.frame=0,e.applyTheme(this,t,"GaugeArrow")},setValue:function(e){var t=this.chart;t?t.setValue?t.setValue(this,e):this.previousValue=this.value=e:this.previousValue=this.value=e}}),e.GaugeBand=e.Class({construct:function(){this.cname="GaugeBand"}})}(),function(){var e=window.AmCharts;e.AmAngularGauge=e.Class({inherits:e.AmChart,construct:function(t){this.cname="AmAngularGauge",e.AmAngularGauge.base.construct.call(this,t),this.theme=t,this.type="gauge",this.minRadius=this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=10,this.faceColor="#FAFAFA",this.faceAlpha=0,this.faceBorderWidth=1,this.faceBorderColor="#555555",this.faceBorderAlpha=0,this.arrows=[],this.axes=[],this.startDuration=1,this.startEffect="easeOutSine",this.adjustSize=!0,this.extraHeight=this.extraWidth=0,e.applyTheme(this,t,this.cname)},addAxis:function(e){this.axes.push(e)},formatString:function(t,n){return t=e.formatValue(t,n,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers)},initChart:function(){e.AmAngularGauge.base.initChart.call(this);var t;0===this.axes.length&&(t=new e.GaugeAxis(this.theme),this.addAxis(t));var n;for(n=0;n<this.axes.length;n++)t=this.axes[n],t=e.processObject(t,e.GaugeAxis,this.theme),t.id||(t.id="axisAuto"+n+"_"+(new Date).getTime()),t.chart=this,this.axes[n]=t;var r=this.arrows;for(n=0;n<r.length;n++){t=r[n],t=e.processObject(t,e.GaugeArrow,this.theme),t.id||(t.id="arrowAuto"+n+"_"+(new Date).getTime()),t.chart=this,r[n]=t;var i=t.axis;e.isString(i)&&(t.axis=e.getObjById(this.axes,i)),t.axis||(t.axis=this.axes[0]),isNaN(t.value)&&t.setValue(t.axis.startValue),isNaN(t.previousValue)&&(t.previousValue=t.axis.startValue)}this.setLegendData(r),this.drawChart(),this.totalFrames=1e3*this.startDuration/e.updateRate},drawChart:function(){e.AmAngularGauge.base.drawChart.call(this);var t=this.container,n=this.updateWidth();this.realWidth=n;var r=this.updateHeight();this.realHeight=r;var i=e.toCoordinate,s=i(this.marginLeft,n),o=i(this.marginRight,n),u=i(this.marginTop,r)+this.getTitleHeight(),a=i(this.marginBottom,r),f=i(this.radius,n,r),i=n-s-o,l=r-u-a+this.extraHeight;f||(f=Math.min(i,l)/2),f<this.minRadius&&(f=this.minRadius),this.radiusReal=f,this.centerX=(n-s-o)/2+s,this.centerY=(r-u-a)/2+u+this.extraHeight/2,isNaN(this.gaugeX)||(this.centerX=this.gaugeX),isNaN(this.gaugeY)||(this.centerY=this.gaugeY);var n=this.faceAlpha,r=this.faceBorderAlpha,h;if(0<n||0<r)h=e.circle(t,f,this.faceColor,n,this.faceBorderWidth,this.faceBorderColor,r,!1),h.translate(this.centerX,this.centerY),h.toBack(),(t=this.facePattern)&&h.pattern(t,NaN,this.path);for(n=f=t=0;n<this.axes.length;n++)r=this.axes[n],s=r.radius,r.radiusReal=e.toCoordinate(s,this.radiusReal),r.draw(),o=1,-1!==String(s).indexOf("%")&&(o=1+(100-Number(s.substr(0,s.length-1)))/100),r.width*o>t&&(t=r.width*o),r.height*o>f&&(f=r.height*o);(n=this.legend)&&n.invalidateSize();if(this.adjustSize&&!this.chartCreated){h&&(h=h.getBBox(),h.width>t&&(t=h.width),h.height>f&&(f=h.height)),h=0;if(l>f||i>t)h=Math.min(l-f,i-t);0<h&&(this.extraHeight=l-f,this.chartCreated=!0,this.validateNow())}i=this.arrows.length;for(n=0;n<i;n++)l=this.arrows[n],l.drawnAngle=NaN;this.dispDUpd()},validateSize:function(){this.extraHeight=this.extraWidth=0,this.chartCreated=!1,e.AmAngularGauge.base.validateSize.call(this)},addArrow:function(e){this.arrows.push(e)},removeArrow:function(t){e.removeFromArray(this.arrows,t),this.validateNow()},removeAxis:function(t){e.removeFromArray(this.axes,t),this.validateNow()},drawArrow:function(t,n){t.set&&t.set.remove();var r=this.container;t.set=r.set(),e.setCN(this,t.set,"gauge-arrow"),e.setCN(this,t.set,"gauge-arrow-"+t.id);if(!t.hidden){var i=t.axis,s=i.radiusReal,o=i.centerXReal,u=i.centerYReal,a=t.startWidth,f=t.endWidth,l=e.toCoordinate(t.innerRadius,i.radiusReal),h=e.toCoordinate(t.radius,i.radiusReal);i.inside||(h-=15);var p=t.nailColor;p||(p=t.color);var d=t.nailColor;d||(d=t.color),0<t.nailRadius&&(p=e.circle(r,t.nailRadius,p,t.nailAlpha,t.nailBorderThickness,p,t.nailBorderAlpha),e.setCN(this,p,"gauge-arrow-nail"),t.set.push(p),p.translate(o,u)),isNaN(h)&&(h=s-i.tickLength);var i=Math.sin(n/180*Math.PI),s=Math.cos(n/180*Math.PI),p=Math.sin((n+90)/180*Math.PI),v=Math.cos((n+90)/180*Math.PI),r=e.polygon(r,[o-a/2*p+l*i,o+h*i-f/2*p,o+h*i+f/2*p,o+a/2*p+l*i],[u+a/2*v-l*s,u-h*s+f/2*v,u-h*s-f/2*v,u-a/2*v-l*s],t.color,t.alpha,1,d,t.borderAlpha,void 0,!0);e.setCN(this,r,"gauge-arrow"),t.set.push(r),this.graphsSet.push(t.set)}},setValue:function(e,t){e.axis&&e.axis.value2angle&&(e.frame=0,e.previousValue=e.value),e.value=t;var n=this.legend;n&&n.updateValues()},handleLegendEvent:function(e){var t=e.type;e=e.dataItem;if(!this.legend.data&&e)switch(t){case"hideItem":this.hideArrow(e);break;case"showItem":this.showArrow(e)}},hideArrow:function(e){e.set.hide(),e.hidden=!0},showArrow:function(e){e.set.show(),e.hidden=!1},updateAnimations:function(){e.AmAngularGauge.base.updateAnimations.call(this);for(var t=this.arrows.length,n,r=0;r<t;r++)if(n=this.arrows[r],n.axis&&n.axis.value2angle){var i;n.frame>=this.totalFrames?i=n.value:(n.frame++,n.clockWiseOnly&&n.value<n.previousValue&&(i=n.axis,n.previousValue-=i.endValue-i.startValue),i=e.getEffect(this.startEffect),i=e[i](0,n.frame,n.previousValue,n.value-n.previousValue,this.totalFrames),isNaN(i)&&(i=n.value)),i=n.axis.value2angle(i),n.drawnAngle!=i&&(this.drawArrow(n,i),n.drawnAngle=i)}}})}(),define("amcharts.gauge",["amcharts"],function(e){return function(){var t,n;return n=function(){AmCharts.isReady=!0},t=n.apply(e,arguments),t||e.AmCharts}}(this)),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Gauge",["d3","../common/HTMLWidget","amcharts.gauge","../api/I1DChart"],t):e.amchart_Gauge=t(e.d3,e.common_HTMLWidget,e.AmCharts,e.api_I1DChart)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._chart={}}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_Gauge",i.prototype.implements(r.prototype),i.prototype.publish("paletteID","default","set","Palette ID",i.prototype._palette.switch(),{tags:["Basic","Shared"]}),i.prototype.publish("low",0,"number","Gauge lower bound",null,{tags:["Intermediate","Shared"]}),i.prototype.publish("high",100,"number","Gauge higher bound",null,{tags:["Intermediate","Shared"]}),i.prototype.publish("fontSize",null,"number","Font Size",null,{tags:["Basic","Shared"]}),i.prototype.publish("fontFamily",null,"string","Font Name",null,{tags:["Basic","Shared","Shared"]}),i.prototype.publish("fontColor",null,"html-color","Font Color",null,{tags:["Basic","Shared"]}),i.prototype.publish("axisLineWidth",1,"number","Thickness of axis",null,{tags:["Intermediate"]}),i.prototype.publish("colorType","a","set","",["a","b","c"],{tags:["Basic"]}),i.prototype.publish("marginLeft",null,"number","Margin (Left)",null,{tags:["Intermediate"]}),i.prototype.publish("marginRight",null,"number","Margin (Right)",null,{tags:["Intermediate"]}),i.prototype.publish("marginTop",null,"number","Margin (Top)",null,{tags:["Intermediate"]}),i.prototype.publish("marginBottom",null,"number","Margin (Bottom)",null,{tags:["Intermediate"]}),i.prototype.publish("numBands",null,"number","",null,{tags:["Intermediate"]}),i.prototype.publish("bandsColor",[],"array","Bands Color",null,{tags:["Basic"]}),i.prototype.publish("bandsStartValue",[],"array","Bands Start Value",null,{tags:["Advanced"]}),i.prototype.publish("bandsEndValue",[],"array","Bands End Value",null,{tags:["Advanced"]}),i.prototype.publish("bandsInnerRadius",[],"array","Bands Inner Radius",null,{tags:["Advanced"]}),i.prototype.publish("axisAlpha",.2,"number","Axis Alpha",null,{tags:["Intermediate"]}),i.prototype.publish("tickAlpha",.2,"number","Tick Alpha",null,{tags:["Intermediate"]}),i.prototype.publish("valueInterval",20,"number","Value Interval",null,{tags:["Advanced"]}),i.prototype.publish("bottomText","","string","Text Along Bottom",null,{tags:["Intermediate"]}),i.prototype.publish("bottomTextYOffset",-20,"number","Bottom Text Vertical Offset",null,{tags:["Intermediate"]}),i.prototype.publish("animatationDuration",2,"number","Animation Duration (sec)",null,{tags:["Intermediate"]}),i.prototype.publish("useClonedPalette",!1,"boolean","Enable or disable using a cloned palette",null,{tags:["Intermediate","Shared"]}),i.prototype.updateChartOptions=function(){this._chart.type="gauge",this._chart.theme="none",this._chart.startDuration=this.animatationDuration(),this._chart.color=this.fontColor(),this._chart.fontSize=this.fontSize(),this._chart.fontFamily=this.fontFamily(),this._chart.titles=[],this._chart.allLabels=[],this.marginLeft()&&(this._chart.marginLeft=this.marginLeft()),this.marginRight()&&(this._chart.marginRight=this.marginRight()),this.marginTop()&&(this._chart.marginTop=this.marginTop()),this.marginBottom()&&(this._chart.marginBottom=this.marginBottom()),this._chart.axes[0].axisThickness=this.axisLineWidth(),this._chart.axes[0].axisAlpha=this.axisAlpha(),this._chart.axes[0].tickAlpha=this.tickAlpha(),this._chart.axes[0].valueInterval=this.valueInterval(),this._chart.axes[0].bands=[],this._chart.axes[0].bottomText=this.bottomText(),this._chart.axes[0].bottomTextYOffset=this.bottomTextYOffset(),this._chart.axes[0].endValue=this.high(),this._chart.axes[0].startValue=this.low();var e,t;if(this.colorType()==="a")for(e=0,t=this.numBands();e<t;e++){var n={color:this.bandsColor()[e],startValue:this.bandsStartValue()[e],endValue:this.bandsEndValue()[e],innerRadius:this.bandsInnerRadius()[e]};this._chart.axes[0].bands.push(n)}if(this.colorType()==="b")for(e=0,t=this.high();e<t;e++){var r={color:this._palette(e,this.low(),this.high()),startValue:e,endValue:e+1,innerRadius:this.bandsInnerRadius()[0]};this._chart.axes[0].bands.push(r)}if(this.colorType()==="c"){var i={color:this._palette(this._data,this.low(),this.high()),startValue:this.low(),endValue:this.high(),innerRadius:this.bandsInnerRadius()[0]};this._chart.axes[0].bands.push(i)}return this._chart.axes[0].bottomText=this.bottomText().replace("[[data]]",this._data),this._chart},i.prototype.update=function(e,t){this._palette=this._palette.switch(this.paletteID()),this.useClonedPalette()&&(this._palette=this._palette.cloneNotExists(this.paletteID()+"_"+this.id())),e.style.width=this.size().width+"px",e.style.height=this.size().height+"px",this.updateChartOptions(),this._chart.arrows[0].setValue(this._data),this._chart.validateNow(),this._chart.validateData()},i.prototype.enter=function(e,t){e.style.width=this.size().width+"px",e.style.height=this.size().height+"px";var r={theme:"none",type:"gauge",axes:[{}],arrows:[{}]};this._chart=n.makeChart(e,r)},i.prototype.testData=function(){return this.numBands(3),this.bandsColor(["#84b761","#fdd400","#cc4748"]),this.bandsEndValue([90,130,220]),this.bandsStartValue([0,90,130]),this.bandsInnerRadius([null,null,"95%"]),this.bottomText("[[data]] km/h"),this.high(220),this.low(0),this.data(100),this.axisLineWidth(1),this.axisAlpha(.2),this.tickAlpha(.2),this.valueInterval(20),this},i}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Line",["d3","./CommonSerial","../api/INDChart"],t):e.amchart_Line=t(e.d3,e.amchart_CommonSerial,e.api_INDChart)}(this,function(e,t,n){function r(){t.call(this),this._tag="div",this._gType="line"}return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype._class+=" amchart_Line",r.prototype.implements(n.prototype),r.prototype.publish("paletteID","default","set","Palette ID",r.prototype._palette.switch(),{tags:["Basic","Shared"]}),r.prototype.publish("smoothLines",!1,"boolean","Causes chart data lines to draw smoothly",null,{tags:["Basic","Shared"]}),r.prototype.publish("stepLines",!1,"boolean","Causes chart data lines to draw smoothly",null,{tags:["Basic"]}),r.prototype.publish("tooltipTemplate","[[category]]([[title]]): [[value]]","string","Tooltip Text",null,{tags:["Basic"]}),r.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},r.prototype.updateChartOptions=function(){return t.prototype.updateChartOptions.apply(this,arguments),this._chart.colors=this._columns.filter(function(e,t){return t>0}).map(function(e){return this._palette(e)},this),this.buildGraphs(this._gType),this._chart},r.prototype.buildGraphs=function(e){function a(e){return this.stepLines()?e.type="step":this.smoothLines()?e.type="smoothedLine":e.type="line",e}typeof this._chart.graphs=="undefined"&&(this._chart.graphs=[]);var n=this._chart.graphs.length,r=Math.max(n,this._valueField.length);for(var i=0;i<r;i++)if(typeof this._valueField!="undefined"&&typeof this._valueField[i]!="undefined"){var s=t.prototype.buildGraphObj.call(this,e,i),o=a.call(this,s);if(typeof this._chart.graphs[i]!="undefined")for(var u in o)this._chart.graphs[i][u]=o[u];else this._chart.addGraph(o)}else this._chart.removeGraph(this._chart.graphs[i])},r.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},r}),function(){var e=window.AmCharts;e.AmPieChart=e.Class({inherits:e.AmSlicedChart,construct:function(t){this.type="pie",e.AmPieChart.base.construct.call(this,t),this.cname="AmPieChart",this.pieBrightnessStep=30,this.minRadius=10,this.depth3D=0,this.startAngle=90,this.angle=this.innerRadius=0,this.startRadius="500%",this.pullOutRadius="20%",this.labelRadius=20,this.labelText="[[title]]: [[percents]]%",this.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]",this.previousScale=1,this.adjustPrecision=!1,e.applyTheme(this,t,this.cname)},drawChart:function(){e.AmPieChart.base.drawChart.call(this);var t=this.chartData;if(e.ifArray(t)){if(0<this.realWidth&&0<this.realHeight){e.VML&&(this.startAlpha=1);var n=this.startDuration,r=this.container,i=this.updateWidth();this.realWidth=i;var s=this.updateHeight();this.realHeight=s;var o=e.toCoordinate,u=o(this.marginLeft,i),a=o(this.marginRight,i),f=o(this.marginTop,s)+this.getTitleHeight(),c=o(this.marginBottom,s),h,p,d,v=e.toNumber(this.labelRadius),m=this.measureMaxLabel();m>this.maxLabelWidth&&(m=this.maxLabelWidth),this.labelText&&this.labelsEnabled||(v=m=0),h=void 0===this.pieX?(i-u-a)/2+u:o(this.pieX,this.realWidth),p=void 0===this.pieY?(s-f-c)/2+f:o(this.pieY,s),d=o(this.radius,i,s),d||(i=0<=v?i-u-a-2*m:i-u-a,s=s-f-c,d=Math.min(i,s),s<i&&(d/=1-this.angle/90,d>i&&(d=i)),s=e.toCoordinate(this.pullOutRadius,d),d=(0<=v?d-1.8*(v+s):d-1.8*s)/2),d<this.minRadius&&(d=this.minRadius),s=o(this.pullOutRadius,d),f=e.toCoordinate(this.startRadius,d),o=o(this.innerRadius,d),o>=d&&(o=d-1),c=e.fitToBounds(this.startAngle,0,360),0<this.depth3D&&(c=270<=c?270:90),c-=90,360<c&&(c-=360),i=d-d*this.angle/90;for(u=m=0;u<t.length;u++)a=t[u],!0!==a.hidden&&(m+=e.roundTo(a.percents,this.pf.precision));m=e.roundTo(m,this.pf.precision),this.tempPrec=NaN,this.adjustPrecision&&100!=m&&(this.tempPrec=this.pf.precision+1);for(var g,u=0;u<t.length;u++)if(a=t[u],!0!==a.hidden&&(this.showZeroSlices||0!==a.percents)){var y=360*a.percents/100,m=Math.sin((c+y/2)/180*Math.PI),b=-Math.cos((c+y/2)/180*Math.PI)*(i/d),w=this.outlineColor;w||(w=a.color);var E=this.alpha;isNaN(a.alpha)||(E=a.alpha),w={fill:a.color,stroke:w,"stroke-width":this.outlineThickness,"stroke-opacity":this.outlineAlpha,"fill-opacity":E},a.url&&(w.cursor="pointer"),w=e.wedge(r,h,p,c,y,d,i,o,this.depth3D,w,this.gradientRatio,a.pattern,this.path),e.setCN(this,w,"pie-item"),e.setCN(this,w.wedge,"pie-slice"),e.setCN(this,w,a.className,!0),this.addEventListeners(w,a),a.startAngle=c,t[u].wedge=w,0<n&&(this.chartCreated||w.setAttr("opacity",this.startAlpha)),a.ix=m,a.iy=b,a.wedge=w,a.index=u,E=r.set();if(this.labelsEnabled&&this.labelText&&a.percents>=this.hideLabelsPercent){var S=c+y/2;0>S&&(S+=360),360<S&&(S-=360);var x=v;isNaN(a.labelRadius)||(x=a.labelRadius);var y=h+m*(d+x),T=p+b*(d+x),N,C=0;isNaN(g)&&350<S&&1<t.length-u&&(g=u-1+Math.floor((t.length-u)/2));if(0<=x){var k;90>=S&&0<=S?(k=0,N="start",C=8):90<=S&&180>S?(k=1,N="start",C=8):180<=S&&270>S?(k=2,N="end",C=-8):270<=S&&357>=S?(k=3,N="end",C=-8):357<=S&&(u>g?(k=0,N="start",C=8):(k=3,N="end",C=-8)),a.labelQuarter=k}else N="middle";S=this.formatString(this.labelText,a),(x=this.labelFunction)&&(S=x(a,S)),x=a.labelColor,x||(x=this.color);if(""!==S){S=e.wrappedText(r,S,x,this.fontFamily,this.fontSize,N,!1,this.maxLabelWidth),e.setCN(this,S,"pie-label"),e.setCN(this,S,a.className,!0),S.translate(y+1.5*C,T),S.node.style.pointerEvents="none",a.ty=T,a.textX=y+1.5*C;var x=S.getBBox(),L=e.rect(r,x.width+5,x.height+5,"#FFFFFF",.005);L.translate(y+1.5*C+x.x,T+x.y),a.hitRect=L,E.push(S),E.push(L),this.axesSet.push(E),a.labelSet=E,a.label=S}a.tx=y,a.tx2=y+C,a.tx0=h+m*d,a.ty0=p+b*d}y=o+(d-o)/2,a.pulled&&(y+=this.pullOutRadiusReal),a.balloonX=m*y+h,a.balloonY=b*y+p,a.startX=Math.round(m*f),a.startY=Math.round(b*f),a.pullX=Math.round(m*s),a.pullY=Math.round(b*s),this.graphsSet.push(w);if(0===a.alpha||0<n&&!this.chartCreated)w.hide(),E&&E.hide();c+=360*a.percents/100,360<c&&(c-=360)}0<v&&this.arrangeLabels(),this.pieXReal=h,this.pieYReal=p,this.radiusReal=d,this.innerRadiusReal=o,0<v&&this.drawTicks(),this.initialStart(),this.setDepths()}(t=this.legend)&&t.invalidateSize()}else this.cleanChart();this.dispDUpd()},setDepths:function(){var e=this.chartData,t;for(t=0;t<e.length;t++){var n=e[t],r=n.wedge,n=n.startAngle;0<=n&&180>n?r.toFront():180<=n&&r.toBack()}},arrangeLabels:function(){var e=this.chartData,t=e.length,n,r;for(r=t-1;0<=r;r--)n=e[r],0!==n.labelQuarter||n.hidden||this.checkOverlapping(r,n,0,!0,0);for(r=0;r<t;r++)n=e[r],1!=n.labelQuarter||n.hidden||this.checkOverlapping(r,n,1,!1,0);for(r=t-1;0<=r;r--)n=e[r],2!=n.labelQuarter||n.hidden||this.checkOverlapping(r,n,2,!0,0);for(r=0;r<t;r++)n=e[r],3!=n.labelQuarter||n.hidden||this.checkOverlapping(r,n,3,!1,0)},checkOverlapping:function(e,t,n,r,i){var s,o,u=this.chartData,a=u.length,f=t.label;if(f){if(!0===r)for(o=e+1;o<a;o++)u[o].labelQuarter==n&&(s=this.checkOverlappingReal(t,u[o],n))&&(o=a);else for(o=e-1;0<=o;o--)u[o].labelQuarter==n&&(s=this.checkOverlappingReal(t,u[o],n))&&(o=0);!0===s&&100>i&&isNaN(t.labelRadius)&&(s=t.ty+3*t.iy,t.ty=s,f.translate(t.textX,s),t.hitRect&&(f=f.getBBox(),t.hitRect.translate(t.tx2,s+f.y)),this.checkOverlapping(e,t,n,r,i+1))}},checkOverlappingReal:function(t,n,r){var i=!1,s=t.label,o=n.label;return t.labelQuarter!=r||t.hidden||n.hidden||!o||(s=s.getBBox(),r={},r.width=s.width,r.height=s.height,r.y=t.ty,r.x=t.tx,t=o.getBBox(),o={},o.width=t.width,o.height=t.height,o.y=n.ty,o.x=n.tx,e.hitTest(r,o)&&(i=!0)),i}})}(),define("amcharts.pie",["amcharts"],function(e){return function(){var t,n;return n=function(){AmCharts.isReady=!0},t=n.apply(e,arguments),t||e.AmCharts}}(this)),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Pie",["d3","../common/HTMLWidget","amcharts.pie","../api/I2DChart"],t):e.amchart_Pie=t(e.d3,e.common_HTMLWidget,e.AmCharts,e.api_I2DChart)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._chart={}}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_Pie",i.prototype.implements(r.prototype),i.prototype.publish("paletteID","default","set","Palette ID",i.prototype._palette.switch(),{tags:["Basic","Shared"]}),i.prototype.publish("fontFamily","Verdana","string","Label Font Family",null,{tags:["Basic","Shared"]}),i.prototype.publish("fontSize",11,"number","Label Font Size",null,{tags:["Basic","Shared"]}),i.prototype.publish("fontColor",null,"html-color","Label Font Color",null,{tags:["Basic","Shared"]}),i.prototype.publish("tooltipTemplate","[[title]]<br><span style='font-size:14px'><b>[[value]]</b> ([[percents]]%)</span>","string","Tooltip Text",null,{tags:["Intermediate"]}),i.prototype.publish("Depth3D",0,"number","3D Depth (px)",null,{tags:["Basic"]}),i.prototype.publish("Angle3D",0,"number","3D Angle (Deg)",null,{tags:["Basic"]}),i.prototype.publish("marginLeft",0,"number","Margin (Left)",null,{tags:["Intermediate"]}),i.prototype.publish("marginRight",0,"number","Margin (Right)",null,{tags:["Intermediate"]}),i.prototype.publish("marginTop",0,"number","Margin (Top)",null,{tags:["Intermediate"]}),i.prototype.publish("marginBottom",0,"number","Margin (Bottom)",null,{tags:["Intermediate"]}),i.prototype.publish("reverseDataSorting",!1,"boolean","Reverse Data Sorting",null,{tags:["Intermediate"]}),i.prototype.publish("holePercent",0,"number","Hole Size (Percent)",null,{tags:["Basic"]}),i.prototype.publish("radius",null,"number","Radius",null,{tags:["Basic"]}),i.prototype.publish("pieAlpha",[],"array","Individual Alpha per Slice",null,{tags:["Private"]}),i.prototype.publish("labelPosition","right","set","Label Position",["left","right"],{tags:["Intermediate"]}),i.prototype.publish("useClonedPalette",!1,"boolean","Enable or disable using a cloned palette",null,{tags:["Intermediate","Shared"]}),i.prototype.updateChartOptions=function(){var e=this;this._chart.type="pie",this._chart.radius=this.radius(),this._chart.balloonText=e.tooltipTemplate(),this._chart.labelPosition=this.labelPosition(),this.marginLeft()&&(this._chart.marginLeft=this.marginLeft()),this.marginRight()&&(this._chart.marginRight=this.marginRight()),this.marginTop()&&(this._chart.marginTop=this.marginTop()),this.marginBottom()&&(this._chart.marginBottom=this.marginBottom()),this._chart.depth3D=this.Depth3D(),this._chart.angle=this.Angle3D(),this._chart.innerRadius=this.holePercent()+"%",this._chart.fontFamily=this.fontFamily(),this._chart.fontSize=this.fontSize(),this._chart.fontSize=this.fontSize(),this._chart.color=this.fontColor(),this._chart.allLabels=[],this._chart.pieAlpha=this.pieAlpha(),this._chart.titleField=this._columns[0],this._chart.valueField=this._columns[1];var t;return this.reverseDataSorting()?t=function(e,t){return e[1]<t[1]?1:-1}:t=function(e,t){return e[1]>t[1]?1:-1},this._data=this._data.sort(t),this._chart.dataProvider=this.formatData(this._data),this._chart.colors=this._data.map(function(e){return this._palette(e[0])},this),this.pieAlpha().forEach(function(e,t){typeof this._chart.chartData[t]=="undefined"&&(this._chart.chartData[t]={}),this._chart.chartData[t].alpha=e},this),this._chart},i.prototype.formatData=function(e){var t=[],n=this;return e.forEach(function(e){var r={};n._columns.forEach(function(t,n){r[t]=e[n]}),t.push(r)}),t},i.prototype.columns=function(e){if(!arguments.length)return this._columns;var n=t.prototype.columns.apply(this,arguments),r=this;return arguments.length?(this._valueField=[],e.slice(1,e.length).forEach(function(e){r._valueField.push(e)}),this._columns=e,this):n},i.prototype.enter=function(e,r){t.prototype.enter.apply(this,arguments);var i=this,s={type:"pie",theme:"none"};this._chart=n.makeChart(e,s),this._chart.addListener("clickSlice",function(e){i.click(i.rowToObj(i._data[e.dataItem.index]))})},i.prototype.update=function(e,t){this._palette=this._palette.switch(this.paletteID()),this.useClonedPalette()&&(this._palette=this._palette.cloneNotExists(this.paletteID()+"_"+this.id())),e.style.width=this.size().width+"px",e.style.height=this.size().height+"px",this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},i}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Polar",["d3","./CommonRadar","amcharts.radar","../api/INDChart"],t):e.amchart_Polar=t(e.d3,e.amchart_CommonRadar,e.amcharts,e.api_INDChart)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._gType="column"}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_Polar",i.prototype.implements(r.prototype),i.prototype.publish("paletteID","default","set","Palette ID",i.prototype._palette.switch(),{tags:["Basic","Shared"]}),i.prototype.publish("tooltipTemplate","[[category]]([[title]]): [[value]]","string","Tooltip Text",null,{tags:["Intermediate"]}),i.prototype.testData=function(){return this.columns(["Subject","Year 1","Year 2","Year 3","Year 4"]),this.data([["English",5,43,41,92],["English II",7,43,83,93],["English III",6,43,64,93],["Geography",7,45,52,83],["Geography II",6,73,52,83],["Geography III",6,83,11,72],["Science",66,60,85,6],["Science II",46,20,53,7],["Science III",46,20,38,7],["Math",98,30,23,13],["Math II",76,30,34,6],["Math III",80,30,27,8]]),this.yAxisTitleOffset([20]),this.yAxisMinimum([0]),this.axisAlpha([.15]),this.yAxisDashLength([3]),this},i.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},i.prototype.updateChartOptions=function(){return t.prototype.updateChartOptions.apply(this,arguments),this.buildGraphs(this._gType),this._chart},i.prototype.buildGraphs=function(e){function a(e,t){return e.valueField=t,e}typeof this._chart.graphs=="undefined"&&(this._chart.graphs=[]);var n=this._chart.graphs.length,r=Math.max(n,this._valueField.length);for(var i=0;i<r;i++)if(typeof this._valueField!="undefined"&&typeof this._valueField[i]!="undefined"){var s=t.prototype.buildGraphObj.call(this,e,i),o=a.call(this,s,this._valueField[i]);if(typeof this._chart.graphs[i]!="undefined")for(var u in o)this._chart.graphs[i][u]=o[u];else this._chart.addGraph(o)}else this._chart.removeGraph(this._chart.graphs[i])},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},i}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Pyramid",["d3","./CommonFunnel","amcharts.funnel","../api/I2DChart"],t):e.amchart_Pyramid=t(e.d3,e.amchart_CommonFunnel,e.amcharts,e.api_I2DChart)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div"}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_Pyramid",i.prototype.implements(r.prototype),i.prototype.publish("paletteID","default","set","Palette ID",i.prototype._palette.switch(),{tags:["Basic","Shared"]}),i.prototype.publish("tooltipTemplate","[[category]]([[title]]): [[value]]","string","Tooltip Text",null,{tags:["Intermediate"]}),i.prototype.testData=function(){return this.columns(["Subject","Year 1"]),this.data([["Geography",75],["English",23],["Math",98],["Science",66]]),this},i.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},i.prototype.updateChartOptions=function(){t.prototype.updateChartOptions.apply(this,arguments)},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments)},i}),function(e,t){typeof define=="function"&&define.amd?define("src/amchart/Scatter",["d3","./CommonXY","amcharts.xy","../api/INDChart","css!./Bar"],t):e.amchart_Scatter=t(e.d3,e.amchart_CommonXY,e.amcharts,e.api_INDChart)}(this,function(e,t,n,r){function i(){t.call(this),this._tag="div",this._type="Scatter",this._gType="column"}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.prototype._class+=" amchart_Scatter",i.prototype.implements(r.prototype),i.prototype.publish("paletteID","default","set","Palette ID",i.prototype._palette.switch(),{tags:["Basic","Shared"]}),i.prototype.publish("tooltipTemplate","x:[[x]] y:[[y]]","string","Tooltip Text"),i.prototype.enter=function(e,n){t.prototype.enter.apply(this,arguments)},i.prototype.updateChartOptions=function(){return t.prototype.updateChartOptions.apply(this,arguments),this.buildGraphs(this._gType),this._chart},i.prototype.buildGraphs=function(e){function a(e){return e}typeof this._chart.graphs=="undefined"&&(this._chart.graphs=[]);var n=this._chart.graphs.length,r=Math.max(n,this._valueField.length);for(var i=0;i<r;i++)if(typeof this._valueField!="undefined"&&typeof this._valueField[i]!="undefined"){var s=t.prototype.buildGraphObj.call(this,e,i),o=a.call(this,s);if(typeof this._chart.graphs[i]!="undefined")for(var u in o)this._chart.graphs[i][u]=o[u];else this._chart.addGraph(o)}else this._chart.removeGraph(this._chart.graphs[i])},i.prototype.update=function(e,n){t.prototype.update.apply(this,arguments),this.updateChartOptions(),this._chart.validateNow(),this._chart.validateData()},i}),define("hpcc-viz-amchart",function(){});